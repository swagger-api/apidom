asyncapi: 3.0.0
info:
  title: Server Allowed Fields Test
  version: '1.0.0'
servers:
  production:
    # Valid - all allowed fields for AsyncAPI 3.0 Server Object
    host: 'api.example.com'
    protocol: https
    protocolVersion: '1.3'
    pathname: /v1
    description: Production server
    title: Production API
    summary: Main production server
    variables:
      port:
        default: '443'
    security:
      - apiKey: []
    tags:
      - name: production
    externalDocs:
      url: https://docs.example.com
    bindings:
      http: {}
    x-custom-extension: allowed
  invalid:
    host: 'test.example.com'
    protocol: https
    url: 'should not be allowed in AsyncAPI 3'
    notAllowedField: 'this should trigger error'
    anotherInvalid: 123
