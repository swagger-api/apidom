(function(){"use strict";/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),finalizer=Symbol("Comlink.finalizer"),throwMarker=Symbol("Comlink.thrown"),isObject$j=t=>typeof t=="object"&&t!==null||typeof t=="function",proxyTransferHandler={canHandle:t=>isObject$j(t)&&t[proxyMarker],serialize(t){const{port1:e,port2:s}=new MessageChannel;return expose(t,e),[s,[s]]},deserialize(t){return t.start(),wrap(t)}},throwTransferHandler={canHandle:t=>isObject$j(t)&&throwMarker in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function isAllowedOrigin(t,e){for(const s of t)if(e===s||s==="*"||s instanceof RegExp&&s.test(e))return!0;return!1}function expose(t,e=globalThis,s=["*"]){e.addEventListener("message",function r(n){if(!n||!n.data)return;if(!isAllowedOrigin(s,n.origin)){console.warn(`Invalid origin '${n.origin}' for comlink proxy`);return}const{id:o,type:a,path:c}=Object.assign({path:[]},n.data),u=(n.data.argumentList||[]).map(fromWireValue);let p;try{const d=c.slice(0,-1).reduce((h,g)=>h[g],t),m=c.reduce((h,g)=>h[g],t);switch(a){case"GET":p=m;break;case"SET":d[c.slice(-1)[0]]=fromWireValue(n.data.value),p=!0;break;case"APPLY":p=m.apply(d,u);break;case"CONSTRUCT":{const h=new m(...u);p=proxy(h)}break;case"ENDPOINT":{const{port1:h,port2:g}=new MessageChannel;expose(t,g),p=transfer(h,[h])}break;case"RELEASE":p=void 0;break;default:return}}catch(d){p={value:d,[throwMarker]:0}}Promise.resolve(p).catch(d=>({value:d,[throwMarker]:0})).then(d=>{const[m,h]=toWireValue(d);e.postMessage(Object.assign(Object.assign({},m),{id:o}),h),a==="RELEASE"&&(e.removeEventListener("message",r),closeEndPoint(e),finalizer in t&&typeof t[finalizer]=="function"&&t[finalizer]())}).catch(d=>{const[m,h]=toWireValue({value:new TypeError("Unserializable return value"),[throwMarker]:0});e.postMessage(Object.assign(Object.assign({},m),{id:o}),h)})}),e.start&&e.start()}function isMessagePort(t){return t.constructor.name==="MessagePort"}function closeEndPoint(t){isMessagePort(t)&&t.close()}function wrap(t,e){const s=new Map;return t.addEventListener("message",function(n){const{data:o}=n;if(!o||!o.id)return;const a=s.get(o.id);if(a)try{a(o)}finally{s.delete(o.id)}}),createProxy(t,s,[],e)}function throwIfProxyReleased(t){if(t)throw new Error("Proxy has been released and is not useable")}function releaseEndpoint(t){return requestResponseMessage(t,new Map,{type:"RELEASE"}).then(()=>{closeEndPoint(t)})}const proxyCounter=new WeakMap,proxyFinalizers="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(proxyCounter.get(t)||0)-1;proxyCounter.set(t,e),e===0&&releaseEndpoint(t)});function registerProxy(t,e){const s=(proxyCounter.get(e)||0)+1;proxyCounter.set(e,s),proxyFinalizers&&proxyFinalizers.register(t,e,t)}function unregisterProxy(t){proxyFinalizers&&proxyFinalizers.unregister(t)}function createProxy(t,e,s=[],r=function(){}){let n=!1;const o=new Proxy(r,{get(a,c){if(throwIfProxyReleased(n),c===releaseProxy)return()=>{unregisterProxy(o),releaseEndpoint(t),e.clear(),n=!0};if(c==="then"){if(s.length===0)return{then:()=>o};const u=requestResponseMessage(t,e,{type:"GET",path:s.map(p=>p.toString())}).then(fromWireValue);return u.then.bind(u)}return createProxy(t,e,[...s,c])},set(a,c,u){throwIfProxyReleased(n);const[p,d]=toWireValue(u);return requestResponseMessage(t,e,{type:"SET",path:[...s,c].map(m=>m.toString()),value:p},d).then(fromWireValue)},apply(a,c,u){throwIfProxyReleased(n);const p=s[s.length-1];if(p===createEndpoint)return requestResponseMessage(t,e,{type:"ENDPOINT"}).then(fromWireValue);if(p==="bind")return createProxy(t,e,s.slice(0,-1));const[d,m]=processArguments(u);return requestResponseMessage(t,e,{type:"APPLY",path:s.map(h=>h.toString()),argumentList:d},m).then(fromWireValue)},construct(a,c){throwIfProxyReleased(n);const[u,p]=processArguments(c);return requestResponseMessage(t,e,{type:"CONSTRUCT",path:s.map(d=>d.toString()),argumentList:u},p).then(fromWireValue)}});return registerProxy(o,t),o}function myFlat(t){return Array.prototype.concat.apply([],t)}function processArguments(t){const e=t.map(toWireValue);return[e.map(s=>s[0]),myFlat(e.map(s=>s[1]))]}const transferCache=new WeakMap;function transfer(t,e){return transferCache.set(t,e),t}function proxy(t){return Object.assign(t,{[proxyMarker]:!0})}function toWireValue(t){for(const[e,s]of transferHandlers)if(s.canHandle(t)){const[r,n]=s.serialize(t);return[{type:"HANDLER",name:e,value:r},n]}return[{type:"RAW",value:t},transferCache.get(t)||[]]}function fromWireValue(t){switch(t.type){case"HANDLER":return transferHandlers.get(t.name).deserialize(t.value);case"RAW":return t.value}}function requestResponseMessage(t,e,s,r){return new Promise(n=>{const o=generateUUID();e.set(o,n),t.start&&t.start(),t.postMessage(Object.assign({id:o},s),r)})}function generateUUID(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var F=function(){return!1},T=function(){return!0};function _isPlaceholder(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function _curry1(t){return function e(s){return arguments.length===0||_isPlaceholder(s)?e:t.apply(this,arguments)}}function _curry2(t){return function e(s,r){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(s)?e:_curry1(function(n){return t(s,n)});default:return _isPlaceholder(s)&&_isPlaceholder(r)?e:_isPlaceholder(s)?_curry1(function(n){return t(n,r)}):_isPlaceholder(r)?_curry1(function(n){return t(s,n)}):t(s,r)}}}function _concat(t,e){t=t||[],e=e||[];var s,r=t.length,n=e.length,o=[];for(s=0;s<r;)o[o.length]=t[s],s+=1;for(s=0;s<n;)o[o.length]=e[s],s+=1;return o}function _arity(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(s){return e.apply(this,arguments)};case 2:return function(s,r){return e.apply(this,arguments)};case 3:return function(s,r,n){return e.apply(this,arguments)};case 4:return function(s,r,n,o){return e.apply(this,arguments)};case 5:return function(s,r,n,o,a){return e.apply(this,arguments)};case 6:return function(s,r,n,o,a,c){return e.apply(this,arguments)};case 7:return function(s,r,n,o,a,c,u){return e.apply(this,arguments)};case 8:return function(s,r,n,o,a,c,u,p){return e.apply(this,arguments)};case 9:return function(s,r,n,o,a,c,u,p,d){return e.apply(this,arguments)};case 10:return function(s,r,n,o,a,c,u,p,d,m){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _curryN(t,e,s){return function(){for(var r=[],n=0,o=t,a=0,c=!1;a<e.length||n<arguments.length;){var u;a<e.length&&(!_isPlaceholder(e[a])||n>=arguments.length)?u=e[a]:(u=arguments[n],n+=1),r[a]=u,_isPlaceholder(u)?c=!0:o-=1,a+=1}return!c&&o<=0?s.apply(this,r):_arity(Math.max(0,o),_curryN(t,r,s))}}var curryN=_curry2(function(e,s){return e===1?_curry1(s):_arity(e,_curryN(e,[],s))});function _curry3(t){return function e(s,r,n){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(s)?e:_curry2(function(o,a){return t(s,o,a)});case 2:return _isPlaceholder(s)&&_isPlaceholder(r)?e:_isPlaceholder(s)?_curry2(function(o,a){return t(o,r,a)}):_isPlaceholder(r)?_curry2(function(o,a){return t(s,o,a)}):_curry1(function(o){return t(s,r,o)});default:return _isPlaceholder(s)&&_isPlaceholder(r)&&_isPlaceholder(n)?e:_isPlaceholder(s)&&_isPlaceholder(r)?_curry2(function(o,a){return t(o,a,n)}):_isPlaceholder(s)&&_isPlaceholder(n)?_curry2(function(o,a){return t(o,r,a)}):_isPlaceholder(r)&&_isPlaceholder(n)?_curry2(function(o,a){return t(s,o,a)}):_isPlaceholder(s)?_curry1(function(o){return t(o,r,n)}):_isPlaceholder(r)?_curry1(function(o){return t(s,o,n)}):_isPlaceholder(n)?_curry1(function(o){return t(s,r,o)}):t(s,r,n)}}}var _isArray=Array.isArray||function(e){return e!=null&&e.length>=0&&Object.prototype.toString.call(e)==="[object Array]"};function _isTransformer(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function _dispatchable(t,e,s){return function(){if(arguments.length===0)return s();var r=arguments[arguments.length-1];if(!_isArray(r)){for(var n=0;n<t.length;){if(typeof r[t[n]]=="function")return r[t[n]].apply(r,Array.prototype.slice.call(arguments,0,-1));n+=1}if(_isTransformer(r)){var o=e.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(r)}}return s.apply(this,arguments)}}function _reduced(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var _xfBase={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},XAll=function(){function t(e,s){this.xf=s,this.f=e,this.all=!0}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,s){return this.f(s)||(this.all=!1,e=_reduced(this.xf["@@transducer/step"](e,!1))),e},t}();function _xall(t){return function(e){return new XAll(t,e)}}var all=_curry2(_dispatchable(["all"],_xall,function(e,s){for(var r=0;r<s.length;){if(!e(s[r]))return!1;r+=1}return!0}));function _arrayFromIterator(t){for(var e=[],s;!(s=t.next()).done;)e.push(s.value);return e}function _includesWith(t,e,s){for(var r=0,n=s.length;r<n;){if(t(e,s[r]))return!0;r+=1}return!1}function _functionName(t){var e=String(t).match(/^function (\w*)/);return e==null?"":e[1]}function _has(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function _objectIs(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var _objectIs$1=typeof Object.is=="function"?Object.is:_objectIs,toString$9=Object.prototype.toString,_isArguments=function(){return toString$9.call(arguments)==="[object Arguments]"?function(e){return toString$9.call(e)==="[object Arguments]"}:function(e){return _has("callee",e)}}(),hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function(e,s){for(var r=0;r<e.length;){if(e[r]===s)return!0;r+=1}return!1},keys$3=_curry1(typeof Object.keys=="function"&&!hasArgsEnumBug?function(e){return Object(e)!==e?[]:Object.keys(e)}:function(e){if(Object(e)!==e)return[];var s,r,n=[],o=hasArgsEnumBug&&_isArguments(e);for(s in e)_has(s,e)&&(!o||s!=="length")&&(n[n.length]=s);if(hasEnumBug)for(r=nonEnumerableProps.length-1;r>=0;)s=nonEnumerableProps[r],_has(s,e)&&!contains(n,s)&&(n[n.length]=s),r-=1;return n}),type=_curry1(function(e){return e===null?"Null":e===void 0?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function _uniqContentEquals(t,e,s,r){var n=_arrayFromIterator(t),o=_arrayFromIterator(e);function a(c,u){return _equals(c,u,s.slice(),r.slice())}return!_includesWith(function(c,u){return!_includesWith(a,u,c)},o,n)}function _equals(t,e,s,r){if(_objectIs$1(t,e))return!0;var n=type(t);if(n!==type(e))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof e["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e)&&typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof e.equals=="function")return typeof t.equals=="function"&&t.equals(e)&&typeof e.equals=="function"&&e.equals(t);switch(n){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&_functionName(t.constructor)==="Promise")return t===e;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof e&&_objectIs$1(t.valueOf(),e.valueOf())))return!1;break;case"Date":if(!_objectIs$1(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(!(t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline&&t.sticky===e.sticky&&t.unicode===e.unicode))return!1;break}for(var o=s.length-1;o>=0;){if(s[o]===t)return r[o]===e;o-=1}switch(n){case"Map":return t.size!==e.size?!1:_uniqContentEquals(t.entries(),e.entries(),s.concat([t]),r.concat([e]));case"Set":return t.size!==e.size?!1:_uniqContentEquals(t.values(),e.values(),s.concat([t]),r.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=keys$3(t);if(a.length!==keys$3(e).length)return!1;var c=s.concat([t]),u=r.concat([e]);for(o=a.length-1;o>=0;){var p=a[o];if(!(_has(p,e)&&_equals(e[p],t[p],c,u)))return!1;o-=1}return!0}var equals=_curry2(function(e,s){return _equals(e,s,[],[])});function _indexOf(t,e,s){var r,n;if(typeof t.indexOf=="function")switch(typeof e){case"number":if(e===0){for(r=1/e;s<t.length;){if(n=t[s],n===0&&1/n===r)return s;s+=1}return-1}else if(e!==e){for(;s<t.length;){if(n=t[s],typeof n=="number"&&n!==n)return s;s+=1}return-1}return t.indexOf(e,s);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,s);case"object":if(e===null)return t.indexOf(e,s)}for(;s<t.length;){if(equals(t[s],e))return s;s+=1}return-1}function _includes(t,e){return _indexOf(e,t,0)>=0}function _map(t,e){for(var s=0,r=e.length,n=Array(r);s<r;)n[s]=t(e[s]),s+=1;return n}function _quote(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var pad=function(e){return(e<10?"0":"")+e},_toISOString=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+pad(e.getUTCMonth()+1)+"-"+pad(e.getUTCDate())+"T"+pad(e.getUTCHours())+":"+pad(e.getUTCMinutes())+":"+pad(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function _complement(t){return function(){return!t.apply(this,arguments)}}function _arrayReduce(t,e,s){for(var r=0,n=s.length;r<n;)e=t(e,s[r]),r+=1;return e}function _filter(t,e){for(var s=0,r=e.length,n=[];s<r;)t(e[s])&&(n[n.length]=e[s]),s+=1;return n}function _isObject(t){return Object.prototype.toString.call(t)==="[object Object]"}var XFilter=function(){function t(e,s){this.xf=s,this.f=e}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(e,s){return this.f(s)?this.xf["@@transducer/step"](e,s):e},t}();function _xfilter(t){return function(e){return new XFilter(t,e)}}var filter$2=_curry2(_dispatchable(["fantasy-land/filter","filter"],_xfilter,function(t,e){return _isObject(e)?_arrayReduce(function(s,r){return t(e[r])&&(s[r]=e[r]),s},{},keys$3(e)):_filter(t,e)})),reject=_curry2(function(e,s){return filter$2(_complement(e),s)});function _toString(t,e){var s=function(a){var c=e.concat([t]);return _includes(a,c)?"<Circular>":_toString(a,c)},r=function(o,a){return _map(function(c){return _quote(c)+": "+s(o[c])},a.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+_map(s,t).join(", ")+"))";case"[object Array]":return"["+_map(s,t).concat(r(t,reject(function(o){return/^\d+$/.test(o)},keys$3(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+s(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?s(NaN):_quote(_toISOString(t)))+")";case"[object Map]":return"new Map("+s(Array.from(t))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+s(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object Set]":return"new Set("+s(Array.from(t).sort())+")";case"[object String]":return typeof t=="object"?"new String("+s(t.valueOf())+")":_quote(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var n=t.toString();if(n!=="[object Object]")return n}return"{"+r(t,keys$3(t)).join(", ")+"}"}}var toString$8=_curry1(function(e){return _toString(e,[])}),max$1=_curry2(function(e,s){if(e===s)return s;function r(u,p){if(u>p!=p>u)return p>u?p:u}var n=r(e,s);if(n!==void 0)return n;var o=r(typeof e,typeof s);if(o!==void 0)return o===typeof e?e:s;var a=toString$8(e),c=r(a,toString$8(s));return c!==void 0&&c===a?e:s}),XMap=function(){function t(e,s){this.xf=s,this.f=e}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(e,s){return this.xf["@@transducer/step"](e,this.f(s))},t}(),_xmap=function(e){return function(s){return new XMap(e,s)}},map=_curry2(_dispatchable(["fantasy-land/map","map"],_xmap,function(e,s){switch(Object.prototype.toString.call(s)){case"[object Function]":return curryN(s.length,function(){return e.call(this,s.apply(this,arguments))});case"[object Object]":return _arrayReduce(function(r,n){return r[n]=e(s[n]),r},{},keys$3(s));default:return _map(e,s)}})),_isInteger=Number.isInteger||function(e){return e<<0===e};function _isString(t){return Object.prototype.toString.call(t)==="[object String]"}function _nth(t,e){var s=t<0?e.length+t:t;return _isString(e)?e.charAt(s):e[s]}var prop=_curry2(function(e,s){if(s!=null)return _isInteger(e)?_nth(e,s):s[e]}),pluck=_curry2(function(e,s){return map(prop(e),s)}),_isArrayLike=_curry1(function(e){return _isArray(e)?!0:!e||typeof e!="object"||_isString(e)?!1:e.length===0?!0:e.length>0?e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1):!1}),symIterator=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function _createReduce(t,e,s){return function(n,o,a){if(_isArrayLike(a))return t(n,o,a);if(a==null)return o;if(typeof a["fantasy-land/reduce"]=="function")return e(n,o,a,"fantasy-land/reduce");if(a[symIterator]!=null)return s(n,o,a[symIterator]());if(typeof a.next=="function")return s(n,o,a);if(typeof a.reduce=="function")return e(n,o,a,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function _xArrayReduce(t,e,s){for(var r=0,n=s.length;r<n;){if(e=t["@@transducer/step"](e,s[r]),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r+=1}return t["@@transducer/result"](e)}var bind$4=_curry2(function(e,s){return _arity(e.length,function(){return e.apply(s,arguments)})});function _xIterableReduce(t,e,s){for(var r=s.next();!r.done;){if(e=t["@@transducer/step"](e,r.value),e&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}r=s.next()}return t["@@transducer/result"](e)}function _xMethodReduce(t,e,s,r){return t["@@transducer/result"](s[r](bind$4(t["@@transducer/step"],t),e))}var _xReduce=_createReduce(_xArrayReduce,_xMethodReduce,_xIterableReduce),XWrap=function(){function t(e){this.f=e}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(e){return e},t.prototype["@@transducer/step"]=function(e,s){return this.f(e,s)},t}();function _xwrap(t){return new XWrap(t)}var reduce=_curry3(function(t,e,s){return _xReduce(typeof t=="function"?_xwrap(t):t,e,s)}),allPass=_curry1(function(e){return curryN(reduce(max$1,0,pluck("length",e)),function(){for(var s=0,r=e.length;s<r;){if(!e[s].apply(this,arguments))return!1;s+=1}return!0})}),always=_curry1(function(e){return function(){return e}}),and=_curry2(function(e,s){return e&&s}),anyPass=_curry1(function(e){return curryN(reduce(max$1,0,pluck("length",e)),function(){for(var s=0,r=e.length;s<r;){if(e[s].apply(this,arguments))return!0;s+=1}return!1})});function _iterableReduce(t,e,s){for(var r=s.next();!r.done;)e=t(e,r.value),r=s.next();return e}function _methodReduce(t,e,s,r){return s[r](t,e)}var _reduce=_createReduce(_arrayReduce,_methodReduce,_iterableReduce),ap=_curry2(function(e,s){return typeof s["fantasy-land/ap"]=="function"?s["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(s):typeof e=="function"?function(r){return e(r)(s(r))}:_reduce(function(r,n){return _concat(r,map(n,s))},[],e)}),apply$4=_curry2(function(e,s){return e.apply(this,s)}),curry=_curry1(function(e){return curryN(e.length,e)});function _assoc(t,e,s){if(_isInteger(t)&&_isArray(s)){var r=[].concat(s);return r[t]=e,r}var n={};for(var o in s)n[o]=s[o];return n[t]=e,n}var isNil=_curry1(function(e){return e==null}),assocPath=_curry3(function t(e,s,r){if(e.length===0)return s;var n=e[0];if(e.length>1){var o=!isNil(r)&&_has(n,r)&&typeof r[n]=="object"?r[n]:_isInteger(e[1])?[]:{};s=t(Array.prototype.slice.call(e,1),s,o)}return _assoc(n,s,r)}),assoc=_curry3(function(e,s,r){return assocPath([e],s,r)});function _isFunction(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var liftN=_curry2(function(e,s){var r=curryN(e,s);return curryN(e,function(){return _arrayReduce(ap,map(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),lift=_curry1(function(e){return liftN(e.length,e)}),both=_curry2(function(e,s){return _isFunction(e)?function(){return e.apply(this,arguments)&&s.apply(this,arguments)}:lift(and)(e,s)});function _cloneRegExp(t){return new RegExp(t.source,t.flags?t.flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":"")+(t.dotAll?"s":""))}function _clone(t,e,s){if(s||(s=new _ObjectMap),_isPrimitive(t))return t;var r=function(o){var a=s.get(t);if(a)return a;s.set(t,o);for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(o[c]=_clone(t[c],!0,s));return o};switch(type(t)){case"Object":return r(Object.create(Object.getPrototypeOf(t)));case"Array":return r(Array(t.length));case"Date":return new Date(t.valueOf());case"RegExp":return _cloneRegExp(t);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}function _isPrimitive(t){var e=typeof t;return t==null||e!="object"&&e!="function"}var _ObjectMap=function(){function t(){this.map={},this.length=0}return t.prototype.set=function(e,s){var r=this.hash(e),n=this.map[r];n||(this.map[r]=n=[]),n.push([e,s]),this.length+=1},t.prototype.hash=function(e){var s=[];for(var r in e)s.push(Object.prototype.toString.call(e[r]));return s.join()},t.prototype.get=function(e){if(this.length<=180){for(var s in this.map)for(var a=this.map[s],r=0;r<a.length;r+=1){var n=a[r];if(n[0]===e)return n[1]}return}var o=this.hash(e),a=this.map[o];if(a)for(var r=0;r<a.length;r+=1){var n=a[r];if(n[0]===e)return n[1]}},t}(),clone=_curry1(function(e){return e!=null&&typeof e.clone=="function"?e.clone():_clone(e)}),comparator=_curry1(function(e){return function(s,r){return e(s,r)?-1:e(r,s)?1:0}}),not=_curry1(function(e){return!e}),complement=lift(not);function _pipe(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function _checkForMethod(t,e){return function(){var s=arguments.length;if(s===0)return e();var r=arguments[s-1];return _isArray(r)||typeof r[t]!="function"?e.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,s-1))}}var slice=_curry3(_checkForMethod("slice",function(e,s,r){return Array.prototype.slice.call(r,e,s)})),tail=_curry1(_checkForMethod("tail",slice(1,1/0)));function pipe(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return _arity(arguments[0].length,reduce(_pipe,arguments[0],tail(arguments)))}var reverse=_curry1(function(e){return _isString(e)?e.split("").reverse().join(""):Array.prototype.slice.call(e,0).reverse()});function compose(){if(arguments.length===0)throw new Error("compose requires at least one argument");return pipe.apply(this,reverse(arguments))}var head=_curry1(function(t){return _nth(0,t)});function _identity(t){return t}var identity=_curry1(_identity),concat$1=_curry2(function(e,s){if(_isArray(e)){if(_isArray(s))return e.concat(s);throw new TypeError(toString$8(s)+" is not an array")}if(_isString(e)){if(_isString(s))return e+s;throw new TypeError(toString$8(s)+" is not a string")}if(e!=null&&_isFunction(e["fantasy-land/concat"]))return e["fantasy-land/concat"](s);if(e!=null&&_isFunction(e.concat))return e.concat(s);throw new TypeError(toString$8(e)+' does not have a method named "concat" or "fantasy-land/concat"')}),converge=_curry2(function(e,s){return curryN(reduce(max$1,0,pluck("length",s)),function(){var r=arguments,n=this;return e.apply(n,_map(function(o){return o.apply(n,r)},s))})}),defaultTo=_curry2(function(e,s){return s==null||s!==s?e:s}),_Set$1=function(){function t(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return t.prototype.add=function(e){return!hasOrAdd(e,!0,this)},t.prototype.has=function(e){return hasOrAdd(e,!1,this)},t}();function hasOrAdd(t,e,s){var r=typeof t,n,o;switch(r){case"string":case"number":return t===0&&1/t===-1/0?s._items["-0"]?!0:(e&&(s._items["-0"]=!0),!1):s._nativeSet!==null?e?(n=s._nativeSet.size,s._nativeSet.add(t),o=s._nativeSet.size,o===n):s._nativeSet.has(t):r in s._items?t in s._items[r]?!0:(e&&(s._items[r][t]=!0),!1):(e&&(s._items[r]={},s._items[r][t]=!0),!1);case"boolean":if(r in s._items){var a=t?1:0;return s._items[r][a]?!0:(e&&(s._items[r][a]=!0),!1)}else return e&&(s._items[r]=t?[!1,!0]:[!0,!1]),!1;case"function":return s._nativeSet!==null?e?(n=s._nativeSet.size,s._nativeSet.add(t),o=s._nativeSet.size,o===n):s._nativeSet.has(t):r in s._items?_includes(t,s._items[r])?!0:(e&&s._items[r].push(t),!1):(e&&(s._items[r]=[t]),!1);case"undefined":return s._items[r]?!0:(e&&(s._items[r]=!0),!1);case"object":if(t===null)return s._items.null?!0:(e&&(s._items.null=!0),!1);default:return r=Object.prototype.toString.call(t),r in s._items?_includes(t,s._items[r])?!0:(e&&s._items[r].push(t),!1):(e&&(s._items[r]=[t]),!1)}}var difference=_curry2(function(e,s){for(var r=[],n=0,o=e.length,a=s.length,c=new _Set$1,u=0;u<a;u+=1)c.add(s[u]);for(;n<o;)c.add(e[n])&&(r[r.length]=e[n]),n+=1;return r}),remove=_curry3(function(e,s,r){var n=Array.prototype.slice.call(r,0);return n.splice(e,s),n});function _dissoc(t,e){if(e==null)return e;if(_isInteger(t)&&_isArray(e))return remove(t,1,e);var s={};for(var r in e)s[r]=e[r];return delete s[t],s}function _shallowCloneObject(t,e){if(_isInteger(t)&&_isArray(e))return[].concat(e);var s={};for(var r in e)s[r]=e[r];return s}var dissocPath=_curry2(function t(e,s){if(s==null)return s;switch(e.length){case 0:return s;case 1:return _dissoc(e[0],s);default:var r=e[0],n=Array.prototype.slice.call(e,1);return s[r]==null?_shallowCloneObject(r,s):assoc(r,t(n,s[r]),s)}}),XTake=function(){function t(e,s){this.xf=s,this.n=e,this.i=0}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(e,s){this.i+=1;var r=this.n===0?e:this.xf["@@transducer/step"](e,s);return this.n>=0&&this.i>=this.n?_reduced(r):r},t}();function _xtake(t){return function(e){return new XTake(t,e)}}var take=_curry2(_dispatchable(["take"],_xtake,function(e,s){return slice(0,e<0?1/0:e,s)}));function dropLastWhile$1(t,e){for(var s=e.length-1;s>=0&&t(e[s]);)s-=1;return slice(0,s+1,e)}var XDropLastWhile=function(){function t(e,s){this.f=e,this.retained=[],this.xf=s}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,s){return this.f(s)?this.retain(e,s):this.flush(e,s)},t.prototype.flush=function(e,s){return e=_xReduce(this.xf,e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,s)},t.prototype.retain=function(e,s){return this.retained.push(s),e},t}();function _xdropLastWhile(t){return function(e){return new XDropLastWhile(t,e)}}var dropLastWhile=_curry2(_dispatchable([],_xdropLastWhile,dropLastWhile$1)),last=_curry1(function(t){return _nth(-1,t)}),XDropWhile=function(){function t(e,s){this.xf=s,this.f=e}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(e,s){if(this.f){if(this.f(s))return e;this.f=null}return this.xf["@@transducer/step"](e,s)},t}();function _xdropWhile(t){return function(e){return new XDropWhile(t,e)}}var dropWhile=_curry2(_dispatchable(["dropWhile"],_xdropWhile,function(e,s){for(var r=0,n=s.length;r<n&&e(s[r]);)r+=1;return slice(r,1/0,s)})),or=_curry2(function(e,s){return e||s}),either=_curry2(function(e,s){return _isFunction(e)?function(){return e.apply(this,arguments)||s.apply(this,arguments)}:lift(or)(e,s)});function _isTypedArray(t){var e=Object.prototype.toString.call(t);return e==="[object Uint8ClampedArray]"||e==="[object Int8Array]"||e==="[object Uint8Array]"||e==="[object Int16Array]"||e==="[object Uint16Array]"||e==="[object Int32Array]"||e==="[object Uint32Array]"||e==="[object Float32Array]"||e==="[object Float64Array]"||e==="[object BigInt64Array]"||e==="[object BigUint64Array]"}var empty=_curry1(function(e){return e!=null&&typeof e["fantasy-land/empty"]=="function"?e["fantasy-land/empty"]():e!=null&&e.constructor!=null&&typeof e.constructor["fantasy-land/empty"]=="function"?e.constructor["fantasy-land/empty"]():e!=null&&typeof e.empty=="function"?e.empty():e!=null&&e.constructor!=null&&typeof e.constructor.empty=="function"?e.constructor.empty():_isArray(e)?[]:_isString(e)?"":_isObject(e)?{}:_isArguments(e)?function(){return arguments}():_isTypedArray(e)?e.constructor.from(""):void 0}),flip=_curry1(function(e){return curryN(e.length,function(s,r){var n=Array.prototype.slice.call(arguments,0);return n[0]=r,n[1]=s,e.apply(this,n)})}),gt=_curry2(function(e,s){return e>s}),hasPath=_curry2(function(e,s){if(e.length===0||isNil(s))return!1;for(var r=s,n=0;n<e.length;)if(!isNil(r)&&_has(e[n],r))r=r[e[n]],n+=1;else return!1;return!0}),has$1=_curry2(function(e,s){return hasPath([e],s)}),identical=function(t,e){switch(arguments.length){case 0:return identical;case 1:return function(){return function s(r){switch(arguments.length){case 0:return s;default:return _objectIs$1(t,r)}}}();default:return _objectIs$1(t,e)}},ifElse=_curry3(function(e,s,r){return curryN(Math.max(e.length,s.length,r.length),function(){return e.apply(this,arguments)?s.apply(this,arguments):r.apply(this,arguments)})}),includes=_curry2(_includes),init=slice(0,-1);function _objectAssign(t){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),s=1,r=arguments.length;s<r;){var n=arguments[s];if(n!=null)for(var o in n)_has(o,n)&&(e[o]=n[o]);s+=1}return e}var _objectAssign$1=typeof Object.assign=="function"?Object.assign:_objectAssign,invoker=_curry2(function(e,s){return curryN(e+1,function(){var r=arguments[e];if(r!=null&&_isFunction(r[s]))return r[s].apply(r,Array.prototype.slice.call(arguments,0,e));throw new TypeError(toString$8(r)+' does not have a method named "'+s+'"')})}),isEmpty=_curry1(function(e){return e!=null&&equals(e,empty(e))}),isNotEmpty=_curry1(function(e){return!isEmpty(e)}),join=invoker(1,"join");function _isNumber(t){return Object.prototype.toString.call(t)==="[object Number]"}var lens=_curry2(function(e,s){return function(r){return function(n){return map(function(o){return s(o,n)},r(e(n)))}}});function _path(t,e){for(var s=e,r=0;r<t.length;r+=1){if(s==null)return;var n=t[r];_isInteger(n)?s=_nth(n,s):s=s[n]}return s}var mapObjIndexed=_curry2(function(e,s){return _arrayReduce(function(r,n){return r[n]=e(s[n],n,s),r},{},keys$3(s))}),mergeWithKey=_curry3(function(e,s,r){var n={},o;s=s||{},r=r||{};for(o in s)_has(o,s)&&(n[o]=_has(o,r)?e(o,s[o],r[o]):s[o]);for(o in r)_has(o,r)&&!_has(o,n)&&(n[o]=r[o]);return n}),mergeDeepWithKey=_curry3(function t(e,s,r){return mergeWithKey(function(n,o,a){return _isObject(o)&&_isObject(a)?t(e,o,a):e(n,o,a)},s,r)}),mergeDeepRight=_curry2(function(e,s){return mergeDeepWithKey(function(r,n,o){return o},e,s)}),mergeRight=_curry2(function(e,s){return _objectAssign$1({},e,s)}),none=_curry2(function(e,s){return all(_complement(e),s)}),of=_curry2(function(e,s){return typeof e["fantasy-land/of"]=="function"?e["fantasy-land/of"](s):typeof e.of=="function"?e.of(s):[s]}),omit=_curry2(function(e,s){for(var r={},n={},o=0,a=e.length;o<a;)n[e[o]]=1,o+=1;for(var c in s)n.hasOwnProperty(c)||(r[c]=s[c]);return r}),Identity=function(t){return{value:t,map:function(e){return Identity(e(t))}}},over=_curry3(function(e,s,r){return e(function(n){return Identity(s(n))})(r).value}),path$4=_curry2(_path),pathOr=_curry3(function(e,s,r){return defaultTo(e,_path(s,r))}),pathSatisfies=_curry3(function(e,s,r){return e(_path(s,r))}),pick=_curry2(function(e,s){for(var r={},n=0;n<e.length;)e[n]in s&&(r[e[n]]=s[e[n]]),n+=1;return r}),propEq=_curry3(function(e,s,r){return equals(e,prop(s,r))}),propOr=_curry3(function(e,s,r){return defaultTo(e,prop(s,r))}),propSatisfies=_curry3(function(e,s,r){return e(prop(s,r))}),range=_curry2(function(e,s){if(!(_isNumber(e)&&_isNumber(s)))throw new TypeError("Both arguments to range must be numbers");for(var r=Array(e<s?s-e:0),n=e<0?s+Math.abs(e):s-e,o=0;o<n;)r[o]=o+e,o+=1;return r}),reduced=_curry1(_reduced),replace$1=_curry3(function(e,s,r){return r.replace(e,s)}),sort=_curry2(function(e,s){return Array.prototype.slice.call(s,0).sort(e)}),split$1=invoker(1,"split"),startsWith=_curry2(function(t,e){return equals(take(t.length,e),t)});function _isRegExp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}var test$2=_curry2(function(e,s){if(!_isRegExp(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+toString$8(e));return _cloneRegExp(e).test(s)}),transduce=curryN(4,function(e,s,r,n){return _xReduce(e(typeof s=="function"?_xwrap(s):s),r,n)}),ws=`	
\v\f\r                　\u2028\u2029\uFEFF`,zeroWidth="​",hasProtoTrim=typeof String.prototype.trim=="function",trim$1=_curry1(!hasProtoTrim||ws.trim()||!zeroWidth.trim()?function(e){var s=new RegExp("^["+ws+"]["+ws+"]*"),r=new RegExp("["+ws+"]["+ws+"]*$");return e.replace(s,"").replace(r,"")}:function(e){return e.trim()}),when=_curry3(function(e,s,r){return e(r)?s(r):r}),stubUndefined=always(void 0),isUndefined$1=equals(stubUndefined()),isNotUndefined=complement(isUndefined$1),isNull$3=equals(null),isNotNull=complement(isNull$3),isNotNil=complement(isNil),isGeneratorFunction=curryN(1,pipe(type,identical("GeneratorFunction"))),isAsyncFunction=curryN(1,pipe(type,identical("AsyncFunction"))),isFunction$4=anyPass([pipe(type,identical("Function")),isGeneratorFunction,isAsyncFunction]),isArray$7=curryN(1,isFunction$4(Array.isArray)?Array.isArray:pipe(type,identical("Array"))),isEmptyArray=both(isArray$7,isEmpty),isNotArray=complement(isArray$7),isNonEmptyArray=both(isArray$7,isNotEmpty),isString$4=curryN(1,pipe(type,identical("String"))),isEmptyString=equals("");function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var isOfTypeObject=function(e){return _typeof(e)==="object"},isObj=curryN(1,both(isNotNull,either(isOfTypeObject,isFunction$4))),isNotObj=complement(isObj),isNonEmptyString=allPass([isString$4,isNotObj,isNotEmpty]),isNotFunction=complement(isFunction$4),isObjLike=curryN(1,both(isNotNull,isOfTypeObject)),isObject$i=pipe(type,identical("Object")),isObjectConstructor=pipe(toString$8,equals(toString$8(Object))),hasObjectConstructor=pathSatisfies(both(isFunction$4,isObjectConstructor),["constructor"]),isPlainObj=curryN(1,function(t){if(!isObjLike(t)||!isObject$i(t))return!1;var e=Object.getPrototypeOf(t);return isNull$3(e)?!0:hasObjectConstructor(e)}),isNumber$4=curryN(1,pipe(type,identical("Number"))),isNegative=curryN(1,both(isNumber$4,gt(0))),isFinitePonyfill$1=both(isNumber$4,isFinite),isFinitePonyfill=curryN(1,isFinitePonyfill$1),_isFinite=isFunction$4(Number.isFinite)?curryN(1,bind$4(Number.isFinite,Number)):isFinitePonyfill,isNotFinite=complement(_isFinite),isIntegerPonyfill$1=both(_isFinite,converge(equals,[Math.floor,identity])),isIntegerPonyfill=curryN(1,isIntegerPonyfill$1),isInteger=isFunction$4(Number.isInteger)?curryN(1,bind$4(Number.isInteger,Number)):isIntegerPonyfill,isRegExp$1=curryN(1,pipe(type,identical("RegExp")));function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var s={}.toString.call(t).slice(8,-1);return s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set"?Array.from(t):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,r=Array(e);s<e;s++)r[s]=t[s];return r}var byArity=comparator(function(t,e){return t.length>e.length}),getMaxArity=pipe(sort(byArity),head,prop("length")),iteratorFn=curry(function(t,e,s){var r=s.apply(void 0,_toConsumableArray(t));return isNotNil(r)?reduced(r):e}),dispatchImpl=function(e){var s=getMaxArity(e);return curryN(s,function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return reduce(iteratorFn(n),void 0,e)})},dispatch=ifElse(isNonEmptyArray,dispatchImpl,stubUndefined),ensureArray=when(isNotArray,of(Array)),concatRight=flip(concat$1),included=flip(includes),repeat=function(e,s){var r=Number(s);if(r!==s&&(r=0),isNegative(r))throw new RangeError("repeat count must be non-negative");if(isNotFinite(r))throw new RangeError("repeat count must be less than infinity");if(r=Math.floor(r),e.length===0||r===0)return"";if(e.length*r>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var n=e.length*r;r=Math.floor(Math.log(r)/Math.log(2));for(var o=e;r;)o+=e,r-=1;return o+=o.substring(0,n-o.length),o},repeatStrPonyfill=curry(repeat),repeatStrInvoker=flip(invoker(1,"repeat")),repeatStr=isFunction$4(String.prototype.repeat)?repeatStrInvoker:repeatStrPonyfill,invokeArgs=curryN(3,function(t,e,s){var r=path$4(t,s),n=path$4(init(t),s);if(!isNotFunction(r)&&!isEmptyArray(t)){var o=bind$4(r,n);return apply$4(o,e)}}),escapeRegExp=when(isString$4,replace$1(/[.*+?^${}()|[\]\\-]/g,"\\$&")),checkArguments=function(e,s,r){if(r==null||e==null||s==null)throw TypeError("Input values must not be `null` or `undefined`")},checkValue=function(e,s){if(typeof e!="string"&&!(e instanceof String))throw TypeError("`".concat(s,"` must be a string"))},checkSearchValue=function(e){if(typeof e!="string"&&!(e instanceof String)&&!(e instanceof RegExp))throw TypeError("`searchValue` must be a string or an regexp")},replaceAll$1=function(e,s,r){checkArguments(e,s,r),checkValue(r,"str"),checkValue(s,"replaceValue"),checkSearchValue(e);var n=new RegExp(isRegExp$1(e)?e:escapeRegExp(e),"g");return replace$1(n,s,r)},replaceAllPonyfill=curryN(3,replaceAll$1),replaceAllInvoker=invoker(2,"replaceAll"),replaceAll=isFunction$4(String.prototype.replaceAll)?replaceAllInvoker:replaceAllPonyfill,trimStart$2=replace$1(/^[\s\uFEFF\xA0]+/,""),trimStartPonyfill=trimStart$2,trimStartInvoker=invoker(0,"trimStart"),trimStart$1=isFunction$4(String.prototype.trimStart)?trimStartInvoker:trimStartPonyfill,trimStart=replace$1(/[\s\uFEFF\xA0]+$/,""),trimEndPonyfill=trimStart,trimEndInvoker=invoker(0,"trimEnd"),trimEnd=isFunction$4(String.prototype.trimEnd)?trimEndInvoker:trimEndPonyfill,trimCharsEnd=curry(function(t,e){return pipe(split$1(""),dropLastWhile(included(t)),join(""))(e)}),trimCharsStart=curry(function(t,e){return pipe(split$1(""),dropWhile(included(t)),join(""))(e)}),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}function isNull$2(t){return t===null}var isNull_1=isNull$2,freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,Symbol$5=root$7.Symbol,_Symbol=Symbol$5,Symbol$4=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$4?Symbol$4.toStringTag:void 0;function getRawTag$1(t){var e=hasOwnProperty$a.call(t,symToStringTag$1),s=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var r=!0}catch{}var n=nativeObjectToString$1.call(t);return r&&(e?t[symToStringTag$1]=s:delete t[symToStringTag$1]),n}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$2(t){return nativeObjectToString.call(t)}var _objectToString=objectToString$2,Symbol$3=_Symbol,getRawTag=_getRawTag,objectToString$1=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$3?Symbol$3.toStringTag:void 0;function baseGetTag$7(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString$1(t)}var _baseGetTag=baseGetTag$7,isArray$6=Array.isArray,isArray_1=isArray$6;function isObjectLike$7(t){return t!=null&&typeof t=="object"}var isObjectLike_1=isObjectLike$7,baseGetTag$6=_baseGetTag,isArray$5=isArray_1,isObjectLike$6=isObjectLike_1,stringTag$2="[object String]";function isString$3(t){return typeof t=="string"||!isArray$5(t)&&isObjectLike$6(t)&&baseGetTag$6(t)==stringTag$2}var isString_1=isString$3,baseGetTag$5=_baseGetTag,isObjectLike$5=isObjectLike_1,numberTag$2="[object Number]";function isNumber$3(t){return typeof t=="number"||isObjectLike$5(t)&&baseGetTag$5(t)==numberTag$2}var isNumber_1=isNumber$3,baseGetTag$4=_baseGetTag,isObjectLike$4=isObjectLike_1,boolTag$2="[object Boolean]";function isBoolean$2(t){return t===!0||t===!1||isObjectLike$4(t)&&baseGetTag$4(t)==boolTag$2}var isBoolean_1=isBoolean$2;function isObject$h(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var isObject_1=isObject$h;let JSONSerialiser$1=class{constructor(e){this.namespace=e||new this.Namespace}serialise(e){if(!(e instanceof this.namespace.elements.Element))throw new TypeError(`Given element \`${e}\` is not an Element instance`);const s={element:e.element};e._meta&&e._meta.length>0&&(s.meta=this.serialiseObject(e.meta)),e._attributes&&e._attributes.length>0&&(s.attributes=this.serialiseObject(e.attributes));const r=this.serialiseContent(e.content);return r!==void 0&&(s.content=r),s}deserialise(e){if(!e.element)throw new Error("Given value is not an object containing an element name");const s=this.namespace.getElementClass(e.element),r=new s;r.element!==e.element&&(r.element=e.element),e.meta&&this.deserialiseObject(e.meta,r.meta),e.attributes&&this.deserialiseObject(e.attributes,r.attributes);const n=this.deserialiseContent(e.content);return(n!==void 0||r.content===null)&&(r.content=n),r}serialiseContent(e){if(e instanceof this.namespace.elements.Element)return this.serialise(e);if(e instanceof this.namespace.KeyValuePair){const s={key:this.serialise(e.key)};return e.value&&(s.value=this.serialise(e.value)),s}return e&&e.map?e.length===0?void 0:e.map(this.serialise,this):e}deserialiseContent(e){if(e){if(e.element)return this.deserialise(e);if(e.key){const s=new this.namespace.KeyValuePair(this.deserialise(e.key));return e.value&&(s.value=this.deserialise(e.value)),s}if(e.map)return e.map(this.deserialise,this)}return e}serialiseObject(e){const s={};if(e.forEach((r,n)=>{r&&(s[n.toValue()]=this.serialise(r))}),Object.keys(s).length!==0)return s}deserialiseObject(e,s){Object.keys(e).forEach(r=>{s.set(r,this.deserialise(e[r]))})}};var JSONSerialiser_1=JSONSerialiser$1;function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(t,e){return t===e||t!==t&&e!==e}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(t,e){for(var s=t.length;s--;)if(eq$1(t[s][0],e))return s;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(t){var e=this.__data__,s=assocIndexOf$3(e,t);if(s<0)return!1;var r=e.length-1;return s==r?e.pop():splice.call(e,s,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(t){var e=this.__data__,s=assocIndexOf$2(e,t);return s<0?void 0:e[s][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(t){return assocIndexOf$1(this.__data__,t)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(t,e){var s=this.__data__,r=assocIndexOf(s,t);return r<0?(++this.size,s.push([t,e])):s[r][1]=e,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var r=t[e];this.set(r[0],r[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}var _stackDelete=stackDelete$1;function stackGet$1(t){return this.__data__.get(t)}var _stackGet=stackGet$1;function stackHas$1(t){return this.__data__.has(t)}var _stackHas=stackHas$1,baseGetTag$3=_baseGetTag,isObject$g=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(t){if(!isObject$g(t))return!1;var e=baseGetTag$3(t);return e==funcTag$1||e==genTag||e==asyncTag||e==proxyTag}var isFunction_1=isFunction$3,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked$1(t){return!!maskSrcKey&&maskSrcKey in t}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(t){if(t!=null){try{return funcToString$1.call(t)}catch{}try{return t+""}catch{}}return""}var _toSource=toSource$2,isFunction$2=isFunction_1,isMasked=_isMasked,isObject$f=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$9=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(t){if(!isObject$f(t)||isMasked(t))return!1;var e=isFunction$2(t)?reIsNative:reIsHostCtor;return e.test(toSource$1(t))}var _baseIsNative=baseIsNative$1;function getValue$1(t,e){return t?.[e]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(t,e){var s=getValue(t,e);return baseIsNative(s)?s:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$5=_root,Map$4=getNative$5(root$5,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$8=objectProto$8.hasOwnProperty;function hashGet$1(t){var e=this.__data__;if(nativeCreate$2){var s=e[t];return s===HASH_UNDEFINED$2?void 0:s}return hasOwnProperty$8.call(e,t)?e[t]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$7=objectProto$7.hasOwnProperty;function hashHas$1(t){var e=this.__data__;return nativeCreate$1?e[t]!==void 0:hasOwnProperty$7.call(e,t)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=nativeCreate&&e===void 0?HASH_UNDEFINED$1:e,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var r=t[e];this.set(r[0],r[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(t,e){var s=t.__data__;return isKeyable(e)?s[typeof e=="string"?"string":"hash"]:s.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(t){var e=getMapData$3(this,t).delete(t);return this.size-=e?1:0,e}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(t){return getMapData$2(this,t).get(t)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(t){return getMapData$1(this,t).has(t)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(t,e){var s=getMapData(this,t),r=s.size;return s.set(t,e),this.size+=s.size==r?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var r=t[e];this.set(r[0],r[1])}}MapCache$2.prototype.clear=mapCacheClear,MapCache$2.prototype.delete=mapCacheDelete,MapCache$2.prototype.get=mapCacheGet,MapCache$2.prototype.has=mapCacheHas,MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(t,e){var s=this.__data__;if(s instanceof ListCache$1){var r=s.__data__;if(!Map$2||r.length<LARGE_ARRAY_SIZE-1)return r.push([t,e]),this.size=++s.size,this;s=this.__data__=new MapCache$1(r)}return s.set(t,e),this.size=s.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(t){var e=this.__data__=new ListCache(t);this.size=e.size}Stack$1.prototype.clear=stackClear,Stack$1.prototype.delete=stackDelete,Stack$1.prototype.get=stackGet,Stack$1.prototype.has=stackHas,Stack$1.prototype.set=stackSet;var _Stack=Stack$1,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(t){return this.__data__.set(t,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(t){return this.__data__.has(t)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new MapCache;++e<s;)this.add(t[e])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd,SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(t,e){for(var s=-1,r=t==null?0:t.length;++s<r;)if(e(t[s],s,t))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(t,e){return t.has(e)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays$2(t,e,s,r,n,o){var a=s&COMPARE_PARTIAL_FLAG$3,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var m=-1,h=!0,g=s&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(o.set(t,e),o.set(e,t);++m<c;){var v=t[m],l=e[m];if(r)var b=a?r(l,v,m,e,t,o):r(v,l,m,t,e,o);if(b!==void 0){if(b)continue;h=!1;break}if(g){if(!arraySome(e,function(E,f){if(!cacheHas(g,f)&&(v===E||n(v,E,s,r,o)))return g.push(f)})){h=!1;break}}else if(!(v===l||n(v,l,s,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$2=root$4.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(t){var e=-1,s=Array(t.size);return t.forEach(function(r,n){s[++e]=[n,r]}),s}var _mapToArray=mapToArray$1;function setToArray$1(t){var e=-1,s=Array(t.size);return t.forEach(function(r){s[++e]=r}),s}var _setToArray=setToArray$1,Symbol$2=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(t,e,s,r,n,o,a){switch(s){case dataViewTag$2:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case arrayBufferTag$1:return!(t.byteLength!=e.byteLength||!o(new Uint8Array$1(t),new Uint8Array$1(e)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+t,+e);case errorTag$1:return t.name==e.name&&t.message==e.message;case regexpTag$1:case stringTag$1:return t==e+"";case mapTag$2:var c=mapToArray;case setTag$2:var u=r&COMPARE_PARTIAL_FLAG$2;if(c||(c=setToArray),t.size!=e.size&&!u)return!1;var p=a.get(t);if(p)return p==e;r|=COMPARE_UNORDERED_FLAG,a.set(t,e);var d=equalArrays$1(c(t),c(e),r,n,o,a);return a.delete(t),d;case symbolTag:if(symbolValueOf)return symbolValueOf.call(t)==symbolValueOf.call(e)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(t,e){for(var s=-1,r=e.length,n=t.length;++s<r;)t[n+s]=e[s];return t}var _arrayPush=arrayPush$1,arrayPush=_arrayPush,isArray$4=isArray_1;function baseGetAllKeys$1(t,e,s){var r=e(t);return isArray$4(t)?r:arrayPush(r,s(t))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(t,e){for(var s=-1,r=t==null?0:t.length,n=0,o=[];++s<r;){var a=t[s];e(a,s,t)&&(o[n++]=a)}return o}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(t){return t==null?[]:(t=Object(t),arrayFilter(nativeGetSymbols(t),function(e){return propertyIsEnumerable$1.call(t,e)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(t,e){for(var s=-1,r=Array(t);++s<t;)r[s]=e(s);return r}var _baseTimes=baseTimes$1,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(t){return isObjectLike$3(t)&&baseGetTag$2(t)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$5=Object.prototype,hasOwnProperty$6=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike$2(t)&&hasOwnProperty$6.call(t,"callee")&&!propertyIsEnumerable.call(t,"callee")},isArguments_1=isArguments$1,isBuffer$3={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$3.exports,function(t,e){var s=_root,r=stubFalse_1,n=e&&!e.nodeType&&e,o=n&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===n,c=a?s.Buffer:void 0,u=c?c.isBuffer:void 0,p=u||r;t.exports=p}(isBuffer$3,isBuffer$3.exports);var isBufferExports=isBuffer$3.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(t,e){var s=typeof t;return e=e??MAX_SAFE_INTEGER$1,!!e&&(s=="number"||s!="symbol"&&reIsUint.test(t))&&t>-1&&t%1==0&&t<e}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$1=_baseGetTag,isLength$1=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(t){return isObjectLike$1(t)&&isLength$1(t.length)&&!!typedArrayTags[baseGetTag$1(t)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(t){return function(e){return t(e)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};_nodeUtil.exports,function(t,e){var s=_freeGlobal,r=e&&!e.nodeType&&e,n=r&&!0&&t&&!t.nodeType&&t,o=n&&n.exports===r,a=o&&s.process,c=function(){try{var u=n&&n.require&&n.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();t.exports=c}(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$3=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$3,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$3=isArray_1,isBuffer$2=isBufferExports,isIndex=_isIndex,isTypedArray$2=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$5=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(t,e){var s=isArray$3(t),r=!s&&isArguments(t),n=!s&&!r&&isBuffer$2(t),o=!s&&!r&&!n&&isTypedArray$2(t),a=s||r||n||o,c=a?baseTimes(t.length,String):[],u=c.length;for(var p in t)(e||hasOwnProperty$5.call(t,p))&&!(a&&(p=="length"||n&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||isIndex(p,u)))&&c.push(p);return c}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||objectProto$3;return t===s}var _isPrototype=isPrototype$1;function overArg$1(t,e){return function(s){return t(e(s))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$4=objectProto$2.hasOwnProperty;function baseKeys$1(t){if(!isPrototype(t))return nativeKeys(t);var e=[];for(var s in Object(t))hasOwnProperty$4.call(t,s)&&s!="constructor"&&e.push(s);return e}var _baseKeys=baseKeys$1,isFunction$1=isFunction_1,isLength=isLength_1;function isArrayLike$1(t){return t!=null&&isLength(t.length)&&!isFunction$1(t)}var isArrayLike_1=isArrayLike$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys$2(t){return isArrayLike(t)?arrayLikeKeys(t):baseKeys(t)}var keys_1=keys$2,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$1=keys_1;function getAllKeys$1(t){return baseGetAllKeys(t,keys$1,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$3=objectProto$1.hasOwnProperty;function equalObjects$1(t,e,s,r,n,o){var a=s&COMPARE_PARTIAL_FLAG$1,c=getAllKeys(t),u=c.length,p=getAllKeys(e),d=p.length;if(u!=d&&!a)return!1;for(var m=u;m--;){var h=c[m];if(!(a?h in e:hasOwnProperty$3.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var l=!0;o.set(t,e),o.set(e,t);for(var b=a;++m<u;){h=c[m];var E=t[h],f=e[h];if(r)var S=a?r(f,E,h,e,t,o):r(E,f,h,t,e,o);if(!(S===void 0?E===f||n(E,f,s,r,o):S)){l=!1;break}b||(b=h=="constructor")}if(l&&!b){var y=t.constructor,_=e.constructor;y!=_&&"constructor"in t&&"constructor"in e&&!(typeof y=="function"&&y instanceof y&&typeof _=="function"&&_ instanceof _)&&(l=!1)}return o.delete(t),o.delete(e),l}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$3=_root,DataView$2=getNative$3(root$3,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$2=_root,Promise$2=getNative$2(root$2,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$1=_root,Set$2=getNative$1(root$1,"Set"),_Set=Set$2,getNative=_getNative,root=_root,WeakMap$4=getNative(root,"WeakMap"),_WeakMap=WeakMap$4,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$3=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$3),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$3&&getTag$1(new WeakMap$3)!=weakMapTag)&&(getTag$1=function(t){var e=baseGetTag(t),s=e==objectTag$1?t.constructor:void 0,r=s?toSource(s):"";if(r)switch(r){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return e});var _getTag=getTag$1,Stack=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray$2=isArray_1,isBuffer$1=isBufferExports,isTypedArray$1=isTypedArray_1,COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$2=objectProto.hasOwnProperty;function baseIsEqualDeep$1(t,e,s,r,n,o){var a=isArray$2(t),c=isArray$2(e),u=a?arrayTag:getTag(t),p=c?arrayTag:getTag(e);u=u==argsTag?objectTag:u,p=p==argsTag?objectTag:p;var d=u==objectTag,m=p==objectTag,h=u==p;if(h&&isBuffer$1(t)){if(!isBuffer$1(e))return!1;a=!0,d=!1}if(h&&!d)return o||(o=new Stack),a||isTypedArray$1(t)?equalArrays(t,e,s,r,n,o):equalByTag(t,e,u,s,r,n,o);if(!(s&COMPARE_PARTIAL_FLAG)){var g=d&&hasOwnProperty$2.call(t,"__wrapped__"),v=m&&hasOwnProperty$2.call(e,"__wrapped__");if(g||v){var l=g?t.value():t,b=v?e.value():e;return o||(o=new Stack),n(l,b,s,r,o)}}return h?(o||(o=new Stack),equalObjects(t,e,s,r,n,o)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$1(t,e,s,r,n){return t===e?!0:t==null||e==null||!isObjectLike(t)&&!isObjectLike(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,s,r,baseIsEqual$1,n)}var _baseIsEqual=baseIsEqual$1,baseIsEqual=_baseIsEqual;function isEqual$1(t,e){return baseIsEqual(t,e)}var isEqual_1=isEqual$1;let KeyValuePair$4=class K{constructor(e,s){this.key=e,this.value=s}clone(){const e=new K;return this.key&&(e.key=this.key.clone()),this.value&&(e.value=this.value.clone()),e}};var KeyValuePair_1=KeyValuePair$4,FUNC_ERROR_TEXT="Expected a function";function negate$4(t){if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var negate_1=negate$4;const negate$3=negate_1;function coerceElementMatchingCallback(t){return typeof t=="string"?e=>e.element===t:t.constructor&&t.extend?e=>e instanceof t:t}let ArraySlice$5=class J{constructor(e){this.elements=e||[]}toValue(){return this.elements.map(e=>e.toValue())}map(e,s){return this.elements.map(e,s)}flatMap(e,s){return this.map(e,s).reduce((r,n)=>r.concat(n),[])}compactMap(e,s){const r=[];return this.forEach(n=>{const o=e.bind(s)(n);o&&r.push(o)}),r}filter(e,s){return e=coerceElementMatchingCallback(e),new J(this.elements.filter(e,s))}reject(e,s){return e=coerceElementMatchingCallback(e),new J(this.elements.filter(negate$3(e),s))}find(e,s){return e=coerceElementMatchingCallback(e),this.elements.find(e,s)}forEach(e,s){this.elements.forEach(e,s)}reduce(e,s){return this.elements.reduce(e,s)}includes(e){return this.elements.some(s=>s.equals(e))}shift(){return this.elements.shift()}unshift(e){this.elements.unshift(this.refract(e))}push(e){return this.elements.push(this.refract(e)),this}add(e){this.push(e)}get(e){return this.elements[e]}getValue(e){const s=this.elements[e];if(s)return s.toValue()}get length(){return this.elements.length}get isEmpty(){return this.elements.length===0}get first(){return this.elements[0]}};typeof Symbol<"u"&&(ArraySlice$5.prototype[Symbol.iterator]=function(){return this.elements[Symbol.iterator]()});var ArraySlice_1=ArraySlice$5;const isEqual=isEqual_1,KeyValuePair$3=KeyValuePair_1,ArraySlice$4=ArraySlice_1;let Element$a=class H{constructor(e,s,r){s&&(this.meta=s),r&&(this.attributes=r),this.content=e}freeze(){Object.isFrozen(this)||(this._meta&&(this.meta.parent=this,this.meta.freeze()),this._attributes&&(this.attributes.parent=this,this.attributes.freeze()),this.children.forEach(e=>{e.parent=this,e.freeze()},this),this.content&&Array.isArray(this.content)&&Object.freeze(this.content),Object.freeze(this))}primitive(){}clone(){const e=new this.constructor;return e.element=this.element,this.meta.length&&(e._meta=this.meta.clone()),this.attributes.length&&(e._attributes=this.attributes.clone()),this.content?this.content.clone?e.content=this.content.clone():Array.isArray(this.content)?e.content=this.content.map(s=>s.clone()):e.content=this.content:e.content=this.content,e}toValue(){return this.content instanceof H?this.content.toValue():this.content instanceof KeyValuePair$3?{key:this.content.key.toValue(),value:this.content.value?this.content.value.toValue():void 0}:this.content&&this.content.map?this.content.map(e=>e.toValue(),this):this.content}toRef(e){if(this.id.toValue()==="")throw Error("Cannot create reference to an element that does not contain an ID");const s=new this.RefElement(this.id.toValue());return e&&(s.path=e),s}findRecursive(...e){if(arguments.length>1&&!this.isFrozen)throw new Error("Cannot find recursive with multiple element names without first freezing the element. Call `element.freeze()`");const s=e.pop();let r=new ArraySlice$4;const n=(a,c)=>(a.push(c),a),o=(a,c)=>{c.element===s&&a.push(c);const u=c.findRecursive(s);return u&&u.reduce(n,a),c.content instanceof KeyValuePair$3&&(c.content.key&&o(a,c.content.key),c.content.value&&o(a,c.content.value)),a};return this.content&&(this.content.element&&o(r,this.content),Array.isArray(this.content)&&this.content.reduce(o,r)),e.isEmpty||(r=r.filter(a=>{let c=a.parents.map(u=>u.element);for(const u in e){const p=e[u],d=c.indexOf(p);if(d!==-1)c=c.splice(0,d);else return!1}return!0})),r}set(e){return this.content=e,this}equals(e){return isEqual(this.toValue(),e)}getMetaProperty(e,s){if(!this.meta.hasKey(e)){if(this.isFrozen){const r=this.refract(s);return r.freeze(),r}this.meta.set(e,s)}return this.meta.get(e)}setMetaProperty(e,s){this.meta.set(e,s)}get element(){return this._storedElement||"element"}set element(e){this._storedElement=e}get content(){return this._content}set content(e){if(e instanceof H)this._content=e;else if(e instanceof ArraySlice$4)this.content=e.elements;else if(typeof e=="string"||typeof e=="number"||typeof e=="boolean"||e==="null"||e==null)this._content=e;else if(e instanceof KeyValuePair$3)this._content=e;else if(Array.isArray(e))this._content=e.map(this.refract);else if(typeof e=="object")this._content=Object.keys(e).map(s=>new this.MemberElement(s,e[s]));else throw new Error("Cannot set content to given value")}get meta(){if(!this._meta){if(this.isFrozen){const e=new this.ObjectElement;return e.freeze(),e}this._meta=new this.ObjectElement}return this._meta}set meta(e){e instanceof this.ObjectElement?this._meta=e:this.meta.set(e||{})}get attributes(){if(!this._attributes){if(this.isFrozen){const e=new this.ObjectElement;return e.freeze(),e}this._attributes=new this.ObjectElement}return this._attributes}set attributes(e){e instanceof this.ObjectElement?this._attributes=e:this.attributes.set(e||{})}get id(){return this.getMetaProperty("id","")}set id(e){this.setMetaProperty("id",e)}get classes(){return this.getMetaProperty("classes",[])}set classes(e){this.setMetaProperty("classes",e)}get title(){return this.getMetaProperty("title","")}set title(e){this.setMetaProperty("title",e)}get description(){return this.getMetaProperty("description","")}set description(e){this.setMetaProperty("description",e)}get links(){return this.getMetaProperty("links",[])}set links(e){this.setMetaProperty("links",e)}get isFrozen(){return Object.isFrozen(this)}get parents(){let{parent:e}=this;const s=new ArraySlice$4;for(;e;)s.push(e),e=e.parent;return s}get children(){if(Array.isArray(this.content))return new ArraySlice$4(this.content);if(this.content instanceof KeyValuePair$3){const e=new ArraySlice$4([this.content.key]);return this.content.value&&e.push(this.content.value),e}return this.content instanceof H?new ArraySlice$4([this.content]):new ArraySlice$4}get recursiveChildren(){const e=new ArraySlice$4;return this.children.forEach(s=>{e.push(s),s.recursiveChildren.forEach(r=>{e.push(r)})}),e}};var Element_1=Element$a;const Element$9=Element_1;let NullElement$2=class extends Element$9{constructor(e,s,r){super(e||null,s,r),this.element="null"}primitive(){return"null"}set(){return new Error("Cannot set the value of null")}};var NullElement_1=NullElement$2;const Element$8=Element_1;var StringElement_1=class extends Element$8{constructor(e,s,r){super(e,s,r),this.element="string"}primitive(){return"string"}get length(){return this.content.length}};const Element$7=Element_1;var NumberElement_1=class extends Element$7{constructor(e,s,r){super(e,s,r),this.element="number"}primitive(){return"number"}};const Element$6=Element_1;var BooleanElement_1=class extends Element$6{constructor(e,s,r){super(e,s,r),this.element="boolean"}primitive(){return"boolean"}};const negate$2=negate_1,Element$5=Element_1,ArraySlice$3=ArraySlice_1;let ArrayElement$3=class extends Element$5{constructor(e,s,r){super(e||[],s,r),this.element="array"}primitive(){return"array"}get(e){return this.content[e]}getValue(e){const s=this.get(e);if(s)return s.toValue()}getIndex(e){return this.content[e]}set(e,s){return this.content[e]=this.refract(s),this}remove(e){const s=this.content.splice(e,1);return s.length?s[0]:null}map(e,s){return this.content.map(e,s)}flatMap(e,s){return this.map(e,s).reduce((r,n)=>r.concat(n),[])}compactMap(e,s){const r=[];return this.forEach(n=>{const o=e.bind(s)(n);o&&r.push(o)}),r}filter(e,s){return new ArraySlice$3(this.content.filter(e,s))}reject(e,s){return this.filter(negate$2(e),s)}reduce(e,s){let r,n;s!==void 0?(r=0,n=this.refract(s)):(r=1,n=this.primitive()==="object"?this.first.value:this.first);for(let o=r;o<this.length;o+=1){const a=this.content[o];this.primitive()==="object"?n=this.refract(e(n,a.value,a.key,a,this)):n=this.refract(e(n,a,o,this))}return n}forEach(e,s){this.content.forEach((r,n)=>{e.bind(s)(r,this.refract(n))})}shift(){return this.content.shift()}unshift(e){this.content.unshift(this.refract(e))}push(e){return this.content.push(this.refract(e)),this}add(e){this.push(e)}findElements(e,s){const r=s||{},n=!!r.recursive,o=r.results===void 0?[]:r.results;return this.forEach((a,c,u)=>{n&&a.findElements!==void 0&&a.findElements(e,{results:o,recursive:n}),e(a,c,u)&&o.push(a)}),o}find(e){return new ArraySlice$3(this.findElements(e,{recursive:!0}))}findByElement(e){return this.find(s=>s.element===e)}findByClass(e){return this.find(s=>s.classes.includes(e))}getById(e){return this.find(s=>s.id.toValue()===e).first}includes(e){return this.content.some(s=>s.equals(e))}contains(e){return this.includes(e)}empty(){return new this.constructor([])}"fantasy-land/empty"(){return this.empty()}concat(e){return new this.constructor(this.content.concat(e.content))}"fantasy-land/concat"(e){return this.concat(e)}"fantasy-land/map"(e){return new this.constructor(this.map(e))}"fantasy-land/chain"(e){return this.map(s=>e(s),this).reduce((s,r)=>s.concat(r),this.empty())}"fantasy-land/filter"(e){return new this.constructor(this.content.filter(e))}"fantasy-land/reduce"(e,s){return this.content.reduce(e,s)}get length(){return this.content.length}get isEmpty(){return this.content.length===0}get first(){return this.getIndex(0)}get second(){return this.getIndex(1)}get last(){return this.getIndex(this.length-1)}};ArrayElement$3.empty=function(){return new this},ArrayElement$3["fantasy-land/empty"]=ArrayElement$3.empty,typeof Symbol<"u"&&(ArrayElement$3.prototype[Symbol.iterator]=function(){return this.content[Symbol.iterator]()});var ArrayElement_1=ArrayElement$3;const KeyValuePair$2=KeyValuePair_1,Element$4=Element_1;var MemberElement_1=class extends Element$4{constructor(e,s,r,n){super(new KeyValuePair$2,r,n),this.element="member",this.key=e,this.value=s}get key(){return this.content.key}set key(e){this.content.key=this.refract(e)}get value(){return this.content.value}set value(e){this.content.value=this.refract(e)}};const negate$1=negate_1,ArraySlice$2=ArraySlice_1;let ObjectSlice$3=class W extends ArraySlice$2{map(e,s){return this.elements.map(r=>e.bind(s)(r.value,r.key,r))}filter(e,s){return new W(this.elements.filter(r=>e.bind(s)(r.value,r.key,r)))}reject(e,s){return this.filter(negate$1(e.bind(s)))}forEach(e,s){return this.elements.forEach((r,n)=>{e.bind(s)(r.value,r.key,r,n)})}keys(){return this.map((e,s)=>s.toValue())}values(){return this.map(e=>e.toValue())}};var ObjectSlice_1=ObjectSlice$3;const negate=negate_1,isObject$e=isObject_1,ArrayElement$2=ArrayElement_1,MemberElement$2=MemberElement_1,ObjectSlice$2=ObjectSlice_1;let ObjectElement$2=class extends ArrayElement$2{constructor(e,s,r){super(e||[],s,r),this.element="object"}primitive(){return"object"}toValue(){return this.content.reduce((e,s)=>(e[s.key.toValue()]=s.value?s.value.toValue():void 0,e),{})}get(e){const s=this.getMember(e);if(s)return s.value}getMember(e){if(e!==void 0)return this.content.find(s=>s.key.toValue()===e)}remove(e){let s=null;return this.content=this.content.filter(r=>r.key.toValue()===e?(s=r,!1):!0),s}getKey(e){const s=this.getMember(e);if(s)return s.key}set(e,s){if(isObject$e(e))return Object.keys(e).forEach(o=>{this.set(o,e[o])}),this;const r=e,n=this.getMember(r);return n?n.value=s:this.content.push(new MemberElement$2(r,s)),this}keys(){return this.content.map(e=>e.key.toValue())}values(){return this.content.map(e=>e.value.toValue())}hasKey(e){return this.content.some(s=>s.key.equals(e))}items(){return this.content.map(e=>[e.key.toValue(),e.value.toValue()])}map(e,s){return this.content.map(r=>e.bind(s)(r.value,r.key,r))}compactMap(e,s){const r=[];return this.forEach((n,o,a)=>{const c=e.bind(s)(n,o,a);c&&r.push(c)}),r}filter(e,s){return new ObjectSlice$2(this.content).filter(e,s)}reject(e,s){return this.filter(negate(e),s)}forEach(e,s){return this.content.forEach(r=>e.bind(s)(r.value,r.key,r))}};var ObjectElement_1=ObjectElement$2;const Element$3=Element_1;var LinkElement_1=class extends Element$3{constructor(e,s,r){super(e||[],s,r),this.element="link"}get relation(){return this.attributes.get("relation")}set relation(e){this.attributes.set("relation",e)}get href(){return this.attributes.get("href")}set href(e){this.attributes.set("href",e)}};const Element$2=Element_1;var RefElement_1=class extends Element$2{constructor(e,s,r){super(e||[],s,r),this.element="ref",this.path||(this.path="element")}get path(){return this.attributes.get("path")}set path(e){this.attributes.set("path",e)}};const Element$1=Element_1,NullElement$1=NullElement_1,StringElement$1=StringElement_1,NumberElement$1=NumberElement_1,BooleanElement$1=BooleanElement_1,ArrayElement$1=ArrayElement_1,MemberElement$1=MemberElement_1,ObjectElement$1=ObjectElement_1,LinkElement$1=LinkElement_1,RefElement$1=RefElement_1,ArraySlice$1=ArraySlice_1,ObjectSlice$1=ObjectSlice_1,KeyValuePair$1=KeyValuePair_1;function refract$a(t){return t instanceof Element$1?t:typeof t=="string"?new StringElement$1(t):typeof t=="number"?new NumberElement$1(t):typeof t=="boolean"?new BooleanElement$1(t):t===null?new NullElement$1:Array.isArray(t)?new ArrayElement$1(t.map(refract$a)):typeof t=="object"?new ObjectElement$1(t):t}Element$1.prototype.ObjectElement=ObjectElement$1,Element$1.prototype.RefElement=RefElement$1,Element$1.prototype.MemberElement=MemberElement$1,Element$1.prototype.refract=refract$a,ArraySlice$1.prototype.refract=refract$a;var elements$2={Element:Element$1,NullElement:NullElement$1,StringElement:StringElement$1,NumberElement:NumberElement$1,BooleanElement:BooleanElement$1,ArrayElement:ArrayElement$1,MemberElement:MemberElement$1,ObjectElement:ObjectElement$1,LinkElement:LinkElement$1,RefElement:RefElement$1,refract:refract$a,ArraySlice:ArraySlice$1,ObjectSlice:ObjectSlice$1,KeyValuePair:KeyValuePair$1};const isNull$1=isNull_1,isString$2=isString_1,isNumber$2=isNumber_1,isBoolean$1=isBoolean_1,isObject$d=isObject_1,JSONSerialiser=JSONSerialiser_1,elements$1=elements$2;let Namespace$2=class{constructor(e){this.elementMap={},this.elementDetection=[],this.Element=elements$1.Element,this.KeyValuePair=elements$1.KeyValuePair,(!e||!e.noDefault)&&this.useDefault(),this._attributeElementKeys=[],this._attributeElementArrayKeys=[]}use(e){return e.namespace&&e.namespace({base:this}),e.load&&e.load({base:this}),this}useDefault(){return this.register("null",elements$1.NullElement).register("string",elements$1.StringElement).register("number",elements$1.NumberElement).register("boolean",elements$1.BooleanElement).register("array",elements$1.ArrayElement).register("object",elements$1.ObjectElement).register("member",elements$1.MemberElement).register("ref",elements$1.RefElement).register("link",elements$1.LinkElement),this.detect(isNull$1,elements$1.NullElement,!1).detect(isString$2,elements$1.StringElement,!1).detect(isNumber$2,elements$1.NumberElement,!1).detect(isBoolean$1,elements$1.BooleanElement,!1).detect(Array.isArray,elements$1.ArrayElement,!1).detect(isObject$d,elements$1.ObjectElement,!1),this}register(e,s){return this._elements=void 0,this.elementMap[e]=s,this}unregister(e){return this._elements=void 0,delete this.elementMap[e],this}detect(e,s,r){return(r===void 0?!0:r)?this.elementDetection.unshift([e,s]):this.elementDetection.push([e,s]),this}toElement(e){if(e instanceof this.Element)return e;let s;for(let r=0;r<this.elementDetection.length;r+=1){const n=this.elementDetection[r][0],o=this.elementDetection[r][1];if(n(e)){s=new o(e);break}}return s}getElementClass(e){const s=this.elementMap[e];return s===void 0?this.Element:s}fromRefract(e){return this.serialiser.deserialise(e)}toRefract(e){return this.serialiser.serialise(e)}get elements(){return this._elements===void 0&&(this._elements={Element:this.Element},Object.keys(this.elementMap).forEach(e=>{const s=e[0].toUpperCase()+e.substr(1);this._elements[s]=this.elementMap[e]})),this._elements}get serialiser(){return new JSONSerialiser(this)}};JSONSerialiser.prototype.Namespace=Namespace$2;var Namespace_1$1=Namespace$2;const Namespace$1=Namespace_1$1,elements=elements$2;var Namespace_1=Namespace$1,KeyValuePair=KeyValuePair_1,ArraySlice=elements.ArraySlice,ObjectSlice=elements.ObjectSlice,Element=elements.Element,StringElement=elements.StringElement,NumberElement=elements.NumberElement,BooleanElement=elements.BooleanElement,NullElement=elements.NullElement,ArrayElement=elements.ArrayElement,ObjectElement=elements.ObjectElement,MemberElement=elements.MemberElement,RefElement=elements.RefElement,LinkElement=elements.LinkElement,refract$9=elements.refract;class Annotation extends StringElement{constructor(e,s,r){super(e,s,r),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}class Comment extends StringElement{constructor(e,s,r){super(e,s,r),this.element="comment"}}let ParseResult$1=class extends ArrayElement{constructor(e,s,r){super(e,s,r),this.element="parseResult"}get api(){return this.children.filter(e=>e.classes.contains("api")).first}get results(){return this.children.filter(e=>e.classes.contains("result"))}get result(){return this.results.first}get annotations(){return this.children.filter(e=>e.element==="annotation")}get warnings(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("warning"))}get errors(){return this.children.filter(e=>e.element==="annotation"&&e.classes.contains("error"))}get isEmpty(){return this.children.reject(e=>e.element==="annotation").isEmpty}replaceResult(e){const{result:s}=this;if(isUndefined$1(s))return!1;const r=this.content.findIndex(n=>n===s);return r===-1?!1:(this.content[r]=e,!0)}};class SourceMap extends ArrayElement{constructor(e,s,r){super(e,s,r),this.element="sourceMap"}get positionStart(){return this.children.filter(e=>e.classes.contains("position")).get(0)}get positionEnd(){return this.children.filter(e=>e.classes.contains("position")).get(1)}set position(e){if(typeof e>"u")return;const s=new ArrayElement([e.start.row,e.start.column,e.start.char]),r=new ArrayElement([e.end.row,e.end.column,e.end.char]);s.classes.push("position"),r.classes.push("position"),this.push(s).push(r)}}const hasMethod=(t,e)=>typeof e=="object"&&e!==null&&t in e&&typeof e[t]=="function",hasBasicElementProps=t=>typeof t=="object"&&t!=null&&"_storedElement"in t&&typeof t._storedElement=="string"&&"_content"in t,primitiveEq=(t,e)=>typeof e=="object"&&e!==null&&"primitive"in e?typeof e.primitive=="function"&&e.primitive()===t:!1,hasClass=(t,e)=>typeof e=="object"&&e!==null&&"classes"in e&&(Array.isArray(e.classes)||e.classes instanceof ArrayElement)&&e.classes.includes(t),isElementType=(t,e)=>typeof e=="object"&&e!==null&&"element"in e&&e.element===t,createPredicate=t=>t({hasMethod,hasBasicElementProps,primitiveEq,isElementType,hasClass}),isElement=createPredicate(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof Element||t(s)&&e(void 0,s)),isStringElement=createPredicate(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof StringElement||t(s)&&e("string",s)),isNumberElement=createPredicate(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof NumberElement||t(s)&&e("number",s)),isNullElement=createPredicate(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof NullElement||t(s)&&e("null",s)),isBooleanElement=createPredicate(({hasBasicElementProps:t,primitiveEq:e})=>s=>s instanceof BooleanElement||t(s)&&e("boolean",s)),isObjectElement=createPredicate(({hasBasicElementProps:t,primitiveEq:e,hasMethod:s})=>r=>r instanceof ObjectElement||t(r)&&e("object",r)&&s("keys",r)&&s("values",r)&&s("items",r)),isArrayElement=createPredicate(({hasBasicElementProps:t,primitiveEq:e,hasMethod:s})=>r=>r instanceof ArrayElement&&!(r instanceof ObjectElement)||t(r)&&e("array",r)&&s("push",r)&&s("unshift",r)&&s("map",r)&&s("reduce",r)),isMemberElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof MemberElement||t(r)&&e("member",r)&&s(void 0,r)),isLinkElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof LinkElement||t(r)&&e("link",r)&&s(void 0,r)),isRefElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof RefElement||t(r)&&e("ref",r)&&s(void 0,r)),isAnnotationElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Annotation||t(r)&&e("annotation",r)&&s("array",r)),isCommentElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Comment||t(r)&&e("comment",r)&&s("string",r)),isParseResultElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ParseResult$1||t(r)&&e("parseResult",r)&&s("array",r)),isSourceMapElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SourceMap||t(r)&&e("sourceMap",r)&&s("array",r)),isPrimitiveElement=t=>isElementType("object",t)||isElementType("array",t)||isElementType("boolean",t)||isElementType("number",t)||isElementType("string",t)||isElementType("null",t)||isElementType("member",t),hasElementSourceMap=t=>isSourceMapElement(t.meta.get("sourceMap")),includesSymbols=(t,e)=>{if(t.length===0)return!0;const s=e.attributes.get("symbols");return isArrayElement(s)?all(included(s.toValue()),t):!1},includesClasses=(t,e)=>t.length===0?!0:all(included(e.classes.toValue()),t);var basePredicates=Object.freeze({__proto__:null,hasElementSourceMap,includesClasses,includesSymbols,isAnnotationElement,isArrayElement,isBooleanElement,isCommentElement,isElement,isLinkElement:isLinkElement$2,isMemberElement,isNullElement,isNumberElement,isObjectElement,isParseResultElement,isPrimitiveElement,isRefElement,isSourceMapElement,isStringElement});class Namespace extends Namespace_1{constructor(){super(),this.register("annotation",Annotation),this.register("comment",Comment),this.register("parseResult",ParseResult$1),this.register("sourceMap",SourceMap)}}const namespace$c=new Namespace,createNamespace=t=>{const e=new Namespace;return isPlainObj(t)&&e.use(t),e},createToolbox$8=()=>({predicates:{...basePredicates},namespace:namespace$c});class Node{static type="node";type="node";isMissing;children;position;constructor({children:e=[],position:s,isMissing:r=!1}={}){this.type=this.constructor.type,this.isMissing=r,this.children=e,this.position=s}clone(){const e=Object.create(Object.getPrototypeOf(this));return Object.getOwnPropertyNames(this).forEach(s=>{const r=Object.getOwnPropertyDescriptor(this,s);Object.defineProperty(e,s,r)}),e}}class JsonNode extends Node{}class JsonDocument extends JsonNode{static type="document";get child(){return head(this.children)}}const isNodeType=(t,e)=>e!=null&&typeof e=="object"&&"type"in e&&e.type===t,isString$1=t=>isNodeType("string",t),isFalse=t=>isNodeType("false",t),isTrue=t=>isNodeType("true",t),isNull=t=>isNodeType("null",t),isNumber$1=t=>isNodeType("number",t),isArray$1=t=>isNodeType("array",t),isObject$c=t=>isNodeType("object",t),isStringContent=t=>isNodeType("stringContent",t),isEscapeSequence=t=>isNodeType("escapeSequence",t),isProperty=t=>isNodeType("property",t),isKey=t=>isNodeType("key",t);class JsonObject extends JsonNode{static type="object";get properties(){return this.children.filter(isProperty)}}class JsonProperty extends JsonNode{static type="property";get key(){return this.children.find(isKey)}get value(){return this.children.find(e=>isFalse(e)||isTrue(e)||isNull(e)||isNumber$1(e)||isString$1(e)||isArray$1(e)||isObject$c(e))}}class JsonArray extends JsonNode{static type="array";get items(){return this.children.filter(e=>isFalse(e)||isTrue(e)||isNull(e)||isNumber$1(e)||isString$1(e)||isArray$1(e)||isObject$c)}}class JsonValue extends JsonNode{static type="value";value;constructor({value:e,...s}){super({...s}),this.value=e}}class JsonString extends JsonNode{static type="string";get value(){return this.children.length===1?this.children[0].value:this.children.filter(e=>isStringContent(e)||isEscapeSequence(e)).reduce((e,s)=>e+s.value,"")}}class JsonKey extends JsonString{static type="key"}class JsonStringContent extends JsonValue{static type="stringContent"}class JsonNumber extends JsonValue{static type="number"}class JsonTrue extends JsonValue{static type="true"}class JsonFalse extends JsonValue{static type="false"}class JsonNull extends JsonValue{static type="null"}class YamlAlias extends Node{static type="alias";content;constructor({content:e,...s}){super({...s}),this.content=e}}class YamlNode extends Node{anchor;tag;style;styleGroup;constructor({anchor:e,tag:s,style:r,styleGroup:n,...o}){super({...o}),this.anchor=e,this.tag=s,this.style=r,this.styleGroup=n}}class YamlCollection extends YamlNode{}class YamlComment extends Node{static type="comment";content;constructor({content:e,...s}){super({...s}),this.content=e}}class YamlDirective extends Node{static type="directive";name;parameters;constructor({name:e,parameters:s,...r}){super({...r}),this.name=e,this.parameters=mergeRight({version:void 0,handle:void 0,prefix:void 0},s)}}class YamlDocument extends Node{static type="document"}const isDocument=t=>isNodeType("document",t),isMapping=t=>isNodeType("mapping",t),isSequence=t=>isNodeType("sequence",t),isKeyValuePair=t=>isNodeType("keyValuePair",t),isAnchor$1=t=>isNodeType("anchor",t),isScalar=t=>isNodeType("scalar",t),isAlias=t=>isNodeType("alias",t),isComment=t=>isNodeType("comment",t);class YamlKeyValuePair extends Node{static type="keyValuePair";styleGroup;constructor({styleGroup:e,...s}){super({...s}),this.styleGroup=e}}Object.defineProperties(YamlKeyValuePair.prototype,{key:{get(){return this.children.filter(t=>isScalar(t)||isMapping(t)||isSequence(t))[0]},enumerable:!0},value:{get(){const{key:t,children:e}=this,s=n=>n!==t,r=n=>isScalar(n)||isMapping(n)||isSequence(n)||isAlias(n);return e.filter(n=>s(n)&&r(n))[0]},enumerable:!0}});class YamlMapping extends YamlCollection{static type="mapping"}Object.defineProperty(YamlMapping.prototype,"content",{get(){return Array.isArray(this.children)?this.children.filter(isKeyValuePair):[]},enumerable:!0});class YamlScalar extends YamlNode{static type="scalar";content;constructor({content:e,...s}){super({...s}),this.content=e}}class YamlSequence extends YamlCollection{static type="sequence"}Object.defineProperty(YamlSequence.prototype,"content",{get(){const{children:t}=this;return Array.isArray(t)?t.filter(e=>isSequence(e)||isMapping(e)||isScalar(e)||isAlias(e)):[]},enumerable:!0});class YamlStream extends Node{static type="stream"}Object.defineProperty(YamlStream.prototype,"content",{get(){return Array.isArray(this.children)?this.children.filter(t=>isDocument(t)||isComment(t)):[]},enumerable:!0});let YamlNodeKind=function(t){return t.Scalar="Scalar",t.Sequence="Sequence",t.Mapping="Mapping",t}({});class YamlTag extends Node{static type="tag";explicitName;kind;constructor({explicitName:e,kind:s,...r}){super({...r}),this.explicitName=e,this.kind=s}}class YamlAnchor extends Node{static type="anchor";name;constructor({name:e,...s}){super({...s}),this.name=e}}let YamlStyle=function(t){return t.Plain="Plain",t.SingleQuoted="SingleQuoted",t.DoubleQuoted="DoubleQuoted",t.Literal="Literal",t.Folded="Folded",t.Explicit="Explicit",t.SinglePair="SinglePair",t.NextLine="NextLine",t.InLine="InLine",t}({}),YamlStyleGroup=function(t){return t.Flow="Flow",t.Block="Block",t}({});var check=function(t){return t&&t.Math===Math&&t},globalThis_1=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),fails$b=function(t){try{return!!t()}catch{return!0}},fails$a=fails$b,functionBindNative=!fails$a(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),NATIVE_BIND$3=functionBindNative,FunctionPrototype$2=Function.prototype,apply$3=FunctionPrototype$2.apply,call$9=FunctionPrototype$2.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(NATIVE_BIND$3?call$9.bind(apply$3):function(){return call$9.apply(apply$3,arguments)}),NATIVE_BIND$2=functionBindNative,FunctionPrototype$1=Function.prototype,call$8=FunctionPrototype$1.call,uncurryThisWithBind=NATIVE_BIND$2&&FunctionPrototype$1.bind.bind(call$8,call$8),functionUncurryThis=NATIVE_BIND$2?uncurryThisWithBind:function(t){return function(){return call$8.apply(t,arguments)}},uncurryThis$c=functionUncurryThis,toString$7=uncurryThis$c({}.toString),stringSlice$1=uncurryThis$c("".slice),classofRaw$2=function(t){return stringSlice$1(toString$7(t),8,-1)},classofRaw$1=classofRaw$2,uncurryThis$b=functionUncurryThis,functionUncurryThisClause=function(t){if(classofRaw$1(t)==="Function")return uncurryThis$b(t)},documentAll=typeof document=="object"&&document.all,isCallable$c=typeof documentAll>"u"&&documentAll!==void 0?function(t){return typeof t=="function"||t===documentAll}:function(t){return typeof t=="function"},objectGetOwnPropertyDescriptor={},fails$9=fails$b,descriptors$1=!fails$9(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),NATIVE_BIND$1=functionBindNative,call$7=Function.prototype.call,functionCall=NATIVE_BIND$1?call$7.bind(call$7):function(){return call$7.apply(call$7,arguments)},objectPropertyIsEnumerable={},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$1&&!$propertyIsEnumerable.call({1:2},1);objectPropertyIsEnumerable.f=NASHORN_BUG?function(e){var s=getOwnPropertyDescriptor$1(this,e);return!!s&&s.enumerable}:$propertyIsEnumerable;var createPropertyDescriptor$5=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},uncurryThis$a=functionUncurryThis,fails$8=fails$b,classof$4=classofRaw$2,$Object$4=Object,split=uncurryThis$a("".split),indexedObject=fails$8(function(){return!$Object$4("z").propertyIsEnumerable(0)})?function(t){return classof$4(t)==="String"?split(t,""):$Object$4(t)}:$Object$4,isNullOrUndefined$3=function(t){return t==null},isNullOrUndefined$2=isNullOrUndefined$3,$TypeError$8=TypeError,requireObjectCoercible$4=function(t){if(isNullOrUndefined$2(t))throw new $TypeError$8("Can't call method on "+t);return t},IndexedObject=indexedObject,requireObjectCoercible$3=requireObjectCoercible$4,toIndexedObject$5=function(t){return IndexedObject(requireObjectCoercible$3(t))},isCallable$b=isCallable$c,isObject$b=function(t){return typeof t=="object"?t!==null:isCallable$b(t)},path$3={},path$2=path$3,globalThis$d=globalThis_1,isCallable$a=isCallable$c,aFunction=function(t){return isCallable$a(t)?t:void 0},getBuiltIn$5=function(t,e){return arguments.length<2?aFunction(path$2[t])||aFunction(globalThis$d[t]):path$2[t]&&path$2[t][e]||globalThis$d[t]&&globalThis$d[t][e]},uncurryThis$9=functionUncurryThis,objectIsPrototypeOf=uncurryThis$9({}.isPrototypeOf),globalThis$c=globalThis_1,navigator$1=globalThis$c.navigator,userAgent$1=navigator$1&&navigator$1.userAgent,environmentUserAgent=userAgent$1?String(userAgent$1):"",globalThis$b=globalThis_1,userAgent=environmentUserAgent,process$3=globalThis$b.process,Deno=globalThis$b.Deno,versions=process$3&&process$3.versions||Deno&&Deno.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1])),!version&&userAgent&&(match=userAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=userAgent.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var environmentV8Version=version,V8_VERSION=environmentV8Version,fails$7=fails$b,globalThis$a=globalThis_1,$String$4=globalThis$a.String,symbolConstructorDetection=!!Object.getOwnPropertySymbols&&!fails$7(function(){var t=Symbol("symbol detection");return!$String$4(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&V8_VERSION&&V8_VERSION<41}),NATIVE_SYMBOL$1=symbolConstructorDetection,useSymbolAsUid=NATIVE_SYMBOL$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",getBuiltIn$4=getBuiltIn$5,isCallable$9=isCallable$c,isPrototypeOf$3=objectIsPrototypeOf,USE_SYMBOL_AS_UID$1=useSymbolAsUid,$Object$3=Object,isSymbol$2=USE_SYMBOL_AS_UID$1?function(t){return typeof t=="symbol"}:function(t){var e=getBuiltIn$4("Symbol");return isCallable$9(e)&&isPrototypeOf$3(e.prototype,$Object$3(t))},$String$3=String,tryToString$3=function(t){try{return $String$3(t)}catch{return"Object"}},isCallable$8=isCallable$c,tryToString$2=tryToString$3,$TypeError$7=TypeError,aCallable$4=function(t){if(isCallable$8(t))return t;throw new $TypeError$7(tryToString$2(t)+" is not a function")},aCallable$3=aCallable$4,isNullOrUndefined$1=isNullOrUndefined$3,getMethod$3=function(t,e){var s=t[e];return isNullOrUndefined$1(s)?void 0:aCallable$3(s)},call$6=functionCall,isCallable$7=isCallable$c,isObject$a=isObject$b,$TypeError$6=TypeError,ordinaryToPrimitive$1=function(t,e){var s,r;if(e==="string"&&isCallable$7(s=t.toString)&&!isObject$a(r=call$6(s,t))||isCallable$7(s=t.valueOf)&&!isObject$a(r=call$6(s,t))||e!=="string"&&isCallable$7(s=t.toString)&&!isObject$a(r=call$6(s,t)))return r;throw new $TypeError$6("Can't convert object to primitive value")},sharedStore={exports:{}},globalThis$9=globalThis_1,defineProperty$2=Object.defineProperty,defineGlobalProperty$1=function(t,e){try{defineProperty$2(globalThis$9,t,{value:e,configurable:!0,writable:!0})}catch{globalThis$9[t]=e}return e},globalThis$8=globalThis_1,defineGlobalProperty=defineGlobalProperty$1,SHARED="__core-js_shared__",store$2=sharedStore.exports=globalThis$8[SHARED]||defineGlobalProperty(SHARED,{});(store$2.versions||(store$2.versions=[])).push({version:"3.39.0",mode:"pure",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var sharedStoreExports=sharedStore.exports,store$1=sharedStoreExports,shared$3=function(t,e){return store$1[t]||(store$1[t]=e||{})},requireObjectCoercible$2=requireObjectCoercible$4,$Object$2=Object,toObject$2=function(t){return $Object$2(requireObjectCoercible$2(t))},uncurryThis$8=functionUncurryThis,toObject$1=toObject$2,hasOwnProperty$1=uncurryThis$8({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function(e,s){return hasOwnProperty$1(toObject$1(e),s)},uncurryThis$7=functionUncurryThis,id=0,postfix=Math.random(),toString$6=uncurryThis$7(1 .toString),uid$2=function(t){return"Symbol("+(t===void 0?"":t)+")_"+toString$6(++id+postfix,36)},globalThis$7=globalThis_1,shared$2=shared$3,hasOwn$8=hasOwnProperty_1,uid$1=uid$2,NATIVE_SYMBOL=symbolConstructorDetection,USE_SYMBOL_AS_UID=useSymbolAsUid,Symbol$1=globalThis$7.Symbol,WellKnownSymbolsStore=shared$2("wks"),createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol$1.for||Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid$1,wellKnownSymbol$9=function(t){return hasOwn$8(WellKnownSymbolsStore,t)||(WellKnownSymbolsStore[t]=NATIVE_SYMBOL&&hasOwn$8(Symbol$1,t)?Symbol$1[t]:createWellKnownSymbol("Symbol."+t)),WellKnownSymbolsStore[t]},call$5=functionCall,isObject$9=isObject$b,isSymbol$1=isSymbol$2,getMethod$2=getMethod$3,ordinaryToPrimitive=ordinaryToPrimitive$1,wellKnownSymbol$8=wellKnownSymbol$9,$TypeError$5=TypeError,TO_PRIMITIVE=wellKnownSymbol$8("toPrimitive"),toPrimitive$1=function(t,e){if(!isObject$9(t)||isSymbol$1(t))return t;var s=getMethod$2(t,TO_PRIMITIVE),r;if(s){if(e===void 0&&(e="default"),r=call$5(s,t,e),!isObject$9(r)||isSymbol$1(r))return r;throw new $TypeError$5("Can't convert object to primitive value")}return e===void 0&&(e="number"),ordinaryToPrimitive(t,e)},toPrimitive=toPrimitive$1,isSymbol=isSymbol$2,toPropertyKey$2=function(t){var e=toPrimitive(t,"string");return isSymbol(e)?e:e+""},globalThis$6=globalThis_1,isObject$8=isObject$b,document$1=globalThis$6.document,EXISTS$1=isObject$8(document$1)&&isObject$8(document$1.createElement),documentCreateElement$1=function(t){return EXISTS$1?document$1.createElement(t):{}},DESCRIPTORS$7=descriptors$1,fails$6=fails$b,createElement=documentCreateElement$1,ie8DomDefine=!DESCRIPTORS$7&&!fails$6(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!==7}),DESCRIPTORS$6=descriptors$1,call$4=functionCall,propertyIsEnumerableModule=objectPropertyIsEnumerable,createPropertyDescriptor$4=createPropertyDescriptor$5,toIndexedObject$4=toIndexedObject$5,toPropertyKey$1=toPropertyKey$2,hasOwn$7=hasOwnProperty_1,IE8_DOM_DEFINE$1=ie8DomDefine,$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor;objectGetOwnPropertyDescriptor.f=DESCRIPTORS$6?$getOwnPropertyDescriptor$1:function(e,s){if(e=toIndexedObject$4(e),s=toPropertyKey$1(s),IE8_DOM_DEFINE$1)try{return $getOwnPropertyDescriptor$1(e,s)}catch{}if(hasOwn$7(e,s))return createPropertyDescriptor$4(!call$4(propertyIsEnumerableModule.f,e,s),e[s])};var fails$5=fails$b,isCallable$6=isCallable$c,replacement=/#|\.prototype\./,isForced$1=function(t,e){var s=data[normalize(t)];return s===POLYFILL?!0:s===NATIVE?!1:isCallable$6(e)?fails$5(e):!!e},normalize=isForced$1.normalize=function(t){return String(t).replace(replacement,".").toLowerCase()},data=isForced$1.data={},NATIVE=isForced$1.NATIVE="N",POLYFILL=isForced$1.POLYFILL="P",isForced_1=isForced$1,uncurryThis$6=functionUncurryThisClause,aCallable$2=aCallable$4,NATIVE_BIND=functionBindNative,bind$3=uncurryThis$6(uncurryThis$6.bind),functionBindContext=function(t,e){return aCallable$2(t),e===void 0?t:NATIVE_BIND?bind$3(t,e):function(){return t.apply(e,arguments)}},objectDefineProperty={},DESCRIPTORS$5=descriptors$1,fails$4=fails$b,v8PrototypeDefineBug=DESCRIPTORS$5&&fails$4(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),isObject$7=isObject$b,$String$2=String,$TypeError$4=TypeError,anObject$7=function(t){if(isObject$7(t))return t;throw new $TypeError$4($String$2(t)+" is not an object")},DESCRIPTORS$4=descriptors$1,IE8_DOM_DEFINE=ie8DomDefine,V8_PROTOTYPE_DEFINE_BUG$1=v8PrototypeDefineBug,anObject$6=anObject$7,toPropertyKey=toPropertyKey$2,$TypeError$3=TypeError,$defineProperty=Object.defineProperty,$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,ENUMERABLE="enumerable",CONFIGURABLE$1="configurable",WRITABLE="writable";objectDefineProperty.f=DESCRIPTORS$4?V8_PROTOTYPE_DEFINE_BUG$1?function(e,s,r){if(anObject$6(e),s=toPropertyKey(s),anObject$6(r),typeof e=="function"&&s==="prototype"&&"value"in r&&WRITABLE in r&&!r[WRITABLE]){var n=$getOwnPropertyDescriptor(e,s);n&&n[WRITABLE]&&(e[s]=r.value,r={configurable:CONFIGURABLE$1 in r?r[CONFIGURABLE$1]:n[CONFIGURABLE$1],enumerable:ENUMERABLE in r?r[ENUMERABLE]:n[ENUMERABLE],writable:!1})}return $defineProperty(e,s,r)}:$defineProperty:function(e,s,r){if(anObject$6(e),s=toPropertyKey(s),anObject$6(r),IE8_DOM_DEFINE)try{return $defineProperty(e,s,r)}catch{}if("get"in r||"set"in r)throw new $TypeError$3("Accessors not supported");return"value"in r&&(e[s]=r.value),e};var DESCRIPTORS$3=descriptors$1,definePropertyModule$2=objectDefineProperty,createPropertyDescriptor$3=createPropertyDescriptor$5,createNonEnumerableProperty$8=DESCRIPTORS$3?function(t,e,s){return definePropertyModule$2.f(t,e,createPropertyDescriptor$3(1,s))}:function(t,e,s){return t[e]=s,t},globalThis$5=globalThis_1,apply$2=functionApply,uncurryThis$5=functionUncurryThisClause,isCallable$5=isCallable$c,getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,isForced=isForced_1,path$1=path$3,bind$2=functionBindContext,createNonEnumerableProperty$7=createNonEnumerableProperty$8,hasOwn$6=hasOwnProperty_1,wrapConstructor=function(t){var e=function(s,r,n){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(s);case 2:return new t(s,r)}return new t(s,r,n)}return apply$2(t,this,arguments)};return e.prototype=t.prototype,e},_export=function(t,e){var s=t.target,r=t.global,n=t.stat,o=t.proto,a=r?globalThis$5:n?globalThis$5[s]:globalThis$5[s]&&globalThis$5[s].prototype,c=r?path$1:path$1[s]||createNonEnumerableProperty$7(path$1,s,{})[s],u=c.prototype,p,d,m,h,g,v,l,b,E;for(h in e)p=isForced(r?h:s+(n?".":"#")+h,t.forced),d=!p&&a&&hasOwn$6(a,h),v=c[h],d&&(t.dontCallGetSet?(E=getOwnPropertyDescriptor(a,h),l=E&&E.value):l=a[h]),g=d&&l?l:e[h],!(!p&&!o&&typeof v==typeof g)&&(t.bind&&d?b=bind$2(g,globalThis$5):t.wrap&&d?b=wrapConstructor(g):o&&isCallable$5(g)?b=uncurryThis$5(g):b=g,(t.sham||g&&g.sham||v&&v.sham)&&createNonEnumerableProperty$7(b,"sham",!0),createNonEnumerableProperty$7(c,h,b),o&&(m=s+"Prototype",hasOwn$6(path$1,m)||createNonEnumerableProperty$7(path$1,m,{}),createNonEnumerableProperty$7(path$1[m],h,g),t.real&&u&&(p||!u[h])&&createNonEnumerableProperty$7(u,h,g)))},shared$1=shared$3,uid=uid$2,keys=shared$1("keys"),sharedKey$3=function(t){return keys[t]||(keys[t]=uid(t))},fails$3=fails$b,correctPrototypeGetter=!fails$3(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),hasOwn$5=hasOwnProperty_1,isCallable$4=isCallable$c,toObject=toObject$2,sharedKey$2=sharedKey$3,CORRECT_PROTOTYPE_GETTER=correctPrototypeGetter,IE_PROTO$1=sharedKey$2("IE_PROTO"),$Object$1=Object,ObjectPrototype=$Object$1.prototype,objectGetPrototypeOf=CORRECT_PROTOTYPE_GETTER?$Object$1.getPrototypeOf:function(t){var e=toObject(t);if(hasOwn$5(e,IE_PROTO$1))return e[IE_PROTO$1];var s=e.constructor;return isCallable$4(s)&&e instanceof s?s.prototype:e instanceof $Object$1?ObjectPrototype:null},uncurryThis$4=functionUncurryThis,aCallable$1=aCallable$4,functionUncurryThisAccessor=function(t,e,s){try{return uncurryThis$4(aCallable$1(Object.getOwnPropertyDescriptor(t,e)[s]))}catch{}},isObject$6=isObject$b,isPossiblePrototype$1=function(t){return isObject$6(t)||t===null},isPossiblePrototype=isPossiblePrototype$1,$String$1=String,$TypeError$2=TypeError,aPossiblePrototype$1=function(t){if(isPossiblePrototype(t))return t;throw new $TypeError$2("Can't set "+$String$1(t)+" as a prototype")},uncurryThisAccessor=functionUncurryThisAccessor,isObject$5=isObject$b,requireObjectCoercible$1=requireObjectCoercible$4,aPossiblePrototype=aPossiblePrototype$1,objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},s;try{s=uncurryThisAccessor(Object.prototype,"__proto__","set"),s(e,[]),t=e instanceof Array}catch{}return function(n,o){return requireObjectCoercible$1(n),aPossiblePrototype(o),isObject$5(n)&&(t?s(n,o):n.__proto__=o),n}}():void 0),objectGetOwnPropertyNames={},ceil=Math.ceil,floor=Math.floor,mathTrunc=Math.trunc||function(e){var s=+e;return(s>0?floor:ceil)(s)},trunc=mathTrunc,toIntegerOrInfinity$3=function(t){var e=+t;return e!==e||e===0?0:trunc(e)},toIntegerOrInfinity$2=toIntegerOrInfinity$3,max=Math.max,min$1=Math.min,toAbsoluteIndex$1=function(t,e){var s=toIntegerOrInfinity$2(t);return s<0?max(s+e,0):min$1(s,e)},toIntegerOrInfinity$1=toIntegerOrInfinity$3,min=Math.min,toLength$1=function(t){var e=toIntegerOrInfinity$1(t);return e>0?min(e,9007199254740991):0},toLength=toLength$1,lengthOfArrayLike$2=function(t){return toLength(t.length)},toIndexedObject$3=toIndexedObject$5,toAbsoluteIndex=toAbsoluteIndex$1,lengthOfArrayLike$1=lengthOfArrayLike$2,createMethod$1=function(t){return function(e,s,r){var n=toIndexedObject$3(e),o=lengthOfArrayLike$1(n);if(o===0)return!t&&-1;var a=toAbsoluteIndex(r,o),c;if(t&&s!==s){for(;o>a;)if(c=n[a++],c!==c)return!0}else for(;o>a;a++)if((t||a in n)&&n[a]===s)return t||a||0;return!t&&-1}},arrayIncludes={includes:createMethod$1(!0),indexOf:createMethod$1(!1)},hiddenKeys$4={},uncurryThis$3=functionUncurryThis,hasOwn$4=hasOwnProperty_1,toIndexedObject$2=toIndexedObject$5,indexOf=arrayIncludes.indexOf,hiddenKeys$3=hiddenKeys$4,push$1=uncurryThis$3([].push),objectKeysInternal=function(t,e){var s=toIndexedObject$2(t),r=0,n=[],o;for(o in s)!hasOwn$4(hiddenKeys$3,o)&&hasOwn$4(s,o)&&push$1(n,o);for(;e.length>r;)hasOwn$4(s,o=e[r++])&&(~indexOf(n,o)||push$1(n,o));return n},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],internalObjectKeys$1=objectKeysInternal,enumBugKeys$2=enumBugKeys$3,hiddenKeys$2=enumBugKeys$2.concat("length","prototype");objectGetOwnPropertyNames.f=Object.getOwnPropertyNames||function(e){return internalObjectKeys$1(e,hiddenKeys$2)};var objectGetOwnPropertySymbols={};objectGetOwnPropertySymbols.f=Object.getOwnPropertySymbols;var getBuiltIn$3=getBuiltIn$5,uncurryThis$2=functionUncurryThis,getOwnPropertyNamesModule=objectGetOwnPropertyNames,getOwnPropertySymbolsModule=objectGetOwnPropertySymbols,anObject$5=anObject$7,concat=uncurryThis$2([].concat),ownKeys$1=getBuiltIn$3("Reflect","ownKeys")||function(e){var s=getOwnPropertyNamesModule.f(anObject$5(e)),r=getOwnPropertySymbolsModule.f;return r?concat(s,r(e)):s},hasOwn$3=hasOwnProperty_1,ownKeys=ownKeys$1,getOwnPropertyDescriptorModule=objectGetOwnPropertyDescriptor,definePropertyModule$1=objectDefineProperty,copyConstructorProperties$2=function(t,e,s){for(var r=ownKeys(e),n=definePropertyModule$1.f,o=getOwnPropertyDescriptorModule.f,a=0;a<r.length;a++){var c=r[a];!hasOwn$3(t,c)&&!(s&&hasOwn$3(s,c))&&n(t,c,o(e,c))}},objectDefineProperties={},internalObjectKeys=objectKeysInternal,enumBugKeys$1=enumBugKeys$3,objectKeys$1=Object.keys||function(e){return internalObjectKeys(e,enumBugKeys$1)},DESCRIPTORS$2=descriptors$1,V8_PROTOTYPE_DEFINE_BUG=v8PrototypeDefineBug,definePropertyModule=objectDefineProperty,anObject$4=anObject$7,toIndexedObject$1=toIndexedObject$5,objectKeys=objectKeys$1;objectDefineProperties.f=DESCRIPTORS$2&&!V8_PROTOTYPE_DEFINE_BUG?Object.defineProperties:function(e,s){anObject$4(e);for(var r=toIndexedObject$1(s),n=objectKeys(s),o=n.length,a=0,c;o>a;)definePropertyModule.f(e,c=n[a++],r[c]);return e};var getBuiltIn$2=getBuiltIn$5,html$1=getBuiltIn$2("document","documentElement"),anObject$3=anObject$7,definePropertiesModule=objectDefineProperties,enumBugKeys=enumBugKeys$3,hiddenKeys$1=hiddenKeys$4,html=html$1,documentCreateElement=documentCreateElement$1,sharedKey$1=sharedKey$3,GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey$1("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(t){return LT+SCRIPT+GT+t+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e},NullProtoObjectViaIFrame=function(){var t=documentCreateElement("iframe"),e="java"+SCRIPT+":",s;return t.style.display="none",html.appendChild(t),t.src=String(e),s=t.contentWindow.document,s.open(),s.write(scriptTag("document.F=Object")),s.close(),s.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var t=enumBugKeys.length;t--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[t]];return NullProtoObject()};hiddenKeys$1[IE_PROTO]=!0;var objectCreate=Object.create||function(e,s){var r;return e!==null?(EmptyConstructor[PROTOTYPE]=anObject$3(e),r=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,r[IE_PROTO]=e):r=NullProtoObject(),s===void 0?r:definePropertiesModule.f(r,s)},isObject$4=isObject$b,createNonEnumerableProperty$6=createNonEnumerableProperty$8,installErrorCause$2=function(t,e){isObject$4(e)&&"cause"in e&&createNonEnumerableProperty$6(t,"cause",e.cause)},uncurryThis$1=functionUncurryThis,$Error$1=Error,replace=uncurryThis$1("".replace),TEST=function(t){return String(new $Error$1(t).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),errorStackClear=function(t,e){if(IS_V8_OR_CHAKRA_STACK&&typeof t=="string"&&!$Error$1.prepareStackTrace)for(;e--;)t=replace(t,V8_OR_CHAKRA_STACK_ENTRY,"");return t},fails$2=fails$b,createPropertyDescriptor$2=createPropertyDescriptor$5,errorStackInstallable=!fails$2(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",createPropertyDescriptor$2(1,7)),t.stack!==7):!0}),createNonEnumerableProperty$5=createNonEnumerableProperty$8,clearErrorStack=errorStackClear,ERROR_STACK_INSTALLABLE=errorStackInstallable,captureStackTrace=Error.captureStackTrace,errorStackInstall=function(t,e,s,r){ERROR_STACK_INSTALLABLE&&(captureStackTrace?captureStackTrace(t,e):createNonEnumerableProperty$5(t,"stack",clearErrorStack(s,r)))},iterators={},wellKnownSymbol$7=wellKnownSymbol$9,Iterators$5=iterators,ITERATOR$3=wellKnownSymbol$7("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod$1=function(t){return t!==void 0&&(Iterators$5.Array===t||ArrayPrototype[ITERATOR$3]===t)},wellKnownSymbol$6=wellKnownSymbol$9,TO_STRING_TAG$3=wellKnownSymbol$6("toStringTag"),test$1={};test$1[TO_STRING_TAG$3]="z";var toStringTagSupport=String(test$1)==="[object z]",TO_STRING_TAG_SUPPORT$2=toStringTagSupport,isCallable$3=isCallable$c,classofRaw=classofRaw$2,wellKnownSymbol$5=wellKnownSymbol$9,TO_STRING_TAG$2=wellKnownSymbol$5("toStringTag"),$Object=Object,CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())==="Arguments",tryGet=function(t,e){try{return t[e]}catch{}},classof$3=TO_STRING_TAG_SUPPORT$2?classofRaw:function(t){var e,s,r;return t===void 0?"Undefined":t===null?"Null":typeof(s=tryGet(e=$Object(t),TO_STRING_TAG$2))=="string"?s:CORRECT_ARGUMENTS?classofRaw(e):(r=classofRaw(e))==="Object"&&isCallable$3(e.callee)?"Arguments":r},classof$2=classof$3,getMethod$1=getMethod$3,isNullOrUndefined=isNullOrUndefined$3,Iterators$4=iterators,wellKnownSymbol$4=wellKnownSymbol$9,ITERATOR$2=wellKnownSymbol$4("iterator"),getIteratorMethod$2=function(t){if(!isNullOrUndefined(t))return getMethod$1(t,ITERATOR$2)||getMethod$1(t,"@@iterator")||Iterators$4[classof$2(t)]},call$3=functionCall,aCallable=aCallable$4,anObject$2=anObject$7,tryToString$1=tryToString$3,getIteratorMethod$1=getIteratorMethod$2,$TypeError$1=TypeError,getIterator$1=function(t,e){var s=arguments.length<2?getIteratorMethod$1(t):e;if(aCallable(s))return anObject$2(call$3(s,t));throw new $TypeError$1(tryToString$1(t)+" is not iterable")},call$2=functionCall,anObject$1=anObject$7,getMethod=getMethod$3,iteratorClose$1=function(t,e,s){var r,n;anObject$1(t);try{if(r=getMethod(t,"return"),!r){if(e==="throw")throw s;return s}r=call$2(r,t)}catch(o){n=!0,r=o}if(e==="throw")throw s;if(n)throw r;return anObject$1(r),s},bind$1=functionBindContext,call$1=functionCall,anObject=anObject$7,tryToString=tryToString$3,isArrayIteratorMethod=isArrayIteratorMethod$1,lengthOfArrayLike=lengthOfArrayLike$2,isPrototypeOf$2=objectIsPrototypeOf,getIterator=getIterator$1,getIteratorMethod=getIteratorMethod$2,iteratorClose=iteratorClose$1,$TypeError=TypeError,Result=function(t,e){this.stopped=t,this.result=e},ResultPrototype=Result.prototype,iterate$1=function(t,e,s){var r=s&&s.that,n=!!(s&&s.AS_ENTRIES),o=!!(s&&s.IS_RECORD),a=!!(s&&s.IS_ITERATOR),c=!!(s&&s.INTERRUPTED),u=bind$1(e,r),p,d,m,h,g,v,l,b=function(f){return p&&iteratorClose(p,"normal",f),new Result(!0,f)},E=function(f){return n?(anObject(f),c?u(f[0],f[1],b):u(f[0],f[1])):c?u(f,b):u(f)};if(o)p=t.iterator;else if(a)p=t;else{if(d=getIteratorMethod(t),!d)throw new $TypeError(tryToString(t)+" is not iterable");if(isArrayIteratorMethod(d)){for(m=0,h=lengthOfArrayLike(t);h>m;m++)if(g=E(t[m]),g&&isPrototypeOf$2(ResultPrototype,g))return g;return new Result(!1)}p=getIterator(t,d)}for(v=o?t.next:p.next;!(l=call$1(v,p)).done;){try{g=E(l.value)}catch(f){iteratorClose(p,"throw",f)}if(typeof g=="object"&&g&&isPrototypeOf$2(ResultPrototype,g))return g}return new Result(!1)},classof$1=classof$3,$String=String,toString$5=function(t){if(classof$1(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return $String(t)},toString$4=toString$5,normalizeStringArgument$2=function(t,e){return t===void 0?arguments.length<2?"":e:toString$4(t)},$$3=_export,isPrototypeOf$1=objectIsPrototypeOf,getPrototypeOf$3=objectGetPrototypeOf,setPrototypeOf$2=objectSetPrototypeOf,copyConstructorProperties$1=copyConstructorProperties$2,create$2=objectCreate,createNonEnumerableProperty$4=createNonEnumerableProperty$8,createPropertyDescriptor$1=createPropertyDescriptor$5,installErrorCause$1=installErrorCause$2,installErrorStack$1=errorStackInstall,iterate=iterate$1,normalizeStringArgument$1=normalizeStringArgument$2,wellKnownSymbol$3=wellKnownSymbol$9,TO_STRING_TAG$1=wellKnownSymbol$3("toStringTag"),$Error=Error,push=[].push,$AggregateError$1=function(e,s){var r=isPrototypeOf$1(AggregateErrorPrototype,this),n;setPrototypeOf$2?n=setPrototypeOf$2(new $Error,r?getPrototypeOf$3(this):AggregateErrorPrototype):(n=r?this:create$2(AggregateErrorPrototype),createNonEnumerableProperty$4(n,TO_STRING_TAG$1,"Error")),s!==void 0&&createNonEnumerableProperty$4(n,"message",normalizeStringArgument$1(s)),installErrorStack$1(n,$AggregateError$1,n.stack,1),arguments.length>2&&installErrorCause$1(n,arguments[2]);var o=[];return iterate(e,push,{that:o}),createNonEnumerableProperty$4(n,"errors",o),n};setPrototypeOf$2?setPrototypeOf$2($AggregateError$1,$Error):copyConstructorProperties$1($AggregateError$1,$Error,{name:!0});var AggregateErrorPrototype=$AggregateError$1.prototype=create$2($Error.prototype,{constructor:createPropertyDescriptor$1(1,$AggregateError$1),message:createPropertyDescriptor$1(1,""),name:createPropertyDescriptor$1(1,"AggregateError")});$$3({global:!0,constructor:!0,arity:2},{AggregateError:$AggregateError$1});var defineProperty$1=objectDefineProperty.f,proxyAccessor$1=function(t,e,s){s in t||defineProperty$1(t,s,{configurable:!0,get:function(){return e[s]},set:function(r){e[s]=r}})},isCallable$2=isCallable$c,isObject$3=isObject$b,setPrototypeOf$1=objectSetPrototypeOf,inheritIfRequired$1=function(t,e,s){var r,n;return setPrototypeOf$1&&isCallable$2(r=e.constructor)&&r!==s&&isObject$3(n=r.prototype)&&n!==s.prototype&&setPrototypeOf$1(t,n),t},getBuiltIn$1=getBuiltIn$5,createNonEnumerableProperty$3=createNonEnumerableProperty$8,isPrototypeOf=objectIsPrototypeOf,setPrototypeOf=objectSetPrototypeOf,copyConstructorProperties=copyConstructorProperties$2,proxyAccessor=proxyAccessor$1,inheritIfRequired=inheritIfRequired$1,normalizeStringArgument=normalizeStringArgument$2,installErrorCause=installErrorCause$2,installErrorStack=errorStackInstall,DESCRIPTORS$1=descriptors$1,wrapErrorConstructorWithCause$2=function(t,e,s,r){var n="stackTraceLimit",o=r?2:1,a=t.split("."),c=a[a.length-1],u=getBuiltIn$1.apply(null,a);if(u){var p=u.prototype;if(!s)return u;var d=getBuiltIn$1("Error"),m=e(function(h,g){var v=normalizeStringArgument(r?g:h,void 0),l=r?new u(h):new u;return v!==void 0&&createNonEnumerableProperty$3(l,"message",v),installErrorStack(l,m,l.stack,2),this&&isPrototypeOf(p,this)&&inheritIfRequired(l,this,m),arguments.length>o&&installErrorCause(l,arguments[o]),l});return m.prototype=p,c!=="Error"?setPrototypeOf?setPrototypeOf(m,d):copyConstructorProperties(m,d,{name:!0}):DESCRIPTORS$1&&n in u&&(proxyAccessor(m,u,n),proxyAccessor(m,u,"prepareStackTrace")),copyConstructorProperties(m,u),m}},$$2=_export,globalThis$4=globalThis_1,apply$1=functionApply,wrapErrorConstructorWithCause$1=wrapErrorConstructorWithCause$2,WEB_ASSEMBLY="WebAssembly",WebAssembly$1=globalThis$4[WEB_ASSEMBLY],FORCED$1=new Error("e",{cause:7}).cause!==7,exportGlobalErrorCauseWrapper=function(t,e){var s={};s[t]=wrapErrorConstructorWithCause$1(t,e,FORCED$1),$$2({global:!0,constructor:!0,arity:1,forced:FORCED$1},s)},exportWebAssemblyErrorCauseWrapper=function(t,e){if(WebAssembly$1&&WebAssembly$1[t]){var s={};s[t]=wrapErrorConstructorWithCause$1(WEB_ASSEMBLY+"."+t,e,FORCED$1),$$2({target:WEB_ASSEMBLY,stat:!0,constructor:!0,arity:1,forced:FORCED$1},s)}};exportGlobalErrorCauseWrapper("Error",function(t){return function(s){return apply$1(t,this,arguments)}}),exportGlobalErrorCauseWrapper("EvalError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportGlobalErrorCauseWrapper("RangeError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportGlobalErrorCauseWrapper("ReferenceError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportGlobalErrorCauseWrapper("SyntaxError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportGlobalErrorCauseWrapper("TypeError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportGlobalErrorCauseWrapper("URIError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportWebAssemblyErrorCauseWrapper("CompileError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportWebAssemblyErrorCauseWrapper("LinkError",function(t){return function(s){return apply$1(t,this,arguments)}}),exportWebAssemblyErrorCauseWrapper("RuntimeError",function(t){return function(s){return apply$1(t,this,arguments)}});var $$1=_export,getBuiltIn=getBuiltIn$5,apply=functionApply,fails$1=fails$b,wrapErrorConstructorWithCause=wrapErrorConstructorWithCause$2,AGGREGATE_ERROR="AggregateError",$AggregateError=getBuiltIn(AGGREGATE_ERROR),FORCED=!fails$1(function(){return $AggregateError([1]).errors[0]!==1})&&fails$1(function(){return $AggregateError([1],AGGREGATE_ERROR,{cause:7}).cause!==7});$$1({global:!0,constructor:!0,arity:2,forced:FORCED},{AggregateError:wrapErrorConstructorWithCause(AGGREGATE_ERROR,function(t){return function(s,r){return apply(t,this,arguments)}},FORCED,!0)});var globalThis$3=globalThis_1,isCallable$1=isCallable$c,WeakMap$2=globalThis$3.WeakMap,weakMapBasicDetection=isCallable$1(WeakMap$2)&&/native code/.test(String(WeakMap$2)),NATIVE_WEAK_MAP=weakMapBasicDetection,globalThis$2=globalThis_1,isObject$2=isObject$b,createNonEnumerableProperty$2=createNonEnumerableProperty$8,hasOwn$2=hasOwnProperty_1,shared=sharedStoreExports,sharedKey=sharedKey$3,hiddenKeys=hiddenKeys$4,OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$1=globalThis$2.TypeError,WeakMap$1=globalThis$2.WeakMap,set,get,has,enforce=function(t){return has(t)?get(t):set(t,{})},getterFor=function(t){return function(e){var s;if(!isObject$2(e)||(s=get(e)).type!==t)throw new TypeError$1("Incompatible receiver, "+t+" required");return s}};if(NATIVE_WEAK_MAP||shared.state){var store=shared.state||(shared.state=new WeakMap$1);store.get=store.get,store.has=store.has,store.set=store.set,set=function(t,e){if(store.has(t))throw new TypeError$1(OBJECT_ALREADY_INITIALIZED);return e.facade=t,store.set(t,e),e},get=function(t){return store.get(t)||{}},has=function(t){return store.has(t)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=!0,set=function(t,e){if(hasOwn$2(t,STATE))throw new TypeError$1(OBJECT_ALREADY_INITIALIZED);return e.facade=t,createNonEnumerableProperty$2(t,STATE,e),e},get=function(t){return hasOwn$2(t,STATE)?t[STATE]:{}},has=function(t){return hasOwn$2(t,STATE)}}var internalState={set,get,has,enforce,getterFor},DESCRIPTORS=descriptors$1,hasOwn$1=hasOwnProperty_1,FunctionPrototype=Function.prototype,getDescriptor=DESCRIPTORS&&Object.getOwnPropertyDescriptor,EXISTS=hasOwn$1(FunctionPrototype,"name"),PROPER=EXISTS&&function(){}.name==="something",CONFIGURABLE=EXISTS&&(!DESCRIPTORS||DESCRIPTORS&&getDescriptor(FunctionPrototype,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},createNonEnumerableProperty$1=createNonEnumerableProperty$8,defineBuiltIn$2=function(t,e,s,r){return r&&r.enumerable?t[e]=s:createNonEnumerableProperty$1(t,e,s),t},fails=fails$b,isCallable=isCallable$c,isObject$1=isObject$b,create$1=objectCreate,getPrototypeOf$2=objectGetPrototypeOf,defineBuiltIn$1=defineBuiltIn$2,wellKnownSymbol$2=wellKnownSymbol$9,ITERATOR$1=wellKnownSymbol$2("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$1,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=getPrototypeOf$2(getPrototypeOf$2(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$1=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=!isObject$1(IteratorPrototype$1)||fails(function(){var t={};return IteratorPrototype$1[ITERATOR$1].call(t)!==t});NEW_ITERATOR_PROTOTYPE?IteratorPrototype$1={}:IteratorPrototype$1=create$1(IteratorPrototype$1),isCallable(IteratorPrototype$1[ITERATOR$1])||defineBuiltIn$1(IteratorPrototype$1,ITERATOR$1,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},TO_STRING_TAG_SUPPORT$1=toStringTagSupport,classof=classof$3,objectToString=TO_STRING_TAG_SUPPORT$1?{}.toString:function(){return"[object "+classof(this)+"]"},TO_STRING_TAG_SUPPORT=toStringTagSupport,defineProperty=objectDefineProperty.f,createNonEnumerableProperty=createNonEnumerableProperty$8,hasOwn=hasOwnProperty_1,toString$3=objectToString,wellKnownSymbol$1=wellKnownSymbol$9,TO_STRING_TAG=wellKnownSymbol$1("toStringTag"),setToStringTag$3=function(t,e,s,r){var n=s?t:t&&t.prototype;n&&(hasOwn(n,TO_STRING_TAG)||defineProperty(n,TO_STRING_TAG,{configurable:!0,value:e}),r&&!TO_STRING_TAG_SUPPORT&&createNonEnumerableProperty(n,"toString",toString$3))},IteratorPrototype=iteratorsCore.IteratorPrototype,create=objectCreate,createPropertyDescriptor=createPropertyDescriptor$5,setToStringTag$2=setToStringTag$3,Iterators$3=iterators,returnThis$1=function(){return this},iteratorCreateConstructor=function(t,e,s,r){var n=e+" Iterator";return t.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(+!r,s)}),setToStringTag$2(t,n,!1,!0),Iterators$3[n]=returnThis$1,t},$=_export,call=functionCall,FunctionName=functionName,createIteratorConstructor=iteratorCreateConstructor,getPrototypeOf$1=objectGetPrototypeOf,setToStringTag$1=setToStringTag$3,defineBuiltIn=defineBuiltIn$2,wellKnownSymbol=wellKnownSymbol$9,Iterators$2=iterators,IteratorsCore=iteratorsCore,PROPER_FUNCTION_NAME=FunctionName.PROPER;FunctionName.CONFIGURABLE,IteratorsCore.IteratorPrototype;var BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR=wellKnownSymbol("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},iteratorDefine=function(t,e,s,r,n,o,a){createIteratorConstructor(s,e,r);var c=function(E){if(E===n&&h)return h;if(!BUGGY_SAFARI_ITERATORS&&E&&E in d)return d[E];switch(E){case KEYS:return function(){return new s(this,E)};case VALUES:return function(){return new s(this,E)};case ENTRIES:return function(){return new s(this,E)}}return function(){return new s(this)}},u=e+" Iterator",p=!1,d=t.prototype,m=d[ITERATOR]||d["@@iterator"]||n&&d[n],h=!BUGGY_SAFARI_ITERATORS&&m||c(n),g=e==="Array"&&d.entries||m,v,l,b;if(g&&(v=getPrototypeOf$1(g.call(new t)),v!==Object.prototype&&v.next&&(setToStringTag$1(v,u,!0,!0),Iterators$2[u]=returnThis)),PROPER_FUNCTION_NAME&&n===VALUES&&m&&m.name!==VALUES&&(p=!0,h=function(){return call(m,this)}),n)if(l={values:c(VALUES),keys:o?h:c(KEYS),entries:c(ENTRIES)},a)for(b in l)(BUGGY_SAFARI_ITERATORS||p||!(b in d))&&defineBuiltIn(d,b,l[b]);else $({target:e,proto:!0,forced:BUGGY_SAFARI_ITERATORS||p},l);return a&&d[ITERATOR]!==h&&defineBuiltIn(d,ITERATOR,h,{name:n}),Iterators$2[e]=h,l},createIterResultObject$2=function(t,e){return{value:t,done:e}},toIndexedObject=toIndexedObject$5,Iterators$1=iterators,InternalStateModule$1=internalState;objectDefineProperty.f;var defineIterator$1=iteratorDefine,createIterResultObject$1=createIterResultObject$2,ARRAY_ITERATOR="Array Iterator",setInternalState$1=InternalStateModule$1.set,getInternalState$1=InternalStateModule$1.getterFor(ARRAY_ITERATOR);defineIterator$1(Array,"Array",function(t,e){setInternalState$1(this,{type:ARRAY_ITERATOR,target:toIndexedObject(t),index:0,kind:e})},function(){var t=getInternalState$1(this),e=t.target,s=t.index++;if(!e||s>=e.length)return t.target=null,createIterResultObject$1(void 0,!0);switch(t.kind){case"keys":return createIterResultObject$1(s,!1);case"values":return createIterResultObject$1(e[s],!1)}return createIterResultObject$1([s,e[s]],!1)},"values"),Iterators$1.Arguments=Iterators$1.Array;var uncurryThis=functionUncurryThis,toIntegerOrInfinity=toIntegerOrInfinity$3,toString$2=toString$5,requireObjectCoercible=requireObjectCoercible$4,charAt$1=uncurryThis("".charAt),charCodeAt=uncurryThis("".charCodeAt),stringSlice=uncurryThis("".slice),createMethod=function(t){return function(e,s){var r=toString$2(requireObjectCoercible(e)),n=toIntegerOrInfinity(s),o=r.length,a,c;return n<0||n>=o?t?"":void 0:(a=charCodeAt(r,n),a<55296||a>56319||n+1===o||(c=charCodeAt(r,n+1))<56320||c>57343?t?charAt$1(r,n):a:t?stringSlice(r,n,n+2):(a-55296<<10)+(c-56320)+65536)}},stringMultibyte={codeAt:createMethod(!1),charAt:createMethod(!0)},charAt=stringMultibyte.charAt,toString$1=toString$5,InternalStateModule=internalState,defineIterator=iteratorDefine,createIterResultObject=createIterResultObject$2,STRING_ITERATOR="String Iterator",setInternalState=InternalStateModule.set,getInternalState=InternalStateModule.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(t){setInternalState(this,{type:STRING_ITERATOR,string:toString$1(t),index:0})},function(){var e=getInternalState(this),s=e.string,r=e.index,n;return r>=s.length?createIterResultObject(void 0,!0):(n=charAt(s,r),e.index+=n.length,createIterResultObject(n,!1))});var path=path$3,aggregateError$5=path.AggregateError,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},DOMIterables=domIterables,globalThis$1=globalThis_1,setToStringTag=setToStringTag$3,Iterators=iterators;for(var COLLECTION_NAME in DOMIterables)setToStringTag(globalThis$1[COLLECTION_NAME],COLLECTION_NAME),Iterators[COLLECTION_NAME]=Iterators.Array;var parent$2=aggregateError$5,aggregateError$4=parent$2,parent$1=aggregateError$4,aggregateError$3=parent$1,parent=aggregateError$3,aggregateError$2=parent,aggregateError$1=aggregateError$2,aggregateError=aggregateError$1,_AggregateError=getDefaultExportFromCjs(aggregateError);class ApiDOMAggregateError extends _AggregateError{constructor(e,s,r){if(super(e,s,r),this.name=this.constructor.name,typeof s=="string"&&(this.message=s),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(s).stack,r!=null&&typeof r=="object"&&Object.hasOwn(r,"cause")&&!("cause"in this)){const{cause:n}=r;this.cause=n,n instanceof Error&&"stack"in n&&(this.stack=`${this.stack}
CAUSE: ${n.stack}`)}}}class ApiDOMError extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(ApiDOMAggregateError,e)}constructor(e,s){if(super(e,s),this.name=this.constructor.name,typeof e=="string"&&(this.message=e),typeof Error.captureStackTrace=="function"?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,s!=null&&typeof s=="object"&&Object.hasOwn(s,"cause")&&!("cause"in this)){const{cause:r}=s;this.cause=r,r instanceof Error&&"stack"in r&&(this.stack=`${this.stack}
CAUSE: ${r.stack}`)}}}class ApiDOMStructuredError extends ApiDOMError{constructor(e,s){if(super(e,s),s!=null&&typeof s=="object"){const{cause:r,...n}=s;Object.assign(this,n)}}}class UnsupportedOperationError extends ApiDOMError{}class NotImplementedError extends UnsupportedOperationError{}class YamlError extends ApiDOMStructuredError{}class YamlSchemaError extends YamlError{}class YamlTagError extends YamlSchemaError{specificTagName;explicitTagName;tagKind;tagPosition;nodeCanonicalContent;node;constructor(e,s){super(e,s),typeof s<"u"&&(this.specificTagName=s.specificTagName,this.explicitTagName=s.explicitTagName,this.tagKind=s.tagKind,this.tagPosition=s.tagPosition,this.nodeCanonicalContent=s.nodeCanonicalContent,this.node=s.node)}}let Tag$4=class{static uri="";tag="";constructor(){this.tag=this.constructor.uri}test(e){return!0}resolve(e){return e}};class GenericMapping extends Tag$4{static uri="tag:yaml.org,2002:map";test(e){return e.tag.kind===YamlNodeKind.Mapping}}class GenericSequence extends Tag$4{static uri="tag:yaml.org,2002:seq";test(e){return e.tag.kind===YamlNodeKind.Sequence}}class GenericString extends Tag$4{static uri="tag:yaml.org,2002:str"}var dist={},errors={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.ErrorType=void 0;var e;(function(s){s.MalformedUnicode="MALFORMED_UNICODE",s.MalformedHexadecimal="MALFORMED_HEXADECIMAL",s.CodePointLimit="CODE_POINT_LIMIT",s.OctalDeprecation="OCTAL_DEPRECATION",s.EndOfString="END_OF_STRING"})(e=t.ErrorType||(t.ErrorType={})),t.errorMessages=new Map([[e.MalformedUnicode,"malformed Unicode character escape sequence"],[e.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[e.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[e.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[e.EndOfString,"malformed escape sequence at end of string"]])})(errors),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.unraw=t.errorMessages=t.ErrorType=void 0;const e=errors;Object.defineProperty(t,"ErrorType",{enumerable:!0,get:function(){return e.ErrorType}}),Object.defineProperty(t,"errorMessages",{enumerable:!0,get:function(){return e.errorMessages}});function s(g){return!g.match(/[^a-f0-9]/i)?parseInt(g,16):NaN}function r(g,v,l){const b=s(g);if(Number.isNaN(b)||l!==void 0&&l!==g.length)throw new SyntaxError(e.errorMessages.get(v));return b}function n(g){const v=r(g,e.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(v)}function o(g,v){const l=r(g,e.ErrorType.MalformedUnicode,4);if(v!==void 0){const b=r(v,e.ErrorType.MalformedUnicode,4);return String.fromCharCode(l,b)}return String.fromCharCode(l)}function a(g){return g.charAt(0)==="{"&&g.charAt(g.length-1)==="}"}function c(g){if(!a(g))throw new SyntaxError(e.errorMessages.get(e.ErrorType.MalformedUnicode));const v=g.slice(1,-1),l=r(v,e.ErrorType.MalformedUnicode);try{return String.fromCodePoint(l)}catch(b){throw b instanceof RangeError?new SyntaxError(e.errorMessages.get(e.ErrorType.CodePointLimit)):b}}function u(g,v=!1){if(v)throw new SyntaxError(e.errorMessages.get(e.ErrorType.OctalDeprecation));const l=parseInt(g,8);return String.fromCharCode(l)}const p=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function d(g){return p.get(g)||g}const m=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function h(g,v=!1){return g.replace(m,function(l,b,E,f,S,y,_,w,x){if(b!==void 0)return"\\";if(E!==void 0)return n(E);if(f!==void 0)return c(f);if(S!==void 0)return o(S,y);if(_!==void 0)return o(_);if(w==="0")return"\0";if(w!==void 0)return u(w,!v);if(x!==void 0)return d(x);throw new SyntaxError(e.errorMessages.get(e.ErrorType.EndOfString))})}t.unraw=h,t.default=h}(dist);const blockStyleRegExp=/^(?<style>[|>])(?<chomping>[+-]?)(?<indentation>[0-9]*)\s/,getIndentationIndicator=t=>{const e=t.match(blockStyleRegExp),s=pathOr("",["groups","indentation"],e);return isEmptyString(s)?void 0:parseInt(s,10)},getIndentation=t=>{const e=getIndentationIndicator(t);if(isInteger(e))return repeatStr(" ",e);const s=pathOr("",[1],t.split(`
`)),r=pathOr(0,["groups","indentation","length"],s.match(/^(?<indentation>[ ]*)/));return repeatStr(" ",r)},getChompingIndicator=t=>{const e=t.match(blockStyleRegExp),s=pathOr("",["groups","chomping"],e);return isEmptyString(s)?void 0:s},chomp=(t,e)=>isUndefined$1(t)?`${trimEnd(e)}
`:t==="-"?trimEnd(e):e,normalizeLineBreaks=t=>t.replace(/\r\n/g,`
`),preventLineBreakCollapseToSpace=t=>t.replace(/\\\n\s*/g,""),collapseLineBreakToSpace=t=>t.replace(/(\n)?\n([^\n]+)/g,(e,s,r)=>s?e:` ${r.trimStart()}`).replace(/[\n]{2}/g,`
`),removeQuotes=curry((t,e)=>e.replace(new RegExp(`^${t}`),"").replace(new RegExp(`${t}$`),"")),formatFlowPlain=pipe(normalizeLineBreaks,trim$1,collapseLineBreakToSpace,split$1(`
`),map(trimStart$1),join(`
`)),formatFlowSingleQuoted=pipe(normalizeLineBreaks,trim$1,collapseLineBreakToSpace,split$1(`
`),map(trimStart$1),join(`
`),removeQuotes("'")),formatFlowDoubleQuoted=pipe(normalizeLineBreaks,trim$1,preventLineBreakCollapseToSpace,collapseLineBreakToSpace,dist.unraw,split$1(`
`),map(trimStart$1),join(`
`),removeQuotes('"')),formatBlockLiteral=t=>{const e=getIndentation(t),s=getChompingIndicator(t),r=normalizeLineBreaks(t),n=tail(r.split(`
`)),o=compose(map(trimCharsStart(e)),map(concatRight(`
`))),a=transduce(o,concat$1,"",n);return chomp(s,a)},formatBlockFolded=t=>{const e=getIndentation(t),s=getChompingIndicator(t),r=normalizeLineBreaks(t),n=tail(r.split(`
`)),o=compose(map(trimCharsStart(e)),map(concatRight(`
`))),a=transduce(o,concat$1,"",n),c=collapseLineBreakToSpace(a);return chomp(s,c)};class ScalarTag{static test(e){return e.tag.kind===YamlNodeKind.Scalar&&typeof e.content=="string"}static canonicalFormat(e){let s=e.content;const r=e.clone();return e.style===YamlStyle.Plain?s=formatFlowPlain(e.content):e.style===YamlStyle.SingleQuoted?s=formatFlowSingleQuoted(e.content):e.style===YamlStyle.DoubleQuoted?s=formatFlowDoubleQuoted(e.content):e.style===YamlStyle.Literal?s=formatBlockLiteral(e.content):e.style===YamlStyle.Folded&&(s=formatBlockFolded(e.content)),r.content=s,r}static resolve(e){return e}}class FailsafeSchema{tags;tagDirectives;constructor(){this.tags=[],this.tagDirectives=[],this.registerTag(new GenericMapping),this.registerTag(new GenericSequence),this.registerTag(new GenericString)}toSpecificTagName(e){let s=e.tag.explicitName;return e.tag.explicitName==="!"?e.tag.kind===YamlNodeKind.Scalar?s=GenericString.uri:e.tag.kind===YamlNodeKind.Sequence?s=GenericSequence.uri:e.tag.kind===YamlNodeKind.Mapping&&(s=GenericMapping.uri):e.tag.explicitName.startsWith("!<")?s=e.tag.explicitName.replace(/^!</,"").replace(/>$/,""):e.tag.explicitName.startsWith("!!")&&(s=`tag:yaml.org,2002:${e.tag.explicitName.replace(/^!!/,"")}`),s}registerTagDirective(e){this.tagDirectives.push({handle:e.parameters.handle,prefix:e.parameters.prefix})}registerTag(e,s=!1){return s?this.tags.unshift(e):this.tags.push(e),this}overrideTag(e){return this.tags=this.tags.filter(s=>s.tag===e.tag),this.tags.push(e),this}resolve(e){const s=this.toSpecificTagName(e);if(s==="?")return e;let r=e;ScalarTag.test(e)&&(r=ScalarTag.canonicalFormat(e));const n=this.tags.find(o=>o?.tag===s);if(typeof n>"u")throw new YamlTagError(`Tag "${s}" was not recognized.`,{specificTagName:s,explicitTagName:e.tag.explicitName,tagKind:e.tag.kind,tagPosition:clone(e.tag.position),node:e.clone()});if(!n.test(r))throw new YamlTagError(`Node couldn't be resolved against the tag "${s}"`,{specificTagName:s,explicitTagName:e.tag.explicitName,tagKind:e.tag.kind,tagPosition:clone(e.tag.position),nodeCanonicalContent:r.content,node:e.clone()});return n.resolve(r)}}let Boolean$1=class extends Tag$4{static uri="tag:yaml.org,2002:bool";test(e){return/^(true|false)$/.test(e.content)}resolve(e){const s=e.content==="true",r=e.clone();return r.content=s,r}};class FloatingPoint extends Tag$4{static uri="tag:yaml.org,2002:float";test(e){return/^-?(0|[1-9][0-9]*)(\.[0-9]*)?([eE][-+]?[0-9]+)?$/.test(e.content)}resolve(e){const s=parseFloat(e.content),r=e.clone();return r.content=s,r}}class Integer extends Tag$4{static uri="tag:yaml.org,2002:int";test(e){return/^-?(0|[1-9][0-9]*)$/.test(e.content)}resolve(e){const s=parseInt(e.content,10),r=e.clone();return r.content=s,r}}class Null extends Tag$4{static uri="tag:yaml.org,2002:null";test(e){return/^null$/.test(e.content)}resolve(e){const s=e.clone();return s.content=null,s}}class JsonSchema extends FailsafeSchema{constructor(){super(),this.registerTag(new Boolean$1,!0),this.registerTag(new FloatingPoint,!0),this.registerTag(new Integer,!0),this.registerTag(new Null,!0)}toSpecificTagName(e){let s=super.toSpecificTagName(e);if(s==="?"){if(e.tag.vkind===YamlNodeKind.Sequence)s=GenericSequence.uri;else if(e.tag.kind===YamlNodeKind.Mapping)s=GenericMapping.uri;else if(e.tag.kind===YamlNodeKind.Scalar){const r=this.tags.find(n=>n.test(e));s=r?.tag||"?"}}return s}}class YamlReferenceError extends YamlError{}class ReferenceManager{addAnchor(e){if(!isAnchor$1(e.anchor))throw new YamlReferenceError("Expected YAML anchor to be attached the the YAML AST node.",{node:e})}resolveAlias(e){return new YamlScalar({content:e.content,style:YamlStyle.Plain,styleGroup:YamlStyleGroup.Flow})}}class Literal extends Node{static type="literal";value;constructor({value:e,...s}={}){super({...s}),this.value=e}}class Point{static type="point";type=Point.type;row;column;char;constructor({row:e,column:s,char:r}){this.row=e,this.column=s,this.char=r}}class Position{static type="position";type=Position.type;start;end;constructor({start:e,end:s}){this.start=e,this.end=s}}let Error$1=class extends Node{static type="error";value;isUnexpected;constructor({value:e,isUnexpected:s=!1,...r}={}){super({...r}),this.value=e,this.isUnexpected=s}};class ParseResult extends Node{static type="parseResult";get rootNode(){return head(this.children)}}const getVisitFn=(t,e,s)=>{const r=t[e];if(r!=null){if(!s&&typeof r=="function")return r;const n=s?r.leave:r.enter;if(typeof n=="function")return n}else{const n=s?t.leave:t.enter;if(n!=null){if(typeof n=="function")return n;const o=n[e];if(typeof o=="function")return o}}return null},BREAK={},getNodeType$c=t=>t?.type,isNode$5=t=>typeof getNodeType$c(t)=="string",cloneNode$1=t=>Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),mergeAll=(t,{visitFnGetter:e=getVisitFn,nodeTypeGetter:s=getNodeType$c,breakSymbol:r=BREAK,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,exposeEdits:a=!1}={})=>{const c=Symbol("skip"),u=new Array(t.length).fill(c);return{enter(p,d,m,h,g,v){let l=p,b=!1;const E={...v,replaceWith(f,S){v.replaceWith(f,S),l=f}};for(let f=0;f<t.length;f+=1)if(u[f]===c){const S=e(t[f],s(l),!1);if(typeof S=="function"){const y=S.call(t[f],l,d,m,h,g,E);if(typeof y?.then=="function")throw new ApiDOMStructuredError("Async visitor not supported in sync mode",{visitor:t[f],visitFn:S});if(y===o)u[f]=l;else if(y===r)u[f]=r;else{if(y===n)return y;if(y!==void 0)if(a)l=y,b=!0;else return y}}}return b?l:void 0},leave(p,d,m,h,g,v){let l=p;const b={...v,replaceWith(E,f){v.replaceWith(E,f),l=E}};for(let E=0;E<t.length;E+=1)if(u[E]===c){const f=e(t[E],s(l),!0);if(typeof f=="function"){const S=f.call(t[E],l,d,m,h,g,b);if(typeof S?.then=="function")throw new ApiDOMStructuredError("Async visitor not supported in sync mode",{visitor:t[E],visitFn:f});if(S===r)u[E]=r;else if(S!==void 0&&S!==o)return S}}else u[E]===l&&(u[E]=c)}}},mergeAllAsync=(t,{visitFnGetter:e=getVisitFn,nodeTypeGetter:s=getNodeType$c,breakSymbol:r=BREAK,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:o=!1,exposeEdits:a=!1}={})=>{const c=Symbol("skip"),u=new Array(t.length).fill(c);return{async enter(p,d,m,h,g,v){let l=p,b=!1;const E={...v,replaceWith(f,S){v.replaceWith(f,S),l=f}};for(let f=0;f<t.length;f+=1)if(u[f]===c){const S=e(t[f],s(l),!1);if(typeof S=="function"){const y=await S.call(t[f],l,d,m,h,g,E);if(y===o)u[f]=l;else if(y===r)u[f]=r;else{if(y===n)return y;if(y!==void 0)if(a)l=y,b=!0;else return y}}}return b?l:void 0},async leave(p,d,m,h,g,v){let l=p;const b={...v,replaceWith(E,f){v.replaceWith(E,f),l=E}};for(let E=0;E<t.length;E+=1)if(u[E]===c){const f=e(t[E],s(l),!0);if(typeof f=="function"){const S=await f.call(t[E],l,d,m,h,g,b);if(S===r)u[E]=r;else if(S!==void 0&&S!==o)return S}}else u[E]===l&&(u[E]=c)}}};mergeAll[Symbol.for("nodejs.util.promisify.custom")]=mergeAllAsync;const visit$2=(t,e,{keyMap:s=null,state:r={},breakSymbol:n=BREAK,deleteNodeSymbol:o=null,skipVisitingNodeSymbol:a=!1,visitFnGetter:c=getVisitFn,nodeTypeGetter:u=getNodeType$c,nodePredicate:p=isNode$5,nodeCloneFn:d=cloneNode$1,detectCycles:m=!0}={})=>{const h=s||{};let g,v=Array.isArray(t),l=[t],b=-1,E,f=[],S=t;const y=[],_=[];do{b+=1;const A=b===l.length;let V;const k=A&&f.length!==0;if(A){if(V=_.length===0?void 0:y.pop(),S=E,E=_.pop(),k)if(v){S=S.slice();let P=0;for(const[M,R]of f){const j=M-P;R===o?(S.splice(j,1),P+=1):S[j]=R}}else{S=d(S);for(const[P,M]of f)S[P]=M}b=g.index,l=g.keys,f=g.edits,v=g.inArray,g=g.prev}else if(E!==o&&E!==void 0){if(V=v?b:l[b],S=E[V],S===o||S===void 0)continue;y.push(V)}let O;if(!Array.isArray(S)){var w;if(!p(S))throw new ApiDOMStructuredError(`Invalid AST Node:  ${String(S)}`,{node:S});if(m&&_.includes(S)){y.pop();continue}const P=c(e,u(S),A);if(P){for(const[R,j]of Object.entries(r))e[R]=j;const M={replaceWith(R,j){typeof j=="function"?j(R,S,V,E,y,_):E&&(E[V]=R),A||(S=R)}};O=P.call(e,S,V,E,y,_,M)}if(typeof((w=O)===null||w===void 0?void 0:w.then)=="function")throw new ApiDOMStructuredError("Async visitor not supported in sync mode",{visitor:e,visitFn:P});if(O===n)break;if(O===a){if(!A){y.pop();continue}}else if(O!==void 0&&(f.push([V,O]),!A))if(p(O))S=O;else{y.pop();continue}}if(O===void 0&&k&&f.push([V,S]),!A){var x;g={inArray:v,index:b,keys:l,edits:f,prev:g},v=Array.isArray(S),l=v?S:(x=h[u(S)])!==null&&x!==void 0?x:[],b=-1,f=[],E!==o&&E!==void 0&&_.push(E),E=S}}while(g!==void 0);return f.length!==0?f[f.length-1][1]:t};visit$2[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:s=null,state:r={},breakSymbol:n=BREAK,deleteNodeSymbol:o=null,skipVisitingNodeSymbol:a=!1,visitFnGetter:c=getVisitFn,nodeTypeGetter:u=getNodeType$c,nodePredicate:p=isNode$5,nodeCloneFn:d=cloneNode$1,detectCycles:m=!0}={})=>{const h=s||{};let g,v=Array.isArray(t),l=[t],b=-1,E,f=[],S=t;const y=[],_=[];do{b+=1;const x=b===l.length;let A;const V=x&&f.length!==0;if(x){if(A=_.length===0?void 0:y.pop(),S=E,E=_.pop(),V)if(v){S=S.slice();let O=0;for(const[P,M]of f){const R=P-O;M===o?(S.splice(R,1),O+=1):S[R]=M}}else{S=d(S);for(const[O,P]of f)S[O]=P}b=g.index,l=g.keys,f=g.edits,v=g.inArray,g=g.prev}else if(E!==o&&E!==void 0){if(A=v?b:l[b],S=E[A],S===o||S===void 0)continue;y.push(A)}let k;if(!Array.isArray(S)){if(!p(S))throw new ApiDOMStructuredError(`Invalid AST Node: ${String(S)}`,{node:S});if(m&&_.includes(S)){y.pop();continue}const O=c(e,u(S),x);if(O){for(const[M,R]of Object.entries(r))e[M]=R;const P={replaceWith(M,R){typeof R=="function"?R(M,S,A,E,y,_):E&&(E[A]=M),x||(S=M)}};k=await O.call(e,S,A,E,y,_,P)}if(k===n)break;if(k===a){if(!x){y.pop();continue}}else if(k!==void 0&&(f.push([A,k]),!x))if(p(k))S=k;else{y.pop();continue}}if(k===void 0&&V&&f.push([A,S]),!x){var w;g={inArray:v,index:b,keys:l,edits:f,prev:g},v=Array.isArray(S),l=v?S:(w=h[u(S)])!==null&&w!==void 0?w:[],b=-1,f=[],E!==o&&E!==void 0&&_.push(E),E=S}}while(g!==void 0);return f.length!==0?f[f.length-1][1]:t};class CloneError extends ApiDOMStructuredError{value;constructor(e,s){super(e,s),typeof s<"u"&&(this.value=s.value)}}class DeepCloneError extends CloneError{}class ShallowCloneError extends CloneError{}const cloneDeep=(t,e={})=>{const{visited:s=new WeakMap}=e,r={...e,visited:s};if(s.has(t))return s.get(t);if(t instanceof KeyValuePair){const{key:n,value:o}=t,a=isElement(n)?cloneDeep(n,r):n,c=isElement(o)?cloneDeep(o,r):o,u=new KeyValuePair(a,c);return s.set(t,u),u}if(t instanceof ObjectSlice){const n=c=>cloneDeep(c,r),o=[...t].map(n),a=new ObjectSlice(o);return s.set(t,a),a}if(t instanceof ArraySlice){const n=c=>cloneDeep(c,r),o=[...t].map(n),a=new ArraySlice(o);return s.set(t,a),a}if(isElement(t)){const n=cloneShallow(t);if(s.set(t,n),t.content)if(isElement(t.content))n.content=cloneDeep(t.content,r);else if(t.content instanceof KeyValuePair)n.content=cloneDeep(t.content,r);else if(Array.isArray(t.content)){const o=a=>cloneDeep(a,r);n.content=t.content.map(o)}else n.content=t.content;else n.content=t.content;return n}throw new DeepCloneError("Value provided to cloneDeep function couldn't be cloned",{value:t})};cloneDeep.safe=t=>{try{return cloneDeep(t)}catch{return t}};const cloneShallowKeyValuePair=t=>{const{key:e,value:s}=t;return new KeyValuePair(e,s)},cloneShallowArraySlice=t=>{const e=[...t];return new ArraySlice(e)},cloneShallowObjectSlice=t=>{const e=[...t];return new ObjectSlice(e)},cloneShallowElement=t=>{const e=new t.constructor;if(e.element=t.element,t.meta.length>0&&(e._meta=cloneDeep(t.meta)),t.attributes.length>0&&(e._attributes=cloneDeep(t.attributes)),isElement(t.content)){const s=t.content;e.content=cloneShallowElement(s)}else Array.isArray(t.content)?e.content=[...t.content]:t.content instanceof KeyValuePair?e.content=cloneShallowKeyValuePair(t.content):e.content=t.content;return e},cloneShallow=t=>{if(t instanceof KeyValuePair)return cloneShallowKeyValuePair(t);if(t instanceof ObjectSlice)return cloneShallowObjectSlice(t);if(t instanceof ArraySlice)return cloneShallowArraySlice(t);if(isElement(t))return cloneShallowElement(t);throw new ShallowCloneError("Value provided to cloneShallow function couldn't be cloned",{value:t})};cloneShallow.safe=t=>{try{return cloneShallow(t)}catch{return t}};const getNodeType$b=t=>isObjectElement(t)?"ObjectElement":isArrayElement(t)?"ArrayElement":isMemberElement(t)?"MemberElement":isStringElement(t)?"StringElement":isBooleanElement(t)?"BooleanElement":isNumberElement(t)?"NumberElement":isNullElement(t)?"NullElement":isLinkElement$2(t)?"LinkElement":isRefElement(t)?"RefElement":void 0,cloneNode=t=>isElement(t)?cloneShallow(t):cloneNode$1(t),isNode$4=pipe(getNodeType$b,isString$4),keyMapDefault$1={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"],SourceMap:["content"]};class PredicateVisitor{result;predicate;returnOnTrue;returnOnFalse;constructor({predicate:e=F,returnOnTrue:s,returnOnFalse:r}={}){this.result=[],this.predicate=e,this.returnOnTrue=s,this.returnOnFalse=r}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const visit$1=(t,e,{keyMap:s=keyMapDefault$1,...r}={})=>visit$2(t,e,{keyMap:s,nodeTypeGetter:getNodeType$b,nodePredicate:isNode$4,nodeCloneFn:cloneNode,...r});visit$1[Symbol.for("nodejs.util.promisify.custom")]=async(t,e,{keyMap:s=keyMapDefault$1,...r}={})=>visit$2[Symbol.for("nodejs.util.promisify.custom")](t,e,{keyMap:s,nodeTypeGetter:getNodeType$b,nodePredicate:isNode$4,nodeCloneFn:cloneNode,...r});const defaultDispatchPluginsOptions={toolboxCreator:createToolbox$8,visitorOptions:{nodeTypeGetter:getNodeType$b,exposeEdits:!0}},dispatchPluginsSync=(t,e,s={})=>{if(e.length===0)return t;const r=mergeDeepRight(defaultDispatchPluginsOptions,s),{toolboxCreator:n,visitorOptions:o}=r,a=n(),c=e.map(d=>d(a)),u=mergeAll(c.map(propOr({},"visitor")),{...o});c.forEach(invokeArgs(["pre"],[]));const p=visit$1(t,u,o);return c.forEach(invokeArgs(["post"],[])),p},dispatchPluginsAsync=async(t,e,s={})=>{if(e.length===0)return t;const r=mergeDeepRight(defaultDispatchPluginsOptions,s),{toolboxCreator:n,visitorOptions:o}=r,a=n(),c=e.map(h=>h(a)),u=mergeAll[Symbol.for("nodejs.util.promisify.custom")],p=visit$1[Symbol.for("nodejs.util.promisify.custom")],d=u(c.map(propOr({},"visitor")),{...o});await Promise.allSettled(c.map(invokeArgs(["pre"],[])));const m=await p(t,d,o);return await Promise.allSettled(c.map(invokeArgs(["post"],[]))),m};dispatchPluginsSync[Symbol.for("nodejs.util.promisify.custom")]=dispatchPluginsAsync;var shortUniqueId={exports:{}};(function(t){var e=(()=>{var s=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(y,_,w)=>_ in y?s(y,_,{enumerable:!0,configurable:!0,writable:!0,value:w}):y[_]=w,p=(y,_)=>{for(var w in _||(_={}))a.call(_,w)&&u(y,w,_[w]);if(o)for(var w of o(_))c.call(_,w)&&u(y,w,_[w]);return y},d=(y,_)=>{for(var w in _)s(y,w,{get:_[w],enumerable:!0})},m=(y,_,w,x)=>{if(_&&typeof _=="object"||typeof _=="function")for(let A of n(_))!a.call(y,A)&&A!==w&&s(y,A,{get:()=>_[A],enumerable:!(x=r(_,A))||x.enumerable});return y},h=y=>m(s({},"__esModule",{value:!0}),y),g=(y,_,w)=>(u(y,typeof _!="symbol"?_+"":_,w),w),v={};d(v,{DEFAULT_OPTIONS:()=>E,DEFAULT_UUID_LENGTH:()=>b,default:()=>S});var l="5.2.0",b=6,E={dictionary:"alphanum",shuffle:!0,debug:!1,length:b,counter:0},f=class{constructor(_={}){g(this,"counter"),g(this,"debug"),g(this,"dict"),g(this,"version"),g(this,"dictIndex",0),g(this,"dictRange",[]),g(this,"lowerBound",0),g(this,"upperBound",0),g(this,"dictLength",0),g(this,"uuidLength"),g(this,"_digit_first_ascii",48),g(this,"_digit_last_ascii",58),g(this,"_alpha_lower_first_ascii",97),g(this,"_alpha_lower_last_ascii",123),g(this,"_hex_last_ascii",103),g(this,"_alpha_upper_first_ascii",65),g(this,"_alpha_upper_last_ascii",91),g(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),g(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),g(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),g(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),g(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),g(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),g(this,"log",(...O)=>{const P=[...O];if(P[0]=`[short-unique-id] ${O[0]}`,this.debug===!0&&typeof console<"u"&&console!==null)return console.log(...P)}),g(this,"_normalizeDictionary",(O,P)=>{let M;if(O&&Array.isArray(O)&&O.length>1)M=O;else{M=[];let R;this.dictIndex=R=0;const j=`_${O}_dict_ranges`,B=this._dict_ranges[j];Object.keys(B).forEach(I=>{const D=I;for(this.dictRange=B[D],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=R=this.lowerBound;this.lowerBound<=this.upperBound?R<this.upperBound:R>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?R+=1:R-=1)M.push(String.fromCharCode(this.dictIndex))})}return P&&(M=M.sort(()=>Math.random()-.5)),M}),g(this,"setDictionary",(O,P)=>{this.dict=this._normalizeDictionary(O,P),this.dictLength=this.dict.length,this.setCounter(0)}),g(this,"seq",()=>this.sequentialUUID()),g(this,"sequentialUUID",()=>{let O,P,M="";O=this.counter;do P=O%this.dictLength,O=Math.trunc(O/this.dictLength),M+=this.dict[P];while(O!==0);return this.counter+=1,M}),g(this,"rnd",(O=this.uuidLength||b)=>this.randomUUID(O)),g(this,"randomUUID",(O=this.uuidLength||b)=>{let P,M,R;if(O===null||typeof O>"u"||O<1)throw new Error("Invalid UUID Length Provided");for(P="",R=0;R<O;R+=1)M=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,P+=this.dict[M];return P}),g(this,"fmt",(O,P)=>this.formattedUUID(O,P)),g(this,"formattedUUID",(O,P)=>{const M={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return O.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,j=>{const B=j.slice(0,2),I=parseInt(j.slice(2),10);return B==="$s"?M[B]().padStart(I,"0"):B==="$t"&&P?M[B](I,P):M[B](I)})}),g(this,"availableUUIDs",(O=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,O).toFixed(0))),g(this,"approxMaxBeforeCollision",(O=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*O).toFixed(20))),g(this,"collisionProbability",(O=this.availableUUIDs(this.uuidLength),P=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(O)/this.availableUUIDs(P)).toFixed(20))),g(this,"uniqueness",(O=this.availableUUIDs(this.uuidLength))=>{const P=parseFloat((1-this.approxMaxBeforeCollision(O)/O).toFixed(20));return P>1?1:P<0?0:P}),g(this,"getVersion",()=>this.version),g(this,"stamp",(O,P)=>{const M=Math.floor(+(P||new Date)/1e3).toString(16);if(typeof O=="number"&&O===0)return M;if(typeof O!="number"||O<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const R=O-9,j=Math.round(Math.random()*(R>15?15:R)),B=this.randomUUID(R);return`${B.substring(0,j)}${M}${B.substring(j)}${j.toString(16)}`}),g(this,"parseStamp",(O,P)=>{if(P&&!/t0|t[1-9]\d{1,}/.test(P))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const M=P?P.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,j=>{const B={$r:L=>[...Array(L)].map(()=>"r").join(""),$s:L=>[...Array(L)].map(()=>"s").join(""),$t:L=>[...Array(L)].map(()=>"t").join("")},I=j.slice(0,2),D=parseInt(j.slice(2),10);return B[I](D)}).replace(/^(.*?)(t{8,})(.*)$/g,(j,B,I)=>O.substring(B.length,B.length+I.length)):O;if(M.length===8)return new Date(parseInt(M,16)*1e3);if(M.length<10)throw new Error("Stamp length invalid");const R=parseInt(M.substring(M.length-1),16);return new Date(parseInt(M.substring(R,R+8),16)*1e3)}),g(this,"setCounter",O=>{this.counter=O}),g(this,"validate",(O,P)=>{const M=P?this._normalizeDictionary(P):this.dict;return O.split("").every(R=>M.includes(R))});const w=p(p({},E),_);this.counter=0,this.debug=!1,this.dict=[],this.version=l;const{dictionary:x,shuffle:A,length:V,counter:k}=w;return this.uuidLength=V,this.setDictionary(x,A),this.setCounter(k),this.debug=w.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}};g(f,"default",f);var S=f;return h(v)})();t.exports=e.default,typeof window<"u"&&(e=e.default)})(shortUniqueId);var shortUniqueIdExports=shortUniqueId.exports,ShortUniqueId=getDefaultExportFromCjs(shortUniqueIdExports);class ElementIdentityError extends ApiDOMStructuredError{value;constructor(e,s){super(e,s),typeof s<"u"&&(this.value=s.value)}}class IdentityManager{uuid;identityMap;constructor({length:e=6}={}){this.uuid=new ShortUniqueId({length:e}),this.identityMap=new WeakMap}identify(e){if(!isElement(e))throw new ElementIdentityError("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&isStringElement(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const s=new StringElement(this.generateId());return this.identityMap.set(e,s),s}forget(e){return this.identityMap.has(e)?(this.identityMap.delete(e),!0):!1}generateId(){return this.uuid.randomUUID()}}new IdentityManager;class MediaTypes extends Array{unknownMediaType="application/octet-stream";filterByFormat(){throw new NotImplementedError("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new NotImplementedError("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new NotImplementedError("latest method in MediaTypes class is not yet implemented.")}}const refract$8=(t,{Type:e,plugins:s=[]})=>{const r=new e(t);return isElement(t)&&(t.meta.length>0&&(r.meta=cloneDeep(t.meta)),t.attributes.length>0&&(r.attributes=cloneDeep(t.attributes))),dispatchPluginsSync(r,s,{toolboxCreator:createToolbox$8,visitorOptions:{nodeTypeGetter:getNodeType$b}})},createRefractor$8=t=>(e,s={})=>refract$8(e,{...s,Type:t});ObjectElement.refract=createRefractor$8(ObjectElement),ArrayElement.refract=createRefractor$8(ArrayElement),StringElement.refract=createRefractor$8(StringElement),BooleanElement.refract=createRefractor$8(BooleanElement),NullElement.refract=createRefractor$8(NullElement),NumberElement.refract=createRefractor$8(NumberElement),LinkElement.refract=createRefractor$8(LinkElement),RefElement.refract=createRefractor$8(RefElement),Annotation.refract=createRefractor$8(Annotation),Comment.refract=createRefractor$8(Comment),ParseResult$1.refract=createRefractor$8(ParseResult$1),SourceMap.refract=createRefractor$8(SourceMap);const filter$1=(t,e)=>{const s=new PredicateVisitor({predicate:t});return visit$1(e,s),new ArraySlice(s.result)},find=(t,e)=>{const s=new PredicateVisitor({predicate:t,returnOnTrue:BREAK});return visit$1(e,s),pathOr(void 0,[0],s.result)},nodeTypeGetter=t=>typeof t?.type=="string"?t.type:getNodeType$b(t),keyMapDefault={EphemeralObject:["content"],EphemeralArray:["content"],...keyMapDefault$1},visit=(t,e,{keyMap:s=keyMapDefault,...r}={})=>visit$1(t,e,{keyMap:s,nodeTypeGetter,nodePredicate:T,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...r});visit[Symbol.for("nodejs.util.promisify.custom")]=async(t,{keyMap:e=keyMapDefault,...s}={})=>visit$1[Symbol.for("nodejs.util.promisify.custom")](t,visitor,{keyMap:e,nodeTypeGetter,nodePredicate:T,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...s});class EphemeralArray{type="EphemeralArray";content=[];reference=void 0;constructor(e){this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}class EphemeralObject{type="EphemeralObject";content=[];reference=void 0;constructor(e){this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}let Visitor$6=class{ObjectElement={enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const s=new EphemeralObject(e.content);return this.references.set(e,s),s}};EphemeralObject={leave:e=>e.toObject()};MemberElement={enter:e=>[e.key,e.value]};ArrayElement={enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const s=new EphemeralArray(e.content);return this.references.set(e,s),s}};EphemeralArray={leave:e=>e.toArray()};references=new WeakMap;BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...s){var r;const n=s[3];return((r=n[n.length-1])===null||r===void 0?void 0:r.type)==="EphemeralObject"?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return isStringElement(e.href)?e.href.toValue():""}};const serializer=t=>isElement(t)?isStringElement(t)||isNumberElement(t)||isBooleanElement(t)||isNullElement(t)?t.toValue():visit(t,new Visitor$6):t,dereference=(t,e)=>{const s=defaultTo(t,e);return mapObjIndexed(r=>{if(isPlainObj(r)&&has$1("$ref",r)&&propSatisfies(isString$4,"$ref",r)){const n=path$4(["$ref"],r),o=trimCharsStart("#/",n);return path$4(o.split("/"),s)}return isPlainObj(r)?dereference(r,s):r},t)},fromFn=(t,e=namespace$c)=>{if(isString$4(t))try{return e.fromRefract(JSON.parse(t))}catch{}return isPlainObj(t)&&has$1("element",t)?e.fromRefract(t):e.toElement(t)},dehydrate=(t,e=namespace$c)=>e.toRefract(t);class SymbolicExpressionsVisitor{result="";nestingLevel=0;enter(e){const{element:s}=e,r=s.charAt(0).toUpperCase()+s.slice(1),n="  ".repeat(this.nestingLevel);this.result+=this.nestingLevel>0?`
`:"",this.result+=`${n}(${r}Element`,this.nestingLevel+=1}leave(){this.nestingLevel-=1,this.result+=")"}}const sexprs=t=>{const e=new SymbolicExpressionsVisitor;return visit$1(t,e),e.result},emptyElement=t=>{const e=t.meta.length>0?cloneDeep(t.meta):void 0,s=t.attributes.length>0?cloneDeep(t.attributes):void 0;return new t.constructor(void 0,e,s)},cloneUnlessOtherwiseSpecified=(t,e)=>e.clone&&e.isMergeableElement(t)?deepmerge(emptyElement(t),t,e):t,getMergeFunction=(t,e)=>{if(typeof e.customMerge!="function")return deepmerge;const s=e.customMerge(t,e);return typeof s=="function"?s:deepmerge},getMetaMergeFunction=t=>typeof t.customMetaMerge!="function"?e=>cloneDeep(e):t.customMetaMerge,getAttributesMergeFunction=t=>typeof t.customAttributesMerge!="function"?e=>cloneDeep(e):t.customAttributesMerge,mergeArrayElement=(t,e,s)=>t.concat(e)["fantasy-land/map"](r=>cloneUnlessOtherwiseSpecified(r,s)),mergeObjectElement=(t,e,s)=>{const r=isObjectElement(t)?emptyElement(t):emptyElement(e);return isObjectElement(t)&&t.forEach((n,o,a)=>{const c=cloneShallow(a);c.value=cloneUnlessOtherwiseSpecified(n,s),r.content.push(c)}),e.forEach((n,o,a)=>{const c=serializer(o);let u;if(isObjectElement(t)&&t.hasKey(c)&&s.isMergeableElement(n)){const p=t.get(c);u=cloneShallow(a),u.value=getMergeFunction(o,s)(p,n)}else u=cloneShallow(a),u.value=cloneUnlessOtherwiseSpecified(n,s);r.remove(c),r.content.push(u)}),r},defaultOptions$1={clone:!0,isMergeableElement:t=>isObjectElement(t)||isArrayElement(t),arrayElementMerge:mergeArrayElement,objectElementMerge:mergeObjectElement,customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0},deepmerge=(t,e,s)=>{var r,n,o;const a={...defaultOptions$1,...s};a.isMergeableElement=(r=a.isMergeableElement)!==null&&r!==void 0?r:defaultOptions$1.isMergeableElement,a.arrayElementMerge=(n=a.arrayElementMerge)!==null&&n!==void 0?n:defaultOptions$1.arrayElementMerge,a.objectElementMerge=(o=a.objectElementMerge)!==null&&o!==void 0?o:defaultOptions$1.objectElementMerge;const c=isArrayElement(e),u=isArrayElement(t);if(!(c===u))return cloneUnlessOtherwiseSpecified(e,a);const d=c&&typeof a.arrayElementMerge=="function"?a.arrayElementMerge(t,e,a):a.objectElementMerge(t,e,a);return d.meta=getMetaMergeFunction(a)(t.meta,e.meta),d.attributes=getAttributesMergeFunction(a)(t.attributes,e.attributes),d};deepmerge.all=(t,e)=>{if(!Array.isArray(t))throw new TypeError("First argument of deepmerge should be an array.");return t.length===0?new ObjectElement:t.reduce((s,r)=>deepmerge(s,r,e),emptyElement(t[0]))};let ParserError$1=class extends ApiDOMStructuredError{source;parserOptions;constructor(e,s){super(e,s),typeof s<"u"&&(this.source=s.source,this.parserOptions=s.parserOptions)}};class ApiDOMParser{adapters=[];async detectAdapterCandidates(e){const s=[];for(const r of this.adapters)isFunction$4(r.detect)&&await r.detect(e)&&s.push(r);return s}async findAdapter(e,s){if(isString$4(s))return this.adapters.find(n=>isArray$7(n.mediaTypes)?n.mediaTypes.includes(s):!1);const r=await this.detectAdapterCandidates(e);return head(r)}use(e){return this.adapters.push(e),this}async findNamespace(e,s={}){const r=await this.findAdapter(e,s.mediaType);return r?.namespace}async findMediaType(e){const s=await this.findAdapter(e,void 0);if(typeof s>"u")return new MediaTypes().unknownMediaType;if(typeof s.mediaTypes>"u")return new MediaTypes().unknownMediaType;if(typeof s.detectionRegExp>"u")return s.mediaTypes.latest();const{detectionRegExp:r}=s,n=e.match(r);if(n===null)return new MediaTypes().unknownMediaType;const{groups:o}=n,a=o?.version||o?.version_json||o?.version_yaml,c=o!=null&&o.version_json?"json":o!=null&&o.version_yaml?"yaml":"generic";return typeof a>"u"?s.mediaTypes.latest():s.mediaTypes.findBy(a,c)}async parse(e,s={}){let r;try{r=await this.findAdapter(e,s.mediaType)}catch(n){throw new ParserError$1("Encountered an unexpected error while matching parser adapters against the source.",{source:e,parserOptions:s,cause:n})}if(isUndefined$1(r))throw new ParserError$1("Source did not match any registered parsers",{source:e,parserOptions:s});try{return r.parse(e,s)}catch(n){throw new ParserError$1("Parsing encountered an unexpected error.",{source:e,parserOptions:s,cause:n})}}}var treeSitterWasm="https://swagger-api.github.io/apidom/assets/tree-sitter-jv5wlLdn.wasm";const realFetch$1=globalThis.fetch;isFunction$4(realFetch$1)&&(globalThis.fetch=(...t)=>isString$4(t[0])&&t[0].endsWith("tree-sitter.wasm")?realFetch$1.apply(globalThis,[treeSitterWasm,tail(t)]):realFetch$1.apply(globalThis,t));var treeSitter={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,default:__viteBrowserExternal}),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){var Module=typeof Module<"u"?Module:{},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(t,e)=>{throw e},scriptDirectory="";function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require$$0,nodePath=require$$0;scriptDirectory=__dirname+"/",readBinary=t=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t);var e=fs.readFileSync(t);return e},readAsync=(t,e=!0)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),new Promise((s,r)=>{fs.readFile(t,e?void 0:"utf8",(n,o)=>{n?r(n):s(e?o.buffer:o)})})),!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),module.exports=Module,quit_=(t,e)=>{throw process.exitCode=t,e}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:typeof document<"u"&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory.startsWith("blob:")?scriptDirectory="":scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),ENVIRONMENT_IS_WORKER&&(readBinary=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=t=>isFileURI(t)?new Promise((e,s)=>{var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{(r.status==200||r.status==0&&r.response)&&s(r.response),e(r.status)},r.onerror=e,r.send(null)}):fetch(t,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url))));var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP_DATA_VIEW;function updateMemoryViews(){var t=wasmMemory.buffer;Module.HEAP_DATA_VIEW=HEAP_DATA_VIEW=new DataView(t),Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=new Int16Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=new Uint16Array(t),Module.HEAP32=new Int32Array(t),Module.HEAPU32=new Uint32Array(t),Module.HEAPF32=new Float32Array(t),Module.HEAPF64=new Float64Array(t)}if(Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2147483648/65536})}updateMemoryViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}function addOnInit(t){__ATINIT__.unshift(t)}function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}var runDependencies=0,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}function addRunDependency(t){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&dependenciesFulfilled){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}function abort(t){Module.onAbort?.(t),t="Aborted("+t+")",err(t),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw e}var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=t=>t.startsWith(dataURIPrefix),isFileURI=t=>t.startsWith("file://");function findWasmBinary(){var t="tree-sitter.wasm";return isDataURI(t)?t:locateFile(t)}var wasmBinaryFile;function getBinarySync(t){if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(t){return wasmBinary?Promise.resolve().then(()=>getBinarySync(t)):readAsync(t).then(e=>new Uint8Array(e),()=>getBinarySync(t))}function instantiateArrayBuffer(t,e,s){return getBinaryPromise(t).then(r=>WebAssembly.instantiate(r,e)).then(s,r=>{err(`failed to asynchronously prepare wasm: ${r}`),abort(r)})}function instantiateAsync(t,e,s,r){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(e)&&!isFileURI(e)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(n=>{var o=WebAssembly.instantiateStreaming(n,s);return o.then(r,function(a){return err(`wasm streaming compile failed: ${a}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(e,s,r)})}):instantiateArrayBuffer(e,s,r)}function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}function createWasm(){var t=getWasmImports();function e(r,n){wasmExports=r.exports,wasmExports=relocateExports(wasmExports,1024);var o=getDylinkMetadata(n);return o.neededDynlibs&&(dynamicLibraries=o.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency(),wasmExports}addRunDependency();function s(r){e(r.instance,r.module)}if(Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(r){return err(`Module.instantiateWasm callback failed with error: ${r}`),!1}return wasmBinaryFile||(wasmBinaryFile=findWasmBinary()),instantiateAsync(wasmBinary,wasmBinaryFile,t,s),{}}function ExitStatus(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(t,e){var s=GOT[e];return s||(s=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(e)||(s.required=!0),s}},LE_HEAP_LOAD_F32=t=>HEAP_DATA_VIEW.getFloat32(t,!0),LE_HEAP_LOAD_F64=t=>HEAP_DATA_VIEW.getFloat64(t,!0),LE_HEAP_LOAD_I16=t=>HEAP_DATA_VIEW.getInt16(t,!0),LE_HEAP_LOAD_I32=t=>HEAP_DATA_VIEW.getInt32(t,!0),LE_HEAP_LOAD_U32=t=>HEAP_DATA_VIEW.getUint32(t,!0),LE_HEAP_STORE_F32=(t,e)=>HEAP_DATA_VIEW.setFloat32(t,e,!0),LE_HEAP_STORE_F64=(t,e)=>HEAP_DATA_VIEW.setFloat64(t,e,!0),LE_HEAP_STORE_I16=(t,e)=>HEAP_DATA_VIEW.setInt16(t,e,!0),LE_HEAP_STORE_I32=(t,e)=>HEAP_DATA_VIEW.setInt32(t,e,!0),LE_HEAP_STORE_U32=(t,e)=>HEAP_DATA_VIEW.setUint32(t,e,!0),callRuntimeCallbacks=t=>{for(;t.length>0;)t.shift()(Module)},UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder:void 0,UTF8ArrayToString=(t,e,s)=>{for(var r=e+s,n=e;t[n]&&!(n>=r);)++n;if(n-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,n));for(var o="";e<n;){var a=t[e++];if(!(a&128)){o+=String.fromCharCode(a);continue}var c=t[e++]&63;if((a&224)==192){o+=String.fromCharCode((a&31)<<6|c);continue}var u=t[e++]&63;if((a&240)==224?a=(a&15)<<12|c<<6|u:a=(a&7)<<18|c<<12|u<<6|t[e++]&63,a<65536)o+=String.fromCharCode(a);else{var p=a-65536;o+=String.fromCharCode(55296|p>>10,56320|p&1023)}}return o},getDylinkMetadata=t=>{var e=0,s=0;function r(){return t[e++]}function n(){for(var P=0,M=1;;){var R=t[e++];if(P+=(R&127)*M,M*=128,!(R&128))break}return P}function o(){var P=n();return e+=P,UTF8ArrayToString(t,e-P,P)}function a(P,M){if(P)throw new Error(M)}var c="dylink.0";if(t instanceof WebAssembly.Module){var u=WebAssembly.Module.customSections(t,c);u.length===0&&(c="dylink",u=WebAssembly.Module.customSections(t,c)),a(u.length===0,"need dylink section"),t=new Uint8Array(u[0]),s=t.length}else{var p=new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer),d=p[0]==1836278016||p[0]==6386541;a(!d,"need to see wasm magic number"),a(t[8]!==0,"need the dylink section to be first"),e=9;var m=n();s=e+m,c=o()}var h={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(c=="dylink"){h.memorySize=n(),h.memoryAlign=n(),h.tableSize=n(),h.tableAlign=n();for(var g=n(),v=0;v<g;++v){var l=o();h.neededDynlibs.push(l)}}else{a(c!=="dylink.0");for(var b=1,E=2,f=3,S=4,y=256,_=3,w=1;e<s;){var x=r(),A=n();if(x===b)h.memorySize=n(),h.memoryAlign=n(),h.tableSize=n(),h.tableAlign=n();else if(x===E)for(var g=n(),v=0;v<g;++v)l=o(),h.neededDynlibs.push(l);else if(x===f)for(var V=n();V--;){var k=o(),O=n();O&y&&h.tlsExports.add(k)}else if(x===S)for(var V=n();V--;){o();var k=o(),O=n();(O&_)==w&&h.weakImports.add(k)}else e+=A}}return h};function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return HEAP8[t];case"i8":return HEAP8[t];case"i16":return LE_HEAP_LOAD_I16((t>>1)*2);case"i32":return LE_HEAP_LOAD_I32((t>>2)*4);case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return LE_HEAP_LOAD_F32((t>>2)*4);case"double":return LE_HEAP_LOAD_F64((t>>3)*8);case"*":return LE_HEAP_LOAD_U32((t>>2)*4);default:abort(`invalid type for getValue: ${e}`)}}var newDSO=(t,e,s)=>{var r={refcount:1/0,name:t,exports:s,global:!0};return LDSO.loadedLibsByName[t]=r,e!=null&&(LDSO.loadedLibsByHandle[e]=r),r},LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78112,zeroMemory=(t,e)=>(HEAPU8.fill(0,t,t+e),t),alignMemory=(t,e)=>Math.ceil(t/e)*e,getMemory=t=>{if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,s=e+alignMemory(t,16);return ___heap_base=s,GOT.__heap_base.value=s,e},isInternalSym=t=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(t)||t.startsWith("__em_js__"),uleb128Encode=(t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},sigToWasmTypes=t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},s={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},r=1;r<t.length;++r)s.parameters.push(e[t[r]]);return s},generateFuncType=(t,e)=>{var s=t.slice(0,1),r=t.slice(1),n={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),uleb128Encode(r.length,e);for(var o=0;o<r.length;++o)e.push(n[r[o]]);s=="v"?e.push(0):e.push(1,n[s])},convertJsFunctionToWasm=(t,e)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var s=[1];generateFuncType(e,s);var r=[0,97,115,109,1,0,0,0,1];uleb128Encode(s.length,r),r.push(...s),r.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var n=new WebAssembly.Module(new Uint8Array(r)),o=new WebAssembly.Instance(n,{e:{f:t}}),a=o.exports.f;return a},wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:28,element:"anyfunc"}),getWasmTableEntry=t=>{var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e},updateTableMap=(t,e)=>{if(functionsInTableMap)for(var s=t;s<t+e;s++){var r=getWasmTableEntry(s);r&&functionsInTableMap.set(r,s)}},functionsInTableMap,getFunctionAddress=t=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(t)||0),freeTableIndexes=[],getEmptyTableSlot=()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1},setWasmTableEntry=(t,e)=>{wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)},addFunction=(t,e)=>{var s=getFunctionAddress(t);if(s)return s;var r=getEmptyTableSlot();try{setWasmTableEntry(r,t)}catch(o){if(!(o instanceof TypeError))throw o;var n=convertJsFunctionToWasm(t,e);setWasmTableEntry(r,n)}return functionsInTableMap.set(t,r),r},updateGOT=(t,e)=>{for(var s in t)if(!isInternalSym(s)){var r=t[s];s.startsWith("orig$")&&(s=s.split("$")[1],e=!0),GOT[s]||=new WebAssembly.Global({value:"i32",mutable:!0}),(e||GOT[s].value==0)&&(typeof r=="function"?GOT[s].value=addFunction(r):typeof r=="number"?GOT[s].value=r:err(`unhandled export type for '${s}': ${typeof r}`))}},relocateExports=(t,e,s)=>{var r={};for(var n in t){var o=t[n];typeof o=="object"&&(o=o.value),typeof o=="number"&&(o+=e),r[n]=o}return updateGOT(r,s),r},isSymbolDefined=t=>{var e=wasmImports[t];return!(!e||e.stub)},dynCallLegacy=(t,e,s)=>{t=t.replace(/p/g,"i");var r=Module["dynCall_"+t];return r(e,...s)},dynCall=(t,e,s=[])=>{if(t.includes("j"))return dynCallLegacy(t,e,s);var r=getWasmTableEntry(e)(...s);return r},stackSave=()=>_emscripten_stack_get_current(),stackRestore=t=>__emscripten_stack_restore(t),createInvokeFunction=t=>(e,...s)=>{var r=stackSave();try{return dynCall(t,e,s)}catch(n){if(stackRestore(r),n!==n+0)throw n;_setThrew(1,0)}},resolveGlobalSymbol=(t,e=!1)=>{var s;return e&&"orig$"+t in wasmImports&&(t="orig$"+t),isSymbolDefined(t)?s=wasmImports[t]:t.startsWith("invoke_")&&(s=wasmImports[t]=createInvokeFunction(t.split("_")[1])),{sym:s,name:t}},UTF8ToString=(t,e)=>t?UTF8ArrayToString(HEAPU8,t,e):"",loadWebAssemblyModule=(binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);currentModuleWeakSymbols=metadata.weakImports;function loadModule(){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0,tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length;tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t).sym;return!e&&localScope&&(e=localScope[t]),e||(e=moduleExports[t]),e}var proxyHandler={get(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in wasmImports&&!wasmImports[e].stub)return wasmImports[e];if(!(e in t)){var s;t[e]=(...r)=>(s||=resolveSymbol(e),s(...r))}return t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;eval(func)}if("__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void"){cSig=cSig.split(",");for(var i in cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then(t=>postInstantiation(t.module,t.instance))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return flags.loadAsync?metadata.neededDynlibs.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(t=>loadDynamicLibrary(t,flags,localScope)),loadModule())},mergeLibSymbols=(t,e)=>{for(var[s,r]of Object.entries(t)){const n=a=>{isSymbolDefined(a)||(wasmImports[a]=r)};n(s);const o="__main_argc_argv";s=="main"&&n(o),s==o&&n("main"),s.startsWith("dynCall_")&&!Module.hasOwnProperty(s)&&(Module[s]=r)}},asyncLoad=(t,e,s,r)=>{var n=`al ${t}`;readAsync(t).then(o=>{e(new Uint8Array(o)),n&&removeRunDependency()},o=>{if(s)s();else throw`Loading data file "${t}" failed.`}),n&&addRunDependency()};function loadDynamicLibrary(t,e={global:!0,nodelete:!0},s,r){var n=LDSO.loadedLibsByName[t];if(n)return e.global&&(n.global||(n.global=!0,mergeLibSymbols(n.exports))),e.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,e.loadAsync?Promise.resolve(!0):!0;n=newDSO(t,r,"loading"),n.refcount=e.nodelete?1/0:1,n.global=e.global;function o(){var u=locateFile(t);if(e.loadAsync)return new Promise(function(p,d){asyncLoad(u,p,d)});if(!readBinary)throw new Error(`${u}: file not found, and synchronous loading of external files is not available`);return readBinary(u)}function a(){return e.loadAsync?o().then(u=>loadWebAssemblyModule(u,e,t,s)):loadWebAssemblyModule(o(),e,t,s)}function c(u){n.global&&mergeLibSymbols(u),n.exports=u}return e.loadAsync?a().then(u=>(c(u),!0)):(c(a()),!0)}var reportUndefinedSymbols=()=>{for(var[t,e]of Object.entries(GOT))if(e.value==0){var s=resolveGlobalSymbol(t,!0).sym;if(!s&&!e.required)continue;if(typeof s=="function")e.value=addFunction(s,s.sig);else if(typeof s=="number")e.value=s;else throw new Error(`bad export type for '${t}': ${typeof s}`)}},loadDylibs=()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency(),dynamicLibraries.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})),Promise.resolve()).then(()=>{reportUndefinedSymbols(),removeRunDependency()})},noExitRuntime=Module.noExitRuntime||!0;function setValue(t,e,s="i8"){switch(s.endsWith("*")&&(s="*"),s){case"i1":HEAP8[t]=e;break;case"i8":HEAP8[t]=e;break;case"i16":LE_HEAP_STORE_I16((t>>1)*2,e);break;case"i32":LE_HEAP_STORE_I32((t>>2)*4,e);break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":LE_HEAP_STORE_F32((t>>2)*4,e);break;case"double":LE_HEAP_STORE_F64((t>>3)*8,e);break;case"*":LE_HEAP_STORE_U32((t>>2)*4,e);break;default:abort(`invalid type for setValue: ${s}`)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78112),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),__abort_js=()=>{abort("")};__abort_js.sig="v";var nowIsMonotonic=1,__emscripten_get_now_is_monotonic=()=>nowIsMonotonic;__emscripten_get_now_is_monotonic.sig="i";var __emscripten_memcpy_js=(t,e,s)=>HEAPU8.copyWithin(t,e,e+s);__emscripten_memcpy_js.sig="vppp";var _emscripten_get_now;_emscripten_get_now=()=>performance.now(),_emscripten_get_now.sig="d";var getHeapMax=()=>2147483648,growMemory=t=>{var e=wasmMemory.buffer,s=(t-e.byteLength+65535)/65536;try{return wasmMemory.grow(s),updateMemoryViews(),1}catch{}},_emscripten_resize_heap=t=>{var e=HEAPU8.length;t>>>=0;var s=getHeapMax();if(t>s)return!1;for(var r=(u,p)=>u+(p-u%p)%p,n=1;n<=4;n*=2){var o=e*(1+.2/n);o=Math.min(o,t+100663296);var a=Math.min(s,r(Math.max(t,o),65536)),c=growMemory(a);if(c)return!0}return!1};_emscripten_resize_heap.sig="ip";var _fd_close=t=>52;_fd_close.sig="ii";function _fd_seek(t,e,s,r,n){return 70}_fd_seek.sig="iiiiip";var printCharBuffers=[null,[],[]],printChar=(t,e)=>{var s=printCharBuffers[t];e===0||e===10?((t===1?out:err)(UTF8ArrayToString(s,0)),s.length=0):s.push(e)},_fd_write=(t,e,s,r)=>{for(var n=0,o=0;o<s;o++){var a=LE_HEAP_LOAD_U32((e>>2)*4),c=LE_HEAP_LOAD_U32((e+4>>2)*4);e+=8;for(var u=0;u<c;u++)printChar(t,HEAPU8[a+u]);n+=c}return LE_HEAP_STORE_U32((r>>2)*4,n),0};_fd_write.sig="iippp";function _tree_sitter_log_callback(t,e){if(currentLogCallback){const s=UTF8ToString(e);currentLogCallback(s,t!==0)}}function _tree_sitter_parse_callback(t,e,s,r,n){const a=currentParseCallback(e,{row:s,column:r});typeof a=="string"?(setValue(n,a.length,"i32"),stringToUTF16(a,t,10240)):setValue(n,0,"i32")}var runtimeKeepaliveCounter=0,keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0,_proc_exit=t=>{EXITSTATUS=t,keepRuntimeAlive()||(Module.onExit?.(t),ABORT=!0),quit_(t,new ExitStatus(t))};_proc_exit.sig="vi";var exitJS=(t,e)=>{EXITSTATUS=t,_proc_exit(t)},handleException=t=>{if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)},lengthBytesUTF8=t=>{for(var e=0,s=0;s<t.length;++s){var r=t.charCodeAt(s);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++s):e+=3}return e},stringToUTF8Array=(t,e,s,r)=>{if(!(r>0))return 0;for(var n=s,o=s+r-1,a=0;a<t.length;++a){var c=t.charCodeAt(a);if(c>=55296&&c<=57343){var u=t.charCodeAt(++a);c=65536+((c&1023)<<10)|u&1023}if(c<=127){if(s>=o)break;e[s++]=c}else if(c<=2047){if(s+1>=o)break;e[s++]=192|c>>6,e[s++]=128|c&63}else if(c<=65535){if(s+2>=o)break;e[s++]=224|c>>12,e[s++]=128|c>>6&63,e[s++]=128|c&63}else{if(s+3>=o)break;e[s++]=240|c>>18,e[s++]=128|c>>12&63,e[s++]=128|c>>6&63,e[s++]=128|c&63}}return e[s]=0,s-n},stringToUTF8=(t,e,s)=>stringToUTF8Array(t,HEAPU8,e,s),stackAlloc=t=>__emscripten_stack_alloc(t),stringToUTF8OnStack=t=>{var e=lengthBytesUTF8(t)+1,s=stackAlloc(e);return stringToUTF8(t,s,e),s},stringToUTF16=(t,e,s)=>{if(s??=2147483647,s<2)return 0;s-=2;for(var r=e,n=s<t.length*2?s/2:t.length,o=0;o<n;++o){var a=t.charCodeAt(o);LE_HEAP_STORE_I16((e>>1)*2,a),e+=2}return LE_HEAP_STORE_I16((e>>1)*2,0),e-r},AsciiToString=t=>{for(var e="";;){var s=HEAPU8[t++];if(!s)return e;e+=String.fromCharCode(s)}},wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_abort_js:__abort_js,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,_emscripten_memcpy_js:__emscripten_memcpy_js,emscripten_get_now:_emscripten_get_now,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),_malloc=Module._malloc=t=>(_malloc=Module._malloc=wasmExports.malloc)(t);Module._calloc=(t,e)=>(Module._calloc=wasmExports.calloc)(t,e),Module._realloc=(t,e)=>(Module._realloc=wasmExports.realloc)(t,e),Module._free=t=>(Module._free=wasmExports.free)(t),Module._ts_language_symbol_count=t=>(Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(t),Module._ts_language_state_count=t=>(Module._ts_language_state_count=wasmExports.ts_language_state_count)(t),Module._ts_language_version=t=>(Module._ts_language_version=wasmExports.ts_language_version)(t),Module._ts_language_field_count=t=>(Module._ts_language_field_count=wasmExports.ts_language_field_count)(t),Module._ts_language_next_state=(t,e,s)=>(Module._ts_language_next_state=wasmExports.ts_language_next_state)(t,e,s),Module._ts_language_symbol_name=(t,e)=>(Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(t,e),Module._ts_language_symbol_for_name=(t,e,s,r)=>(Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(t,e,s,r),Module._strncmp=(t,e,s)=>(Module._strncmp=wasmExports.strncmp)(t,e,s),Module._ts_language_symbol_type=(t,e)=>(Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(t,e),Module._ts_language_field_name_for_id=(t,e)=>(Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(t,e),Module._ts_lookahead_iterator_new=(t,e)=>(Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(t,e),Module._ts_lookahead_iterator_delete=t=>(Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(t),Module._ts_lookahead_iterator_reset_state=(t,e)=>(Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(t,e),Module._ts_lookahead_iterator_reset=(t,e,s)=>(Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(t,e,s),Module._ts_lookahead_iterator_next=t=>(Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(t),Module._ts_lookahead_iterator_current_symbol=t=>(Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(t),Module._memset=(t,e,s)=>(Module._memset=wasmExports.memset)(t,e,s),Module._memcpy=(t,e,s)=>(Module._memcpy=wasmExports.memcpy)(t,e,s),Module._ts_parser_delete=t=>(Module._ts_parser_delete=wasmExports.ts_parser_delete)(t),Module._ts_parser_reset=t=>(Module._ts_parser_reset=wasmExports.ts_parser_reset)(t),Module._ts_parser_set_language=(t,e)=>(Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(t,e),Module._ts_parser_timeout_micros=t=>(Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(t),Module._ts_parser_set_timeout_micros=(t,e,s)=>(Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(t,e,s),Module._ts_parser_set_included_ranges=(t,e,s)=>(Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(t,e,s),Module._memmove=(t,e,s)=>(Module._memmove=wasmExports.memmove)(t,e,s),Module._memcmp=(t,e,s)=>(Module._memcmp=wasmExports.memcmp)(t,e,s),Module._ts_query_new=(t,e,s,r,n)=>(Module._ts_query_new=wasmExports.ts_query_new)(t,e,s,r,n),Module._ts_query_delete=t=>(Module._ts_query_delete=wasmExports.ts_query_delete)(t),Module._iswspace=t=>(Module._iswspace=wasmExports.iswspace)(t),Module._iswalnum=t=>(Module._iswalnum=wasmExports.iswalnum)(t),Module._ts_query_pattern_count=t=>(Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(t),Module._ts_query_capture_count=t=>(Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(t),Module._ts_query_string_count=t=>(Module._ts_query_string_count=wasmExports.ts_query_string_count)(t),Module._ts_query_capture_name_for_id=(t,e,s)=>(Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(t,e,s),Module._ts_query_string_value_for_id=(t,e,s)=>(Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(t,e,s),Module._ts_query_predicates_for_pattern=(t,e,s)=>(Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(t,e,s),Module._ts_query_disable_capture=(t,e,s)=>(Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(t,e,s),Module._ts_tree_copy=t=>(Module._ts_tree_copy=wasmExports.ts_tree_copy)(t),Module._ts_tree_delete=t=>(Module._ts_tree_delete=wasmExports.ts_tree_delete)(t),Module._ts_init=()=>(Module._ts_init=wasmExports.ts_init)(),Module._ts_parser_new_wasm=()=>(Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),Module._ts_parser_enable_logger_wasm=(t,e)=>(Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(t,e),Module._ts_parser_parse_wasm=(t,e,s,r,n)=>(Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(t,e,s,r,n),Module._ts_parser_included_ranges_wasm=t=>(Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(t),Module._ts_language_type_is_named_wasm=(t,e)=>(Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(t,e),Module._ts_language_type_is_visible_wasm=(t,e)=>(Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(t,e),Module._ts_tree_root_node_wasm=t=>(Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(t),Module._ts_tree_root_node_with_offset_wasm=t=>(Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(t),Module._ts_tree_edit_wasm=t=>(Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(t),Module._ts_tree_included_ranges_wasm=t=>(Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(t),Module._ts_tree_get_changed_ranges_wasm=(t,e)=>(Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(t,e),Module._ts_tree_cursor_new_wasm=t=>(Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(t),Module._ts_tree_cursor_delete_wasm=t=>(Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(t),Module._ts_tree_cursor_reset_wasm=t=>(Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(t),Module._ts_tree_cursor_reset_to_wasm=(t,e)=>(Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(t,e),Module._ts_tree_cursor_goto_first_child_wasm=t=>(Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(t),Module._ts_tree_cursor_goto_last_child_wasm=t=>(Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(t),Module._ts_tree_cursor_goto_first_child_for_index_wasm=t=>(Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(t),Module._ts_tree_cursor_goto_first_child_for_position_wasm=t=>(Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(t),Module._ts_tree_cursor_goto_next_sibling_wasm=t=>(Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(t),Module._ts_tree_cursor_goto_previous_sibling_wasm=t=>(Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(t),Module._ts_tree_cursor_goto_descendant_wasm=(t,e)=>(Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(t,e),Module._ts_tree_cursor_goto_parent_wasm=t=>(Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(t),Module._ts_tree_cursor_current_node_type_id_wasm=t=>(Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(t),Module._ts_tree_cursor_current_node_state_id_wasm=t=>(Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(t),Module._ts_tree_cursor_current_node_is_named_wasm=t=>(Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(t),Module._ts_tree_cursor_current_node_is_missing_wasm=t=>(Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(t),Module._ts_tree_cursor_current_node_id_wasm=t=>(Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(t),Module._ts_tree_cursor_start_position_wasm=t=>(Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(t),Module._ts_tree_cursor_end_position_wasm=t=>(Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(t),Module._ts_tree_cursor_start_index_wasm=t=>(Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(t),Module._ts_tree_cursor_end_index_wasm=t=>(Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(t),Module._ts_tree_cursor_current_field_id_wasm=t=>(Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(t),Module._ts_tree_cursor_current_depth_wasm=t=>(Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(t),Module._ts_tree_cursor_current_descendant_index_wasm=t=>(Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(t),Module._ts_tree_cursor_current_node_wasm=t=>(Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(t),Module._ts_node_symbol_wasm=t=>(Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(t),Module._ts_node_field_name_for_child_wasm=(t,e)=>(Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(t,e),Module._ts_node_children_by_field_id_wasm=(t,e)=>(Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(t,e),Module._ts_node_first_child_for_byte_wasm=t=>(Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(t),Module._ts_node_first_named_child_for_byte_wasm=t=>(Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(t),Module._ts_node_grammar_symbol_wasm=t=>(Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(t),Module._ts_node_child_count_wasm=t=>(Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(t),Module._ts_node_named_child_count_wasm=t=>(Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(t),Module._ts_node_child_wasm=(t,e)=>(Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(t,e),Module._ts_node_named_child_wasm=(t,e)=>(Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(t,e),Module._ts_node_child_by_field_id_wasm=(t,e)=>(Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(t,e),Module._ts_node_next_sibling_wasm=t=>(Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(t),Module._ts_node_prev_sibling_wasm=t=>(Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(t),Module._ts_node_next_named_sibling_wasm=t=>(Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(t),Module._ts_node_prev_named_sibling_wasm=t=>(Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(t),Module._ts_node_descendant_count_wasm=t=>(Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(t),Module._ts_node_parent_wasm=t=>(Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(t),Module._ts_node_descendant_for_index_wasm=t=>(Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(t),Module._ts_node_named_descendant_for_index_wasm=t=>(Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(t),Module._ts_node_descendant_for_position_wasm=t=>(Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(t),Module._ts_node_named_descendant_for_position_wasm=t=>(Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(t),Module._ts_node_start_point_wasm=t=>(Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(t),Module._ts_node_end_point_wasm=t=>(Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(t),Module._ts_node_start_index_wasm=t=>(Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(t),Module._ts_node_end_index_wasm=t=>(Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(t),Module._ts_node_to_string_wasm=t=>(Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(t),Module._ts_node_children_wasm=t=>(Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(t),Module._ts_node_named_children_wasm=t=>(Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(t),Module._ts_node_descendants_of_type_wasm=(t,e,s,r,n,o,a)=>(Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(t,e,s,r,n,o,a),Module._ts_node_is_named_wasm=t=>(Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(t),Module._ts_node_has_changes_wasm=t=>(Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(t),Module._ts_node_has_error_wasm=t=>(Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(t),Module._ts_node_is_error_wasm=t=>(Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(t),Module._ts_node_is_missing_wasm=t=>(Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(t),Module._ts_node_is_extra_wasm=t=>(Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(t),Module._ts_node_parse_state_wasm=t=>(Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(t),Module._ts_node_next_parse_state_wasm=t=>(Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(t),Module._ts_query_matches_wasm=(t,e,s,r,n,o,a,c,u,p,d)=>(Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(t,e,s,r,n,o,a,c,u,p,d),Module._ts_query_captures_wasm=(t,e,s,r,n,o,a,c,u,p,d)=>(Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(t,e,s,r,n,o,a,c,u,p,d),Module._iswalpha=t=>(Module._iswalpha=wasmExports.iswalpha)(t),Module._iswblank=t=>(Module._iswblank=wasmExports.iswblank)(t),Module._iswdigit=t=>(Module._iswdigit=wasmExports.iswdigit)(t),Module._iswlower=t=>(Module._iswlower=wasmExports.iswlower)(t),Module._iswupper=t=>(Module._iswupper=wasmExports.iswupper)(t),Module._iswxdigit=t=>(Module._iswxdigit=wasmExports.iswxdigit)(t),Module._memchr=(t,e,s)=>(Module._memchr=wasmExports.memchr)(t,e,s),Module._strlen=t=>(Module._strlen=wasmExports.strlen)(t),Module._strcmp=(t,e)=>(Module._strcmp=wasmExports.strcmp)(t,e),Module._strncat=(t,e,s)=>(Module._strncat=wasmExports.strncat)(t,e,s),Module._strncpy=(t,e,s)=>(Module._strncpy=wasmExports.strncpy)(t,e,s),Module._towlower=t=>(Module._towlower=wasmExports.towlower)(t),Module._towupper=t=>(Module._towupper=wasmExports.towupper)(t);var _setThrew=(t,e)=>(_setThrew=wasmExports.setThrew)(t,e),__emscripten_stack_restore=t=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(t),__emscripten_stack_alloc=t=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(t),_emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)();Module.dynCall_jiji=(t,e,s,r,n)=>(Module.dynCall_jiji=wasmExports.dynCall_jiji)(t,e,s,r,n),Module._orig$ts_parser_timeout_micros=t=>(Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(t),Module._orig$ts_parser_set_timeout_micros=(t,e)=>(Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(t,e),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16;var calledRun;dependenciesFulfilled=function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)};function callMain(t=[]){var e=resolveGlobalSymbol("main").sym;if(e){t.unshift(thisProgram);var s=t.length,r=stackAlloc((s+1)*4),n=r;t.forEach(a=>{LE_HEAP_STORE_U32((n>>2)*4,stringToUTF8OnStack(a)),n+=4}),LE_HEAP_STORE_U32((n>>2)*4,0);try{var o=e(s,r);return exitJS(o,!0),o}catch(a){return handleException(a)}}}function run(t=arguments_){if(runDependencies>0||(preRun(),runDependencies>0))return;function e(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(t),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;let VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let s;if(!e)s=0,e=null;else if(e.constructor===Language){s=e[0];const r=C._ts_language_version(s);if(r<MIN_COMPATIBLE_VERSION||VERSION<r)throw new Error(`Incompatible language version ${r}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}else throw new Error("Argument must be a Language");return this.language=e,C._ts_parser_set_language(this[0],s),this}getLanguage(){return this.language}parse(e,s,r){if(typeof e=="string")currentParseCallback=(u,p)=>e.slice(u);else if(typeof e=="function")currentParseCallback=e;else throw new Error("Argument must be a string or a function");this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let n=0,o=0;if(r?.includedRanges){n=r.includedRanges.length,o=C._calloc(n,SIZE_OF_RANGE);let u=o;for(let p=0;p<n;p++)marshalRange(u,r.includedRanges[p]),u+=SIZE_OF_RANGE}const a=C._ts_parser_parse_wasm(this[0],this[1],s?s[0]:0,o,n);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");const c=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,c}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);const e=getValue(TRANSFER_BUFFER,"i32"),s=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(e);if(e>0){let n=s;for(let o=0;o<e;o++)r[o]=unmarshalRange(n),n+=SIZE_OF_RANGE;C._free(s)}return r}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}setLogger(e){if(!e)e=null;else if(typeof e!="function")throw new Error("Logger callback must be a function");return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,s,r,n){assertInternal(e),this[0]=s,this.language=r,this.textCallback=n}copy(){const e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(e,s){const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),marshalPoint(r+SIZE_OF_INT,s),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const s=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(s);if(s>0){let o=r;for(let a=0;a<s;a++)n[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(r)}return n}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);const e=getValue(TRANSFER_BUFFER,"i32"),s=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),r=new Array(e);if(e>0){let n=s;for(let o=0;o<e;o++)r[o]=unmarshalRange(n),n+=SIZE_OF_RANGE;C._free(s)}return r}}class Node{constructor(e,s){assertInternal(e),this.tree=s}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){const s=this.tree.language.fields.indexOf(e);return s!==-1?this.childForFieldId(s):null}fieldNameForChild(e){marshalNode(this);const s=C._ts_node_field_name_for_child_wasm(this.tree[0],e);return s?AsciiToString(s):null}childrenForFieldName(e){const s=this.tree.language.fields.indexOf(e);return s!==-1&&s!==0?this.childrenForFieldId(s):[]}childrenForFieldId(e){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],e);const s=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(s);if(s>0){let o=r;for(let a=0;a<s;a++)n[a]=unmarshalNode(this.tree,o),o+=SIZE_OF_NODE;C._free(r)}return n}firstChildForIndex(e){marshalNode(this);const s=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(s,e,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(e){marshalNode(this);const s=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(s,e,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),s=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let r=s;for(let n=0;n<e;n++)this._children[n]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(s)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),s=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let r=s;for(let n=0;n<e;n++)this._namedChildren[n]=unmarshalNode(this.tree,r),r+=SIZE_OF_NODE;C._free(s)}}return this._namedChildren}descendantsOfType(e,s,r){Array.isArray(e)||(e=[e]),s||(s=ZERO_POINT),r||(r=ZERO_POINT);const n=[],o=this.tree.language.types;for(let d=0,m=o.length;d<m;d++)e.includes(o[d])&&n.push(d);const a=C._malloc(SIZE_OF_INT*n.length);for(let d=0,m=n.length;d<m;d++)setValue(a+d*SIZE_OF_INT,n[d],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,n.length,s.row,s.column,r.row,r.column);const c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),p=new Array(c);if(c>0){let d=u;for(let m=0;m<c;m++)p[m]=unmarshalNode(this.tree,d),d+=SIZE_OF_NODE}return C._free(u),C._free(a),p}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,s=e){if(typeof e!="number"||typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,s,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,s=e){if(typeof e!="number"||typeof s!="number")throw new Error("Arguments must be numbers");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),setValue(r+SIZE_OF_INT,s,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,s=e){if(!isPoint(e)||!isPoint(s))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,s),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,s=e){if(!isPoint(e)||!isPoint(s))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(r,e),marshalPoint(r+SIZE_OF_POINT,s),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const e=C._ts_node_to_string_wasm(this.tree[0]),s=AsciiToString(e);return C._free(e),s}}class TreeCursor{constructor(e,s){assertInternal(e),this.tree=s,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(e){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(e,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],e.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);const e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),s=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,s)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoLastChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoFirstChildForIndex(e){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,e,"i32");const s=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoFirstChildForPosition(e){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,e);const s=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),s===1}gotoNextSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoPreviousSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoDescendant(e){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],e),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{constructor(e,s){assertInternal(e),this[0]=s,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let r=0,n=this.types.length;r<n;r++)C._ts_language_symbol_type(this[0],r)<2&&(this.types[r]=UTF8ToString(C._ts_language_symbol_name(this[0],r)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let r=0,n=this.fields.length;r<n;r++){const o=C._ts_language_field_name_for_id(this[0],r);o!==0?this.fields[r]=UTF8ToString(o):this.fields[r]=null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(e){const s=this.fields.indexOf(e);return s!==-1?s:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,s){const r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);const o=C._ts_language_symbol_for_name(this[0],n,r,s);return C._free(n),o||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){const s=C._ts_language_symbol_name(this[0],e);return s?UTF8ToString(s):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}nextState(e,s){return C._ts_language_next_state(this[0],e,s)}lookaheadIterator(e){const s=C._ts_lookahead_iterator_new(this[0],e);return s?new LookaheadIterable(INTERNAL,s,this):null}query(e){const s=lengthBytesUTF8(e),r=C._malloc(s+1);stringToUTF8(e,r,s+1);const n=C._ts_query_new(this[0],r,s,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!n){const l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),b=getValue(TRANSFER_BUFFER,"i32"),E=UTF8ToString(r,b).length,f=e.substr(E,100).split(`
`)[0];let S=f.match(QUERY_WORD_REGEX)[0],y;switch(l){case 2:y=new RangeError(`Bad node name '${S}'`);break;case 3:y=new RangeError(`Bad field name '${S}'`);break;case 4:y=new RangeError(`Bad capture name @${S}`);break;case 5:y=new TypeError(`Bad pattern structure at offset ${E}: '${f}'...`),S="";break;default:y=new SyntaxError(`Bad syntax at offset ${E}: '${f}'...`),S="";break}throw y.index=E,y.length=S.length,C._free(r),y}const o=C._ts_query_string_count(n),a=C._ts_query_capture_count(n),c=C._ts_query_pattern_count(n),u=new Array(a),p=new Array(o);for(let l=0;l<a;l++){const b=C._ts_query_capture_name_for_id(n,l,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");u[l]=UTF8ToString(b,E)}for(let l=0;l<o;l++){const b=C._ts_query_string_value_for_id(n,l,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");p[l]=UTF8ToString(b,E)}const d=new Array(c),m=new Array(c),h=new Array(c),g=new Array(c),v=new Array(c);for(let l=0;l<c;l++){const b=C._ts_query_predicates_for_pattern(n,l,TRANSFER_BUFFER),E=getValue(TRANSFER_BUFFER,"i32");g[l]=[],v[l]=[];const f=[];let S=b;for(let y=0;y<E;y++){const _=getValue(S,"i32");S+=SIZE_OF_INT;const w=getValue(S,"i32");if(S+=SIZE_OF_INT,_===PREDICATE_STEP_TYPE_CAPTURE)f.push({type:"capture",name:u[w]});else if(_===PREDICATE_STEP_TYPE_STRING)f.push({type:"string",value:p[w]});else if(f.length>0){if(f[0].type!=="string")throw new Error("Predicates must begin with a literal value");const x=f[0].value;let A=!0,V=!0,k;switch(x){case"any-not-eq?":case"not-eq?":A=!1;case"any-eq?":case"eq?":if(f.length!==3)throw new Error(`Wrong number of arguments to \`#${x}\` predicate. Expected 2, got ${f.length-1}`);if(f[1].type!=="capture")throw new Error(`First argument of \`#${x}\` predicate must be a capture. Got "${f[1].value}"`);if(V=!x.startsWith("any-"),f[2].type==="capture"){const R=f[1].name,j=f[2].name;v[l].push(B=>{const I=[],D=[];for(const N of B)N.name===R&&I.push(N.node),N.name===j&&D.push(N.node);const L=(N,U,le)=>le?N.text===U.text:N.text!==U.text;return V?I.every(N=>D.some(U=>L(N,U,A))):I.some(N=>D.some(U=>L(N,U,A)))})}else{k=f[1].name;const R=f[2].value,j=I=>I.text===R,B=I=>I.text!==R;v[l].push(I=>{const D=[];for(const N of I)N.name===k&&D.push(N.node);const L=A?j:B;return V?D.every(L):D.some(L)})}break;case"any-not-match?":case"not-match?":A=!1;case"any-match?":case"match?":if(f.length!==3)throw new Error(`Wrong number of arguments to \`#${x}\` predicate. Expected 2, got ${f.length-1}.`);if(f[1].type!=="capture")throw new Error(`First argument of \`#${x}\` predicate must be a capture. Got "${f[1].value}".`);if(f[2].type!=="string")throw new Error(`Second argument of \`#${x}\` predicate must be a string. Got @${f[2].value}.`);k=f[1].name;const O=new RegExp(f[2].value);V=!x.startsWith("any-"),v[l].push(R=>{const j=[];for(const I of R)I.name===k&&j.push(I.node.text);const B=(I,D)=>D?O.test(I):!O.test(I);return j.length===0?!A:V?j.every(I=>B(I,A)):j.some(I=>B(I,A))});break;case"set!":if(f.length<2||f.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${f.length-1}.`);if(f.some(R=>R.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');d[l]||(d[l]={}),d[l][f[1].value]=f[2]?f[2].value:null;break;case"is?":case"is-not?":if(f.length<2||f.length>3)throw new Error(`Wrong number of arguments to \`#${x}\` predicate. Expected 1 or 2. Got ${f.length-1}.`);if(f.some(R=>R.type!=="string"))throw new Error(`Arguments to \`#${x}\` predicate must be a strings.".`);const P=x==="is?"?m:h;P[l]||(P[l]={}),P[l][f[1].value]=f[2]?f[2].value:null;break;case"not-any-of?":A=!1;case"any-of?":if(f.length<2)throw new Error(`Wrong number of arguments to \`#${x}\` predicate. Expected at least 1. Got ${f.length-1}.`);if(f[1].type!=="capture")throw new Error(`First argument of \`#${x}\` predicate must be a capture. Got "${f[1].value}".`);for(let R=2;R<f.length;R++)if(f[R].type!=="string")throw new Error(`Arguments to \`#${x}\` predicate must be a strings.".`);k=f[1].name;const M=f.slice(2).map(R=>R.value);v[l].push(R=>{const j=[];for(const B of R)B.name===k&&j.push(B.node.text);return j.length===0?!A:j.every(B=>M.includes(B))===A});break;default:g[l].push({operator:x,operands:f.slice(1)})}f.length=0}}Object.freeze(d[l]),Object.freeze(m[l]),Object.freeze(h[l])}return C._free(r),new Query(INTERNAL,n,u,v,g,Object.freeze(d),Object.freeze(m),Object.freeze(h))}static load(e){let s;if(e instanceof Uint8Array)s=Promise.resolve(e);else{const r=e;if(typeof process<"u"&&process.versions&&process.versions.node){const n=require$$0;s=Promise.resolve(n.readFileSync(r))}else s=fetch(r).then(n=>n.arrayBuffer().then(o=>{if(n.ok)return new Uint8Array(o);{const a=new TextDecoder("utf-8").decode(o);throw new Error(`Language.load failed with status ${n.status}.

${a}`)}}))}return s.then(r=>loadWebAssemblyModule(r,{loadAsync:!0})).then(r=>{const n=Object.keys(r),o=n.find(c=>LANGUAGE_FUNCTION_REGEX.test(c)&&!c.includes("external_scanner_"));o||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(n,null,2)}`);const a=r[o]();return new Language(INTERNAL,a)})}}class LookaheadIterable{constructor(e,s,r){assertInternal(e),this[0]=s,this.language=r}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(e){return C._ts_lookahead_iterator_reset_state(this[0],e)}reset(e,s){return C._ts_lookahead_iterator_reset(this[0],e[0],s)?(this.language=e,!0):!1}[Symbol.iterator](){const e=this;return{next(){return C._ts_lookahead_iterator_next(e[0])?{done:!1,value:e.currentType}:{done:!0,value:""}}}}}class Query{constructor(e,s,r,n,o,a,c,u){assertInternal(e),this[0]=s,this.captureNames=r,this.textPredicates=n,this.predicates=o,this.setProperties=a,this.assertedProperties=c,this.refutedProperties=u,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,{startPosition:s=ZERO_POINT,endPosition:r=ZERO_POINT,startIndex:n=0,endIndex:o=0,matchLimit:a=4294967295,maxStartDepth:c=4294967295,timeoutMicros:u=0}={}){if(typeof a!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],s.row,s.column,r.row,r.column,n,o,a,c,u);const p=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),h=new Array(p);this.exceededMatchLimit=!!m;let g=0,v=d;for(let l=0;l<p;l++){const b=getValue(v,"i32");v+=SIZE_OF_INT;const E=getValue(v,"i32");v+=SIZE_OF_INT;const f=new Array(E);if(v=unmarshalCaptures(this,e.tree,v,f),this.textPredicates[b].every(S=>S(f))){h[g]={pattern:b,captures:f};const S=this.setProperties[b];S&&(h[g].setProperties=S);const y=this.assertedProperties[b];y&&(h[g].assertedProperties=y);const _=this.refutedProperties[b];_&&(h[g].refutedProperties=_),g++}}return h.length=g,C._free(d),h}captures(e,{startPosition:s=ZERO_POINT,endPosition:r=ZERO_POINT,startIndex:n=0,endIndex:o=0,matchLimit:a=4294967295,maxStartDepth:c=4294967295,timeoutMicros:u=0}={}){if(typeof a!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],s.row,s.column,r.row,r.column,n,o,a,c,u);const p=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),m=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),h=[];this.exceededMatchLimit=!!m;const g=[];let v=d;for(let l=0;l<p;l++){const b=getValue(v,"i32");v+=SIZE_OF_INT;const E=getValue(v,"i32");v+=SIZE_OF_INT;const f=getValue(v,"i32");if(v+=SIZE_OF_INT,g.length=E,v=unmarshalCaptures(this,e.tree,v,g),this.textPredicates[b].every(S=>S(g))){const S=g[f],y=this.setProperties[b];y&&(S.setProperties=y);const _=this.assertedProperties[b];_&&(S.assertedProperties=_);const w=this.refutedProperties[b];w&&(S.refutedProperties=w),h.push(S)}}return C._free(d),h}predicatesForPattern(e){return this.predicates[e]}disableCapture(e){const s=lengthBytesUTF8(e),r=C._malloc(s+1);stringToUTF8(e,r,s+1),C._ts_query_disable_capture(this[0],r,s),C._free(r)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,s){const r=s-e;let n=t.textCallback(e,null,s);for(e+=n.length;e<s;){const o=t.textCallback(e,null,s);if(o&&o.length>0)e+=o.length,n+=o;else break}return e>s&&(n=n.slice(0,r)),n}function unmarshalCaptures(t,e,s,r){for(let n=0,o=r.length;n<o;n++){const a=getValue(s,"i32");s+=SIZE_OF_INT;const c=unmarshalNode(e,s);s+=SIZE_OF_NODE,r[n]={name:t.captureNames[a],node:c}}return s}function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}function unmarshalNode(t,e=TRANSFER_BUFFER){const s=getValue(e,"i32");if(e+=SIZE_OF_INT,s===0)return null;const r=getValue(e,"i32");e+=SIZE_OF_INT;const n=getValue(e,"i32");e+=SIZE_OF_INT;const o=getValue(e,"i32");e+=SIZE_OF_INT;const a=getValue(e,"i32"),c=new Node(INTERNAL,t);return c.id=s,c.startIndex=r,c.startPosition={row:n,column:o},c[0]=a,c}function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32"),setValue(e+3*SIZE_OF_INT,t[3],"i32")}function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),t[3]=getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}function unmarshalPoint(t){return{row:getValue(t,"i32")>>>0,column:getValue(t+SIZE_OF_INT,"i32")>>>0}}function marshalRange(t,e){marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.endPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.endIndex,"i32"),t+=SIZE_OF_INT}function unmarshalRange(t){const e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32")>>>0,t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32")>>>0,e}function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}for(const t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();module.exports=TreeSitter})(treeSitter);var treeSitterExports=treeSitter.exports,Parser$1=getDefaultExportFromCjs(treeSitterExports),treeSitterJson="https://swagger-api.github.io/apidom/assets/tree-sitter-json-CtrBzfa5.wasm";let parser$2=null,parserInitLock$1=null;const analyze$4=async t=>{if(parser$2===null&&parserInitLock$1===null)parserInitLock$1=Parser$1.init().then(()=>Parser$1.Language.load(treeSitterJson)).then(e=>{const s=new Parser$1;return s.setLanguage(e),s}).finally(()=>{parserInitLock$1=null}),parser$2=await parserInitLock$1;else if(parser$2===null&&parserInitLock$1!==null)parser$2=await parserInitLock$1;else if(parser$2===null)throw new ApiDOMError("Error while initializing web-tree-sitter and loading tree-sitter-json grammar.");return parser$2.parse(t)};let TreeCursorSyntaxNode$1=class{type;startPosition;endPosition;startIndex;endIndex;text;isNamed;isMissing;fieldName;hasError=!1;children=[];constructor(e){this.type=e.nodeType,this.startPosition=e.startPosition,this.endPosition=e.endPosition,this.startIndex=e.startIndex,this.endIndex=e.endIndex,this.text=e.nodeText,this.isNamed=e.nodeIsNamed,this.isMissing=e.nodeIsMissing}get keyNode(){if(this.type==="pair")return this.children.find(e=>e.fieldName==="key")}get valueNode(){if(this.type==="pair")return this.children.find(e=>e.fieldName==="value")}setFieldName(e){return this.fieldName=e.currentFieldName,this}setHasError(e){return this.hasError=e.currentNode.hasError,this}pushChildren(...e){this.children.push(...e)}},CstVisitor$2=class G{static toPosition(e){const s=new ArrayElement([e.startPosition.row,e.startPosition.column,e.startIndex]),r=new ArrayElement([e.endPosition.row,e.endPosition.column,e.endIndex]);return s.classes.push("position"),r.classes.push("position"),[s,r]}sourceMap=!1;annotations;ParseResultElement={leave:e=>{const s=e.findElements(isPrimitiveElement);s.length>0&&s[0].classes.push("result"),this.annotations.forEach(r=>{e.push(r)}),this.annotations=[]}};constructor(){this.annotations=[]}enter(e){if(e instanceof TreeCursorSyntaxNode$1&&!e.isNamed&&e.isMissing){const r=`(Missing ${e.type||e.text})`,n=new Annotation(r);n.classes.push("warning"),this.maybeAddSourceMap(e,n),this.annotations.push(n)}return null}document(e){const s=new ParseResult$1;return s._content=e.children,this.maybeAddSourceMap(e,s),s}object(e){const s=new ObjectElement;return s._content=e.children,this.maybeAddSourceMap(e,s),s}array(e){const s=new ArrayElement;return s._content=e.children,this.maybeAddSourceMap(e,s),s}pair(e){const s=new MemberElement;return s.content.key=e.keyNode,s.content.value=e.valueNode,this.maybeAddSourceMap(e,s),e.children.length>3&&e.children.filter(r=>r.type==="ERROR").forEach(r=>{this.ERROR(r,e,[],[e])}),s}string(e){const s=new StringElement(JSON.parse(e.text));return this.maybeAddSourceMap(e,s),s}number(e){const s=new NumberElement(Number(e.text));return this.maybeAddSourceMap(e,s),s}null(e){const s=new NullElement;return this.maybeAddSourceMap(e,s),s}true(e){const s=new BooleanElement(!0);return this.maybeAddSourceMap(e,s),s}false(e){const s=new BooleanElement(!1);return this.maybeAddSourceMap(e,s),s}ERROR(e,s,r,n){const o=!e.hasError,a=e.text,c=o?`(Unexpected ${a})`:`(Error ${a})`,u=new Annotation(c);if(u.classes.push("error"),this.maybeAddSourceMap(e,u),n.length===0){const p=new ParseResult$1;return p.push(u),p}return this.annotations.push(u),null}maybeAddSourceMap(e,s){if(!this.sourceMap)return;const r=new SourceMap,n=G.toPosition(e);if(n!==null){const[o,a]=n;r.push(o),r.push(a)}r.astNode=e,s.meta.set("sourceMap",r)}},TreeCursorIterator$1=class z{cursor;constructor(e){this.cursor=e}document(){return new TreeCursorSyntaxNode$1(this.cursor)}object(){return new TreeCursorSyntaxNode$1(this.cursor).setFieldName(this.cursor)}array(){return new TreeCursorSyntaxNode$1(this.cursor).setFieldName(this.cursor)}pair(){return new TreeCursorSyntaxNode$1(this.cursor)}string(){return new TreeCursorSyntaxNode$1(this.cursor).setFieldName(this.cursor)}number(){return new TreeCursorSyntaxNode$1(this.cursor).setFieldName(this.cursor)}null(){return new TreeCursorSyntaxNode$1(this.cursor).setFieldName(this.cursor)}true(){return new TreeCursorSyntaxNode$1(this.cursor).setFieldName(this.cursor)}false(){return new TreeCursorSyntaxNode$1(this.cursor).setFieldName(this.cursor)}ERROR(){return new TreeCursorSyntaxNode$1(this.cursor).setHasError(this.cursor)}*[Symbol.iterator](){let e;if(this.cursor.nodeType in this?e=this[this.cursor.nodeType]():e=new TreeCursorSyntaxNode$1(this.cursor),this.cursor.gotoFirstChild()){const[s]=new z(this.cursor);for(e.pushChildren(s);this.cursor.gotoNextSibling();){const r=new z(this.cursor);e.pushChildren(...r)}this.cursor.gotoParent()}yield e}};const keyMap$c={document:["children"],object:["children"],array:["children"],string:["children"],property:["children"],key:["children"],error:["children"],...keyMapDefault$1},getNodeType$a=t=>isParseResultElement(t)?"ParseResultElement":isElement(t)?getNodeType$b(t):getNodeType$c(t),isNode$3=t=>isElement(t)||isNode$5(t),analyze$3=(t,{sourceMap:e=!1}={})=>{const s=new CstVisitor$2,r=t.walk(),n=new TreeCursorIterator$1(r),[o]=Array.from(n);return visit$2(o,s,{keyMap:keyMap$c,nodeTypeGetter:getNodeType$a,nodePredicate:isNode$3,state:{sourceMap:e}})},keyMap$b={document:["children"],object:["children"],array:["children"],string:["children"],property:["children"],key:["children"],error:["children"]};let CstVisitor$1=class q{static toPosition(e){const s=new Point({row:e.startPosition.row,column:e.startPosition.column,char:e.startIndex}),r=new Point({row:e.endPosition.row,column:e.endPosition.column,char:e.endIndex});return new Position({start:s,end:r})}document={enter:e=>{const s=q.toPosition(e);return new JsonDocument({children:e.children,position:s,isMissing:e.isMissing})},leave:e=>new ParseResult({children:[e]})};enter(e){if(e instanceof TreeCursorSyntaxNode$1&&!e.isNamed){const s=q.toPosition(e),r=e.type||e.text,{isMissing:n}=e;return new Literal({value:r,position:s,isMissing:n})}}object(e){const s=q.toPosition(e);return new JsonObject({children:e.children,position:s,isMissing:e.isMissing})}pair(e){const s=q.toPosition(e),r=e.children.slice(1),{keyNode:n}=e,o=new JsonKey({children:n?.children||[],position:n!=null?q.toPosition(n):void 0,isMissing:n!=null?n.isMissing:!1});return new JsonProperty({children:[o,...r],position:s,isMissing:e.isMissing})}array(e){const s=q.toPosition(e);return new JsonArray({children:e.children,position:s,isMissing:e.isMissing})}string(e){const s=q.toPosition(e),r=new JsonStringContent({value:JSON.parse(e.text)});return new JsonString({children:[r],position:s,isMissing:e.isMissing})}number(e){const s=q.toPosition(e),r=e.text;return new JsonNumber({value:r,position:s,isMissing:e.isMissing})}null(e){const s=q.toPosition(e),r=e.text;return new JsonNull({value:r,position:s,isMissing:e.isMissing})}true(e){const s=q.toPosition(e),r=e.text;return new JsonTrue({value:r,position:s,isMissing:e.isMissing})}false(e){const s=q.toPosition(e),r=e.text;return new JsonFalse({value:r,position:s,isMissing:e.isMissing})}ERROR(e,s,r,n){const o=q.toPosition(e),a=new Error$1({children:e.children,position:o,isUnexpected:!e.hasError,isMissing:e.isMissing,value:e.text});return n.length===0?new ParseResult({children:[a]}):a}};const keyMap$a={[ParseResult.type]:["children"],[JsonDocument.type]:["children"],[JsonObject.type]:["children"],[JsonProperty.type]:["children"],[JsonArray.type]:["children"],[Error$1.type]:["children"],...keyMapDefault$1},getNodeType$9=t=>isParseResultElement(t)?"ParseResultElement":isElement(t)?getNodeType$b(t):getNodeType$c(t),isNode$2=t=>isElement(t)||isNode$5(t);class JsonAstVisitor{sourceMap=!1;annotations;ParseResultElement={leave:e=>{const s=e.findElements(isPrimitiveElement);s.length>0&&s[0].classes.push("result"),this.annotations.forEach(r=>{e.push(r)}),this.annotations=[]}};constructor(){this.annotations=[]}document(e){const s=new ParseResult$1;return s._content=e.children,s}object(e){const s=new ObjectElement;return s._content=e.children,this.maybeAddSourceMap(e,s),s}property(e){const s=new MemberElement;return s.content.key=e.key,s.content.value=e.value,this.maybeAddSourceMap(e,s),e.children.length>3&&e.children.filter(r=>r.type==="error").forEach(r=>{this.error(r,e,[],[e])}),s}key(e){const s=new StringElement(e.value);return this.maybeAddSourceMap(e,s),s}array(e){const s=new ArrayElement;return s._content=e.children,this.maybeAddSourceMap(e,s),s}string(e){const s=new StringElement(e.value);return this.maybeAddSourceMap(e,s),s}number(e){const s=new NumberElement(Number(e.value));return this.maybeAddSourceMap(e,s),s}null(e){const s=new NullElement;return this.maybeAddSourceMap(e,s),s}true(e){const s=new BooleanElement(!0);return this.maybeAddSourceMap(e,s),s}false(e){const s=new BooleanElement(!1);return this.maybeAddSourceMap(e,s),s}literal(e){if(e.isMissing){const s=`(Missing ${e.value})`,r=new Annotation(s);r.classes.push("warning"),this.maybeAddSourceMap(e,r),this.annotations.push(r)}return null}error(e,s,r,n){const o=e.isUnexpected?`(Unexpected ${e.value})`:`(Error ${e.value})`,a=new Annotation(o);if(a.classes.push("error"),this.maybeAddSourceMap(e,a),n.length===0){const c=new ParseResult$1;return c.push(a),c}return this.annotations.push(a),null}maybeAddSourceMap(e,s){if(!this.sourceMap)return;const r=new SourceMap;r.position=e.position,r.astNode=e,s.meta.set("sourceMap",r)}}const analyze$2=(t,{sourceMap:e=!1}={})=>{const s=t.walk(),r=new TreeCursorIterator$1(s),[n]=Array.from(r),o=new CstVisitor$1,a=new JsonAstVisitor,c=visit$2(n,o,{keyMap:keyMap$b,state:{sourceMap:e}});return visit$2(c.rootNode,a,{keyMap:keyMap$a,nodeTypeGetter:getNodeType$9,nodePredicate:isNode$2,state:{sourceMap:e}})};class JSONMediaTypes extends MediaTypes{latest(){return this[0]}}const mediaTypes$7=new JSONMediaTypes("application/json"),namespace$b=createNamespace(),detectionRegExp$c=/(?<true>^\s*true\s*$)|(?<false>^\s*false\s*$)|(?<null>^\s*null\s*$)|(?<number>^\s*\d+\s*$)|(?<object>^\s*{\s*)|(?<array>^\s*\[\s*)|(?<string>^\s*"(((?=\\)\\(["\\/bfnrt]|u[0-9a-fA-F]{4}))|[^"\\\x00-\x1F\x7F])*"\s*$)/,detect$d=async t=>{if(!detectionRegExp$c.test(t))return!1;try{return(await analyze$4(t)).rootNode.type!=="ERROR"}catch{return!1}},parse$g=async(t,{sourceMap:e=!1,syntacticAnalysis:s="direct"}={})=>{const r=await analyze$4(t);let n;return s==="indirect"?n=analyze$2(r,{sourceMap:e}):n=analyze$3(r,{sourceMap:e}),n};var jsonAdapter=Object.freeze({__proto__:null,detect:detect$d,detectionRegExp:detectionRegExp$c,lexicalAnalysis:analyze$4,mediaTypes:mediaTypes$7,namespace:namespace$b,parse:parse$g,syntacticAnalysis:analyze$3,syntacticAnalysisDirect:analyze$3,syntacticAnalysisIndirect:analyze$2});const realFetch=globalThis.fetch;isFunction$4(realFetch)&&(globalThis.fetch=(...t)=>isString$4(t[0])&&t[0].endsWith("tree-sitter.wasm")?realFetch.apply(globalThis,[treeSitterWasm,tail(t)]):realFetch.apply(globalThis,t));var treeSitterYaml="https://swagger-api.github.io/apidom/assets/tree-sitter-yaml-CTN3EXvQ.wasm";let parser$1=null,parserInitLock=null;const analyze$1=async t=>{if(parser$1===null&&parserInitLock===null)parserInitLock=Parser$1.init().then(()=>Parser$1.Language.load(treeSitterYaml)).then(e=>{const s=new Parser$1;return s.setLanguage(e),s}).finally(()=>{parserInitLock=null}),parser$1=await parserInitLock;else if(parser$1===null&&parserInitLock!==null)parser$1=await parserInitLock;else if(parser$1===null)throw new ApiDOMError("Error while initializing web-tree-sitter and loading tree-sitter-yaml grammar.");return parser$1.parse(t)};class TreeCursorSyntaxNode{type;startPosition;endPosition;startIndex;endIndex;text;isNamed;isMissing;fieldName;hasError=!1;children=[];previousSibling;constructor(e){this.type=e.nodeType,this.startPosition=e.startPosition,this.endPosition=e.endPosition,this.startIndex=e.startIndex,this.endIndex=e.endIndex,this.text=e.nodeText,this.isNamed=e.nodeIsNamed,this.isMissing=e.nodeIsMissing}get keyNode(){if(this.type==="flow_pair"||this.type==="block_mapping_pair")return this.children.find(e=>e.fieldName==="key")}get valueNode(){if(this.type==="flow_pair"||this.type==="block_mapping_pair")return this.children.find(e=>e.fieldName==="value")}get tag(){let{previousSibling:e}=this;for(;typeof e<"u"&&e.type!=="tag";)({previousSibling:e}=e);return e}get anchor(){let{previousSibling:e}=this;for(;typeof e<"u"&&e.type!=="anchor";)({previousSibling:e}=e);return e}get firstNamedChild(){return this.children.find(e=>e.isNamed)}setFieldName(e){return this.fieldName=e.currentFieldName,this}setHasError(e){return this.hasError=e.currentNode.hasError,this}setPreviousSibling(e){this.previousSibling=e}pushChildren(...e){this.children.push(...e)}}const keyMap$9={stream:["children"],document:["children"],mapping:["children"],keyValuePair:["children"],sequence:["children"],error:["children"]},isNode$1=t=>Array.isArray(t)||isNode$5(t);class CstVisitor{static isScalar=this.isKind("scalar");static isMapping=this.isKind("mapping");static isSequence=this.isKind("sequence");static isKind(e){return s=>s!=null&&typeof s=="object"&&"type"in s&&typeof s.type=="string"&&s.type.endsWith(e)}static toPosition(e){const s=new Point({row:e.startPosition.row,column:e.startPosition.column,char:e.startIndex}),r=new Point({row:e.endPosition.row,column:e.endPosition.column,char:e.endIndex});return new Position({start:s,end:r})}static kindNodeToYamlAnchor(e){const{anchor:s}=e;if(!(typeof s>"u"))return new YamlAnchor({name:s.text,position:CstVisitor.toPosition(s)})}static hasKeyValuePairEmptyKey(e){return e.type!=="block_mapping_pair"&&e.type!=="flow_pair"?!1:typeof e.keyNode>"u"}static hasKeyValuePairEmptyValue(e){return e.type!=="block_mapping_pair"&&e.type!=="flow_pair"?!1:typeof e.valueNode>"u"}static kindNodeToYamlTag(e){const{tag:s}=e,r=s?.text||(e.type==="plain_scalar"?"?":"!"),n=e.type.endsWith("mapping")?YamlNodeKind.Mapping:e.type.endsWith("sequence")?YamlNodeKind.Sequence:YamlNodeKind.Scalar,o=s?CstVisitor.toPosition(s):void 0;return new YamlTag({explicitName:r,kind:n,position:o})}schema;referenceManager;stream={enter:e=>{const s=CstVisitor.toPosition(e);return new YamlStream({children:e.children,position:s,isMissing:e.isMissing})},leave:e=>new ParseResult({children:[e]})};yaml_directive={enter:e=>{var s;const r=CstVisitor.toPosition(e),n=e==null||(s=e.firstNamedChild)===null||s===void 0?void 0:s.text;return new YamlDirective({position:r,name:"%YAML",parameters:{version:n}})}};tag_directive={enter:e=>{const s=CstVisitor.toPosition(e),r=e.children[0],n=e.children[1],o=new YamlDirective({position:s,name:"%TAG",parameters:{handle:r?.text,prefix:n?.text}});return this.schema.registerTagDirective(o),o}};reserved_directive={enter:e=>{const s=CstVisitor.toPosition(e),r=e.children[0],n=e.children[1],o=e.children[2];return new YamlDirective({position:s,name:r?.text,parameters:{handle:n?.text,prefix:o?.text}})}};document={enter:e=>{const s=CstVisitor.toPosition(e);return new YamlDocument({children:e.children,position:s,isMissing:e.isMissing})},leave:e=>{e.children=e.children.flat()}};block_node={enter:e=>e.children};flow_node={enter:e=>{const[s]=e.children.slice(-1);if(CstVisitor.isScalar(s)||CstVisitor.isMapping(s)||CstVisitor.isSequence(s))return e.children;const r=new Point({row:s.endPosition.row,column:s.endPosition.column,char:s.endIndex}),n=new YamlScalar({content:"",anchor:CstVisitor.kindNodeToYamlAnchor(s),tag:CstVisitor.kindNodeToYamlTag(s),position:new Position({start:r,end:r}),styleGroup:YamlStyleGroup.Flow,style:YamlStyle.Plain});return this.registerAnchor(n),[...e.children,n]}};tag={enter:()=>null};anchor={enter:()=>null};block_mapping={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=new YamlMapping({children:e.children,position:s,anchor:n,tag:r,styleGroup:YamlStyleGroup.Block,style:YamlStyle.NextLine,isMissing:e.isMissing});return this.registerAnchor(o),this.schema.resolve(o)}};block_mapping_pair={enter:e=>{const s=CstVisitor.toPosition(e),r=[...e.children];if(CstVisitor.hasKeyValuePairEmptyKey(e)){const n=this.createKeyValuePairEmptyKey(e);r.unshift(n)}if(CstVisitor.hasKeyValuePairEmptyValue(e)){const n=this.createKeyValuePairEmptyValue(e);r.push(n)}return new YamlKeyValuePair({children:r,position:s,styleGroup:YamlStyleGroup.Block,isMissing:e.isMissing})}};flow_mapping={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=new YamlMapping({children:e.children,position:s,anchor:n,tag:r,styleGroup:YamlStyleGroup.Flow,style:YamlStyle.Explicit,isMissing:e.isMissing});return this.registerAnchor(o),this.schema.resolve(o)}};flow_pair={enter:e=>{const s=CstVisitor.toPosition(e),r=[...e.children];if(CstVisitor.hasKeyValuePairEmptyKey(e)){const n=this.createKeyValuePairEmptyKey(e);r.unshift(n)}if(CstVisitor.hasKeyValuePairEmptyValue(e)){const n=this.createKeyValuePairEmptyValue(e);r.push(n)}return new YamlKeyValuePair({children:r,position:s,styleGroup:YamlStyleGroup.Flow,isMissing:e.isMissing})}};keyValuePair={leave:e=>{e.children=e.children.flat()}};block_sequence={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=new YamlSequence({children:e.children,position:s,anchor:n,tag:r,styleGroup:YamlStyleGroup.Block,style:YamlStyle.NextLine});return this.registerAnchor(o),this.schema.resolve(o)}};block_sequence_item={enter:e=>{if(e.children.length>1)return e.children;const s=new Point({row:e.endPosition.row,column:e.endPosition.column,char:e.endIndex});return[new YamlScalar({content:"",tag:new YamlTag({explicitName:"?",kind:YamlNodeKind.Scalar}),position:new Position({start:s,end:s}),styleGroup:YamlStyleGroup.Flow,style:YamlStyle.Plain})]}};flow_sequence={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=new YamlSequence({children:e.children.flat(),position:s,anchor:n,tag:r,styleGroup:YamlStyleGroup.Flow,style:YamlStyle.Explicit});return this.registerAnchor(o),this.schema.resolve(o)}};sequence={leave:e=>{e.children=e.children.flat(1/0)}};plain_scalar={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=new YamlScalar({content:e.text,anchor:n,tag:r,position:s,styleGroup:YamlStyleGroup.Flow,style:YamlStyle.Plain});return this.registerAnchor(o),this.schema.resolve(o)}};single_quote_scalar={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=new YamlScalar({content:e.text,anchor:n,tag:r,position:s,styleGroup:YamlStyleGroup.Flow,style:YamlStyle.SingleQuoted});return this.registerAnchor(o),this.schema.resolve(o)}};double_quote_scalar={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=new YamlScalar({content:e.text,anchor:n,tag:r,position:s,styleGroup:YamlStyleGroup.Flow,style:YamlStyle.DoubleQuoted});return this.registerAnchor(o),this.schema.resolve(o)}};block_scalar={enter:e=>{const s=CstVisitor.toPosition(e),r=CstVisitor.kindNodeToYamlTag(e),n=CstVisitor.kindNodeToYamlAnchor(e),o=e.text.startsWith("|")?YamlStyle.Literal:e.text.startsWith(">")?YamlStyle.Folded:YamlStyle.Plain,a=new YamlScalar({content:e.text,anchor:n,tag:r,position:s,styleGroup:YamlStyleGroup.Block,style:o});return this.registerAnchor(a),this.schema.resolve(a)}};comment={enter:e=>new YamlComment({content:e.text})};alias={enter:e=>{const s=new YamlAlias({content:e.text});return this.referenceManager.resolveAlias(s)}};constructor(e){this.schema=e}enter(e){if(e instanceof TreeCursorSyntaxNode&&!e.isNamed){const s=CstVisitor.toPosition(e),r=e.type||e.text,{isMissing:n}=e;return new Literal({value:r,position:s,isMissing:n})}}ERROR(e,s,r,n){const o=CstVisitor.toPosition(e),a=new Error$1({children:e.children,position:o,isUnexpected:!e.hasError,isMissing:e.isMissing,value:e.text});return n.length===0?new ParseResult({children:[a]}):a}registerAnchor(e){e.anchor!==void 0&&this.referenceManager.addAnchor(e)}createKeyValuePairEmptyKey(e){const s=new Point({row:e.startPosition.row,column:e.startPosition.column,char:e.startIndex}),{keyNode:r}=e,n=r?.children||[],o=n.find(CstVisitor.isKind("tag")),a=n.find(CstVisitor.isKind("anchor")),c=typeof o<"u"?new YamlTag({explicitName:o.text,kind:YamlNodeKind.Scalar,position:CstVisitor.toPosition(o)}):new YamlTag({explicitName:"?",kind:YamlNodeKind.Scalar}),u=typeof a<"u"?new YamlAnchor({name:a.text,position:CstVisitor.toPosition(a)}):void 0,p=new YamlScalar({content:"",position:new Position({start:s,end:s}),tag:c,anchor:u,styleGroup:YamlStyleGroup.Flow,style:YamlStyle.Plain});return this.registerAnchor(p),p}createKeyValuePairEmptyValue(e){const s=new Point({row:e.endPosition.row,column:e.endPosition.column,char:e.endIndex}),{valueNode:r}=e,n=r?.children||[],o=n.find(CstVisitor.isKind("tag")),a=n.find(CstVisitor.isKind("anchor")),c=typeof o<"u"?new YamlTag({explicitName:o.text,kind:YamlNodeKind.Scalar,position:CstVisitor.toPosition(o)}):new YamlTag({explicitName:"?",kind:YamlNodeKind.Scalar}),u=typeof a<"u"?new YamlAnchor({name:a.text,position:CstVisitor.toPosition(a)}):void 0,p=new YamlScalar({content:"",position:new Position({start:s,end:s}),tag:c,anchor:u,styleGroup:YamlStyleGroup.Flow,style:YamlStyle.Plain});return this.registerAnchor(p),p}}const keyMap$8={stream:["children"],document:["children"],mapping:["children"],keyValuePair:["children"],sequence:["children"],error:["children"],...keyMapDefault$1},getNodeType$8=t=>isElement(t)?getNodeType$b(t):getNodeType$c(t),isNode=t=>isElement(t)||isNode$5(t)||Array.isArray(t);class YamlAstVisitor{sourceMap=!1;annotations;namespace;processedDocumentCount=0;stream={leave:e=>{const s=new ParseResult$1;s._content=e.children.flat(1);const r=s.findElements(isPrimitiveElement);return r.length>0&&r[0].classes.push("result"),this.annotations.forEach(n=>{s.push(n)}),this.annotations=[],s}};constructor(){this.annotations=[],this.namespace=createNamespace()}comment(e){if(this.processedDocumentCount===0){const r=new Comment(e.content);return this.maybeAddSourceMap(e,r),r}return null}document(e){const s=this.processedDocumentCount===1,r=this.processedDocumentCount>=1;if(s){const n="Only first document within YAML stream will be used. Rest will be discarded.",o=new Annotation(n);o.classes.push("warning"),this.maybeAddSourceMap(e,o),this.annotations.push(o)}return r?null:(this.processedDocumentCount+=1,e.children)}mapping(e){const s=new ObjectElement;return s._content=e.children,this.maybeAddSourceMap(e,s),s}keyValuePair(e){const s=new MemberElement;return s.content.key=e.key,s.content.value=e.value,this.maybeAddSourceMap(e,s),e.children.filter(r=>r.type==="error").forEach(r=>{this.error(r,e,[],[e])}),s}sequence(e){const s=new ArrayElement;return s._content=e.children,this.maybeAddSourceMap(e,s),s}scalar(e){const s=this.namespace.toElement(e.content);return e.content===""&&e.style===YamlStyle.Plain&&(s.classes.push("yaml-e-node"),s.classes.push("yaml-e-scalar")),this.maybeAddSourceMap(e,s),s}literal(e){if(e.isMissing){const s=`(Missing ${e.value})`,r=new Annotation(s);r.classes.push("warning"),this.maybeAddSourceMap(e,r),this.annotations.push(r)}return null}error(e,s,r,n){const o=e.isUnexpected?"(Unexpected YAML syntax error)":"(Error YAML syntax error)",a=new Annotation(o);if(a.classes.push("error"),this.maybeAddSourceMap(e,a),n.length===0){const c=new ParseResult$1;return c.push(a),c}return this.annotations.push(a),null}maybeAddSourceMap(e,s){if(!this.sourceMap)return;const r=new SourceMap;r.position=e.position,r.astNode=e,s.meta.set("sourceMap",r)}}class TreeCursorIterator{cursor;constructor(e){this.cursor=e}stream(){return new TreeCursorSyntaxNode(this.cursor)}yaml_directive(){return new TreeCursorSyntaxNode(this.cursor)}tag_directive(){return new TreeCursorSyntaxNode(this.cursor)}reserved_directive(){return new TreeCursorSyntaxNode(this.cursor)}document(){return new TreeCursorSyntaxNode(this.cursor)}block_node(){return new TreeCursorSyntaxNode(this.cursor).setFieldName(this.cursor)}flow_node(){return new TreeCursorSyntaxNode(this.cursor).setFieldName(this.cursor)}block_mapping(){return new TreeCursorSyntaxNode(this.cursor)}block_mapping_pair(){return new TreeCursorSyntaxNode(this.cursor)}flow_mapping(){return new TreeCursorSyntaxNode(this.cursor)}flow_pair(){return new TreeCursorSyntaxNode(this.cursor)}block_sequence(){return new TreeCursorSyntaxNode(this.cursor)}block_sequence_item(){return new TreeCursorSyntaxNode(this.cursor)}flow_sequence(){return new TreeCursorSyntaxNode(this.cursor)}plain_scalar(){return new TreeCursorSyntaxNode(this.cursor)}single_quote_scalar(){return new TreeCursorSyntaxNode(this.cursor)}double_quote_scalar(){return new TreeCursorSyntaxNode(this.cursor)}block_scalar(){return new TreeCursorSyntaxNode(this.cursor)}ERROR(){return new TreeCursorSyntaxNode(this.cursor).setHasError(this.cursor)}*[Symbol.iterator](){let e;if(this.cursor.nodeType in this?e=this[this.cursor.nodeType]():e=new TreeCursorSyntaxNode(this.cursor),this.cursor.gotoFirstChild()){const[s]=new TreeCursorIterator(this.cursor);for(e.pushChildren(s);this.cursor.gotoNextSibling();){const r=Array.from(new TreeCursorIterator(this.cursor));e.pushChildren(...r)}e.children.reduce((r,n)=>(n.setPreviousSibling(r),n),void 0),this.cursor.gotoParent()}yield e}}const analyze=(t,{sourceMap:e=!1}={})=>{const s=t.walk(),r=new TreeCursorIterator(s),[n]=Array.from(r),o=new CstVisitor,a=new YamlAstVisitor,c=new JsonSchema,u=new ReferenceManager,p=visit$2(n,o,{keyMap:keyMap$9,nodePredicate:isNode$1,state:{schema:c,sourceMap:e,referenceManager:u}});return visit$2(p.rootNode,a,{keyMap:keyMap$8,nodeTypeGetter:getNodeType$8,nodePredicate:isNode,state:{sourceMap:e}})};class YamlMediaTypes extends MediaTypes{latest(){return this[1]}}const mediaTypes$6=new YamlMediaTypes("text/yaml","application/yaml"),namespace$a=createNamespace(),detect$c=async t=>{try{return!(await analyze$1(t)).rootNode.isError}catch{return!1}},parse$f=async(t,{sourceMap:e=!1}={})=>{const s=await analyze$1(t);return analyze(s,{sourceMap:e})};var yamlAdapter=Object.freeze({__proto__:null,detect:detect$c,lexicalAnalysis:analyze$1,mediaTypes:mediaTypes$6,namespace:namespace$a,parse:parse$f,syntacticAnalysis:analyze});let JSONSchema$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}};class JSONReference extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}class Media extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}let LinkDescription$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}},Visitor$5=class{element;constructor(e){Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=deepmerge(s.meta,e.meta),hasElementSourceMap(e)&&s.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=deepmerge(s.attributes,e.attributes))}},FallbackVisitor$5=class extends Visitor$5{enter(e){return this.element=cloneDeep(e),BREAK}};const copyProps=(t,e,s=[])=>{const r=Object.getOwnPropertyDescriptors(e);for(let n of s)delete r[n];Object.defineProperties(t,r)},protoChain=(t,e=[t])=>{const s=Object.getPrototypeOf(t);return s===null?e:protoChain(s,[...e,s])},nearestCommonProto=(...t)=>{if(t.length===0)return;let e;const s=t.map(r=>protoChain(r));for(;s.every(r=>r.length>0);){const r=s.map(o=>o.pop()),n=r[0];if(r.every(o=>o===n))e=n;else break}return e},hardMixProtos=(t,e,s=[])=>{var r;const n=(r=nearestCommonProto(...t))!==null&&r!==void 0?r:Object.prototype,o=Object.create(n),a=protoChain(n);for(let c of t){let u=protoChain(c);for(let p=u.length-1;p>=0;p--){let d=u[p];a.indexOf(d)===-1&&(copyProps(o,d,["constructor",...s]),a.push(d))}}return o.constructor=e,o},unique=t=>t.filter((e,s)=>t.indexOf(e)==s),mixins=new WeakMap,getMixinsForClass=t=>mixins.get(t),registerMixins=(t,e)=>mixins.set(t,e),mergeObjectsOfDecorators=(t,e)=>{var s,r;const n=unique([...Object.getOwnPropertyNames(t),...Object.getOwnPropertyNames(e)]),o={};for(let a of n)o[a]=unique([...(s=t?.[a])!==null&&s!==void 0?s:[],...(r=e?.[a])!==null&&r!==void 0?r:[]]);return o},mergePropertyAndMethodDecorators=(t,e)=>{var s,r,n,o;return{property:mergeObjectsOfDecorators((s=t?.property)!==null&&s!==void 0?s:{},(r=e?.property)!==null&&r!==void 0?r:{}),method:mergeObjectsOfDecorators((n=t?.method)!==null&&n!==void 0?n:{},(o=e?.method)!==null&&o!==void 0?o:{})}},mergeDecorators=(t,e)=>{var s,r,n,o,a,c;return{class:unique([...(s=t?.class)!==null&&s!==void 0?s:[],...(r=e?.class)!==null&&r!==void 0?r:[]]),static:mergePropertyAndMethodDecorators((n=t?.static)!==null&&n!==void 0?n:{},(o=e?.static)!==null&&o!==void 0?o:{}),instance:mergePropertyAndMethodDecorators((a=t?.instance)!==null&&a!==void 0?a:{},(c=e?.instance)!==null&&c!==void 0?c:{})}},decorators=new Map,findAllConstituentClasses=(...t)=>{var e;const s=new Set,r=new Set([...t]);for(;r.size>0;)for(let n of r){const o=protoChain(n.prototype).map(p=>p.constructor),a=(e=getMixinsForClass(n))!==null&&e!==void 0?e:[],u=[...o,...a].filter(p=>!s.has(p));for(let p of u)r.add(p);s.add(n),r.delete(n)}return[...s]},deepDecoratorSearch=(...t)=>{const e=findAllConstituentClasses(...t).map(s=>decorators.get(s)).filter(s=>!!s);return e.length==0?{}:e.length==1?e[0]:e.reduce((s,r)=>mergeDecorators(s,r))};function Mixin(...t){var e,s,r;const n=t.map(c=>c.prototype);function o(...c){for(const u of t)copyProps(this,new u(...c))}o.prototype=hardMixProtos(n,o),Object.setPrototypeOf(o,hardMixProtos(t,null,["prototype"]));let a=o;{const c=deepDecoratorSearch(...t);for(let u of(e=c?.class)!==null&&e!==void 0?e:[]){const p=u(a);p&&(a=p)}applyPropAndMethodDecorators((s=c?.static)!==null&&s!==void 0?s:{},a),applyPropAndMethodDecorators((r=c?.instance)!==null&&r!==void 0?r:{},a.prototype)}return registerMixins(a,t),a}const applyPropAndMethodDecorators=(t,e)=>{const s=t.property,r=t.method;if(s)for(let n in s)for(let o of s[n])o(e,n);if(r)for(let n in r)for(let o of r[n])o(e,n,Object.getOwnPropertyDescriptor(e,n))};let SpecificationVisitor$5=class extends Visitor$5{specObj;passingOptionsNames=["specObj"];constructor({specObj:e,...s}){super({...s}),this.specObj=e}retrievePassingOptions(){return pick(this.passingOptionsNames,this)}retrieveFixedFields(e){const s=path$4(["visitors",...e,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(e){return pathSatisfies(isFunction$4,["visitors",...e],this.specObj)?path$4(["visitors",...e],this.specObj):path$4(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,s={}){const r=this.retrievePassingOptions(),n=this.retrieveVisitor(e),o={...r,...s};return new n(o)}toRefractedElement(e,s,r={}){const n=this.retrieveVisitorInstance(e,r);return n instanceof FallbackVisitor$5&&n?.constructor===FallbackVisitor$5?cloneDeep(s):(visit$1(s,n,r),n.element)}},FixedFieldsVisitor$5=class extends SpecificationVisitor$5{specPath;ignoredFields;constructor({specPath:e,ignoredFields:s,...r}){super({...r}),this.specPath=e,this.ignoredFields=s||[]}ObjectElement(e){const s=this.specPath(e),r=this.retrieveFixedFields(s);return e.forEach((n,o,a)=>{if(isStringElement(o)&&r.includes(serializer(o))&&!this.ignoredFields.includes(serializer(o))){const c=this.toRefractedElement([...s,"fixedFields",serializer(o)],n),u=new MemberElement(cloneDeep(o),c);this.copyMetaAndAttributes(a,u),u.classes.push("fixed-field"),this.element.content.push(u)}else this.ignoredFields.includes(serializer(o))||this.element.content.push(cloneDeep(a))}),this.copyMetaAndAttributes(e,this.element),BREAK}},JSONSchemaVisitor$3=class extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.element=new JSONSchema$3,this.specPath=always(["document","objects","JSONSchema"])}},ParentSchemaAwareVisitor$1=class{parent;constructor({parent:e}){this.parent=e}};const isJSONReferenceLikeElement=t=>isObjectElement(t)&&t.hasKey("$ref");let ItemsVisitor$5=class extends Mixin(SpecificationVisitor$5,ParentSchemaAwareVisitor$1,FallbackVisitor$5){ObjectElement(e){const s=isJSONReferenceLikeElement(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(s,e),BREAK}ArrayElement(e){return this.element=new ArrayElement,this.element.classes.push("json-schema-items"),e.forEach(s=>{const r=isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}};class RequiredVisitor extends FallbackVisitor$5{ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-required"),s}}let PatternedFieldsVisitor$4=class extends SpecificationVisitor$5{specPath;ignoredFields;fieldPatternPredicate=F;constructor({specPath:e,ignoredFields:s,fieldPatternPredicate:r,...n}){super({...n}),this.specPath=e,this.ignoredFields=s||[],typeof r=="function"&&(this.fieldPatternPredicate=r)}ObjectElement(e){return e.forEach((s,r,n)=>{if(!this.ignoredFields.includes(serializer(r))&&this.fieldPatternPredicate(serializer(r))){const o=this.specPath(s),a=this.toRefractedElement(o,s),c=new MemberElement(cloneDeep(r),a);this.copyMetaAndAttributes(n,c),c.classes.push("patterned-field"),this.element.content.push(c)}else this.ignoredFields.includes(serializer(r))||this.element.content.push(cloneDeep(n))}),this.copyMetaAndAttributes(e,this.element),BREAK}},MapVisitor$4=class extends PatternedFieldsVisitor$4{constructor(e){super(e),this.fieldPatternPredicate=isNonEmptyString}},PropertiesVisitor$4=class extends Mixin(MapVisitor$4,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-properties"),this.specPath=s=>isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},PatternPropertiesVisitor$2=class extends Mixin(MapVisitor$4,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-patternProperties"),this.specPath=s=>isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},DependenciesVisitor$1=class extends Mixin(MapVisitor$4,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-dependencies"),this.specPath=s=>isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},EnumVisitor$1=class extends FallbackVisitor$5{ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-enum"),s}},TypeVisitor$2=class extends FallbackVisitor$5{StringElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-type"),s}ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-type"),s}},AllOfVisitor$4=class extends Mixin(SpecificationVisitor$5,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach(s=>{const r=isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},AnyOfVisitor$3=class extends Mixin(SpecificationVisitor$5,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach(s=>{const r=isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},OneOfVisitor$3=class extends Mixin(SpecificationVisitor$5,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach(s=>{const r=isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},DefinitionsVisitor$2=class extends Mixin(MapVisitor$4,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-definitions"),this.specPath=s=>isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},LinksVisitor$2=class extends Mixin(SpecificationVisitor$5,ParentSchemaAwareVisitor$1,FallbackVisitor$5){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","LinkDescription"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}};class JSONReferenceVisitor extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.element=new JSONReference,this.specPath=always(["document","objects","JSONReference"])}ObjectElement(e){const s=FixedFieldsVisitor$5.prototype.ObjectElement.call(this,e);return isStringElement(this.element.$ref)&&this.element.classes.push("reference-element"),s}}let $RefVisitor$7=class extends FallbackVisitor$5{StringElement(e){const s=this.enter(e);return this.element.classes.push("reference-value"),s}},AlternatingVisitor$3=class extends SpecificationVisitor$5{alternator;constructor({alternator:e,...s}){super({...s}),this.alternator=e}enter(e){const s=this.alternator.map(({predicate:n,specPath:o})=>ifElse(n,always(o),stubUndefined)),r=dispatch(s)(e);return this.element=this.toRefractedElement(r,e),BREAK}},SchemaOrReferenceVisitor$2=class extends AlternatingVisitor$3{constructor(e){super(e),this.alternator=[{predicate:isJSONReferenceLikeElement,specPath:["document","objects","JSONReference"]},{predicate:T,specPath:["document","objects","JSONSchema"]}]}};class MediaVisitor extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.element=new Media,this.specPath=always(["document","objects","Media"])}}let LinkDescriptionVisitor$2=class extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.element=new LinkDescription$2,this.specPath=always(["document","objects","LinkDescription"])}};const specification$8={visitors:{value:FallbackVisitor$5,JSONSchemaOrJSONReferenceVisitor:SchemaOrReferenceVisitor$2,document:{objects:{JSONSchema:{$visitor:JSONSchemaVisitor$3,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:SchemaOrReferenceVisitor$2,items:ItemsVisitor$5,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:RequiredVisitor,properties:PropertiesVisitor$4,additionalProperties:SchemaOrReferenceVisitor$2,patternProperties:PatternPropertiesVisitor$2,dependencies:DependenciesVisitor$1,enum:EnumVisitor$1,type:TypeVisitor$2,allOf:AllOfVisitor$4,anyOf:AnyOfVisitor$3,oneOf:OneOfVisitor$3,not:SchemaOrReferenceVisitor$2,definitions:DefinitionsVisitor$2,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:LinksVisitor$2,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:JSONReferenceVisitor,fixedFields:{$ref:$RefVisitor$7}},Media:{$visitor:MediaVisitor,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:LinkDescriptionVisitor$2,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:SchemaOrReferenceVisitor$2,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:SchemaOrReferenceVisitor$2}}}}}};createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof JSONSchema$3||t(r)&&e("JSONSchemaDraft4",r)&&s("object",r));const isJSONReferenceElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof JSONReference||t(r)&&e("JSONReference",r)&&s("object",r)),isMediaElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Media||t(r)&&e("media",r)&&s("object",r));createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof LinkDescription$2||t(r)&&e("linkDescription",r)&&s("object",r));let OpenAPIMediaTypes$2=class extends MediaTypes{filterByFormat(e="generic"){const s=e==="generic"?"openapi;version":e;return this.filter(r=>r.includes(s))}findBy(e="2.0",s="generic"){const r=s==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${s};version=${e}`;return this.find(o=>o.includes(r))||this.unknownMediaType}latest(e="generic"){return last(this.filterByFormat(e))}};const mediaTypes$5=new OpenAPIMediaTypes$2("application/vnd.oai.openapi;version=2.0","application/vnd.oai.openapi+json;version=2.0","application/vnd.oai.openapi+yaml;version=2.0");class Swagger extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="swagger",this.classes.push("api")}get swagger(){return this.get("swagger")}set swagger(e){this.set("swagger",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get host(){return this.get("host")}set host(e){this.set("host",e)}get basePath(){return this.get("basePath")}set basePath(e){this.set("basePath",e)}get schemes(){return this.get("schemes")}set schemes(e){this.set("schemes",e)}get consumes(){return this.get("consumes")}set consumes(e){this.set("consumes",e)}get produces(){return this.get("produces")}set produces(e){this.set("produces",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get securityDefinitions(){return this.get("securityDefinitions")}set securityDefinitions(e){this.set("securityDefinitions",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}class SwaggerVersion extends StringElement{constructor(e,s,r){super(e,s,r),this.element="swaggerVersion",this.classes.push("spec-version"),this.classes.push("version")}}let Info$5=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},Contact$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},License$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Paths$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="paths"}},PathItem$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},Operation$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get schemes(){return this.get("schemes")}set schemes(e){this.set("schemes",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}},ExternalDocumentation$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Parameter$4=class extends JSONSchema$3{constructor(e,s,r){super(e,s,r),this.element="parameter",this.classes.push("json-schema-draft-4")}get idProp(){throw new UnsupportedOperationError("idProp getter in Parameter class is not not supported.")}set idProp(e){throw new UnsupportedOperationError("idProp setter in Parameter class is not not supported.")}get $schema(){throw new UnsupportedOperationError("$schema getter in Parameter class is not not supported.")}set $schema(e){throw new UnsupportedOperationError("$schema setter in Parameter class is not not supported.")}get additionalItems(){throw new UnsupportedOperationError("additionalItems getter in Parameter class is not not supported.")}set additionalItems(e){throw new UnsupportedOperationError("additionalItems setter in Parameter class is not not supported.")}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxProperties(){throw new UnsupportedOperationError("maxProperties getter in Parameter class is not not supported.")}set maxProperties(e){throw new UnsupportedOperationError("maxProperties setter in Parameter class is not not supported.")}get minProperties(){throw new UnsupportedOperationError("minProperties getter in Parameter class is not not supported.")}set minProperties(e){throw new UnsupportedOperationError("minProperties setter in Parameter class is not not supported.")}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){throw new UnsupportedOperationError("properties getter in Parameter class is not not supported.")}set properties(e){throw new UnsupportedOperationError("properties setter in Parameter class is not not supported.")}get additionalProperties(){throw new UnsupportedOperationError("additionalProperties getter in Parameter class is not not supported.")}set additionalProperties(e){throw new UnsupportedOperationError("additionalProperties setter in Parameter class is not not supported.")}get patternProperties(){throw new UnsupportedOperationError("patternProperties getter in Parameter class is not not supported.")}set patternProperties(e){throw new UnsupportedOperationError("patternProperties setter in Parameter class is not not supported.")}get dependencies(){throw new UnsupportedOperationError("dependencies getter in Parameter class is not not supported.")}set dependencies(e){throw new UnsupportedOperationError("dependencies setter in Parameter class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){throw new UnsupportedOperationError("allOf getter in Parameter class is not not supported.")}set allOf(e){throw new UnsupportedOperationError("allOf setter in Parameter class is not not supported.")}get anyOf(){throw new UnsupportedOperationError("anyOf getter in Parameter class is not not supported.")}set anyOf(e){throw new UnsupportedOperationError("anyOf setter in Parameter class is not not supported.")}get oneOf(){throw new UnsupportedOperationError("oneOf getter in Parameter class is not not supported.")}set oneOf(e){throw new UnsupportedOperationError("oneOf setter in Parameter class is not not supported.")}get not(){throw new UnsupportedOperationError("not getter in Parameter class is not not supported.")}set not(e){throw new UnsupportedOperationError("not setter in Parameter class is not not supported.")}get definitions(){throw new UnsupportedOperationError("definitions getter in Parameter class is not not supported.")}set definitions(e){throw new UnsupportedOperationError("definitions setter in Parameter class is not not supported.")}get title(){throw new UnsupportedOperationError("title getter in Parameter class is not not supported.")}set title(e){throw new UnsupportedOperationError("title setter in Parameter class is not not supported.")}get description(){return this.get("description")}set description(e){this.set("description,",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){throw new UnsupportedOperationError("base getter in Parameter class is not not supported.")}set base(e){throw new UnsupportedOperationError("base setter in Parameter class is not not supported.")}get links(){throw new UnsupportedOperationError("links getter in Parameter class is not not supported.")}set links(e){throw new UnsupportedOperationError("links setter in Parameter class is not not supported.")}get media(){throw new UnsupportedOperationError("media getter in Parameter class is not not supported.")}set media(e){throw new UnsupportedOperationError("media setter in Parameter class is not not supported.")}get readOnly(){throw new UnsupportedOperationError("readOnly getter in Parameter class is not not supported.")}set readOnly(e){throw new UnsupportedOperationError("readOnly setter in Parameter class is not not supported.")}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}};class Items extends JSONSchema$3{constructor(e,s,r){super(e,s,r),this.element="items",this.classes.push("json-schema-draft-4")}get idProp(){throw new UnsupportedOperationError("idProp getter in Items class is not not supported.")}set idProp(e){throw new UnsupportedOperationError("idProp setter in Items class is not not supported.")}get $schema(){throw new UnsupportedOperationError("$schema getter in Items class is not not supported.")}set $schema(e){throw new UnsupportedOperationError("$schema setter in Items class is not not supported.")}get additionalItems(){throw new UnsupportedOperationError("additionalItems getter in Items class is not not supported.")}set additionalItems(e){throw new UnsupportedOperationError("additionalItems setter in Items class is not not supported.")}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxProperties(){throw new UnsupportedOperationError("maxProperties getter in Items class is not not supported.")}set maxProperties(e){throw new UnsupportedOperationError("maxProperties setter in Items class is not not supported.")}get minProperties(){throw new UnsupportedOperationError("minProperties getter in Items class is not not supported.")}set minProperties(e){throw new UnsupportedOperationError("minProperties setter in Items class is not not supported.")}get required(){throw new UnsupportedOperationError("required getter in Items class is not not supported.")}set required(e){throw new UnsupportedOperationError("required setter in Items class is not not supported.")}get properties(){throw new UnsupportedOperationError("properties getter in Items class is not not supported.")}set properties(e){throw new UnsupportedOperationError("properties setter in Items class is not not supported.")}get additionalProperties(){throw new UnsupportedOperationError("additionalProperties getter in Items class is not not supported.")}set additionalProperties(e){throw new UnsupportedOperationError("additionalProperties setter in Items class is not not supported.")}get patternProperties(){throw new UnsupportedOperationError("patternProperties getter in Items class is not not supported.")}set patternProperties(e){throw new UnsupportedOperationError("patternProperties setter in Items class is not not supported.")}get dependencies(){throw new UnsupportedOperationError("dependencies getter in Items class is not not supported.")}set dependencies(e){throw new UnsupportedOperationError("dependencies setter in Items class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){throw new UnsupportedOperationError("allOf getter in Items class is not not supported.")}set allOf(e){throw new UnsupportedOperationError("allOf setter in Items class is not not supported.")}get anyOf(){throw new UnsupportedOperationError("anyOf getter in Items class is not not supported.")}set anyOf(e){throw new UnsupportedOperationError("anyOf setter in Items class is not not supported.")}get oneOf(){throw new UnsupportedOperationError("oneOf getter in Items class is not not supported.")}set oneOf(e){throw new UnsupportedOperationError("oneOf setter in Items class is not not supported.")}get not(){throw new UnsupportedOperationError("not getter in Items class is not not supported.")}set not(e){throw new UnsupportedOperationError("not setter in Items class is not not supported.")}get definitions(){throw new UnsupportedOperationError("definitions getter in Items class is not not supported.")}set definitions(e){throw new UnsupportedOperationError("definitions setter in Items class is not not supported.")}get title(){throw new UnsupportedOperationError("title getter in Items class is not not supported.")}set title(e){throw new UnsupportedOperationError("title setter in Items class is not not supported.")}get description(){throw new UnsupportedOperationError("description getter in Items class is not not supported.")}set description(e){throw new UnsupportedOperationError("description setter in Items class is not not supported.")}get base(){throw new UnsupportedOperationError("base getter in Items class is not not supported.")}set base(e){throw new UnsupportedOperationError("base setter in Items class is not not supported.")}get links(){throw new UnsupportedOperationError("links getter in Items class is not not supported.")}set links(e){throw new UnsupportedOperationError("links setter in Items class is not not supported.")}get media(){throw new UnsupportedOperationError("media getter in Items class is not not supported.")}set media(e){throw new UnsupportedOperationError("media setter in Items class is not not supported.")}get readOnly(){throw new UnsupportedOperationError("readOnly getter in Items class is not not supported.")}set readOnly(e){throw new UnsupportedOperationError("readOnly setter in Items class is not not supported.")}}let Example$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="example"}},Responses$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}},Response$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}};class Headers extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="headers"}}let Header$2=class extends JSONSchema$3{constructor(e,s,r){super(e,s,r),this.element="header",this.classes.push("json-schema-draft-4")}get idProp(){throw new UnsupportedOperationError("idProp getter in Header class is not not supported.")}set idProp(e){throw new UnsupportedOperationError("idProp setter in Header class is not not supported.")}get $schema(){throw new UnsupportedOperationError("$schema getter in Header class is not not supported.")}set $schema(e){throw new UnsupportedOperationError("$schema setter in Header class is not not supported.")}get additionalItems(){throw new UnsupportedOperationError("additionalItems getter in Header class is not not supported.")}set additionalItems(e){throw new UnsupportedOperationError("additionalItems setter in Header class is not not supported.")}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxProperties(){throw new UnsupportedOperationError("maxProperties getter in Header class is not not supported.")}set maxProperties(e){throw new UnsupportedOperationError("maxProperties setter in Header class is not not supported.")}get minProperties(){throw new UnsupportedOperationError("minProperties getter in Header class is not not supported.")}set minProperties(e){throw new UnsupportedOperationError("minProperties setter in Header class is not not supported.")}get required(){throw new UnsupportedOperationError("required getter in Header class is not not supported.")}set required(e){throw new UnsupportedOperationError("required setter in Header class is not not supported.")}get properties(){throw new UnsupportedOperationError("properties getter in Header class is not not supported.")}set properties(e){throw new UnsupportedOperationError("properties setter in Header class is not not supported.")}get additionalProperties(){throw new UnsupportedOperationError("additionalProperties getter in Header class is not not supported.")}set additionalProperties(e){throw new UnsupportedOperationError("additionalProperties setter in Header class is not not supported.")}get patternProperties(){throw new UnsupportedOperationError("patternProperties getter in Header class is not not supported.")}set patternProperties(e){throw new UnsupportedOperationError("patternProperties setter in Header class is not not supported.")}get dependencies(){throw new UnsupportedOperationError("dependencies getter in Header class is not not supported.")}set dependencies(e){throw new UnsupportedOperationError("dependencies setter in Header class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){throw new UnsupportedOperationError("allOf getter in Header class is not not supported.")}set allOf(e){throw new UnsupportedOperationError("allOf setter in Header class is not not supported.")}get anyOf(){throw new UnsupportedOperationError("anyOf getter in Header class is not not supported.")}set anyOf(e){throw new UnsupportedOperationError("anyOf setter in Header class is not not supported.")}get oneOf(){throw new UnsupportedOperationError("oneOf getter in Header class is not not supported.")}set oneOf(e){throw new UnsupportedOperationError("oneOf setter in Header class is not not supported.")}get not(){throw new UnsupportedOperationError("not getter in Header class is not not supported.")}set not(e){throw new UnsupportedOperationError("not setter in Header class is not not supported.")}get definitions(){throw new UnsupportedOperationError("definitions getter in Header class is not not supported.")}set definitions(e){throw new UnsupportedOperationError("definitions setter in Header class is not not supported.")}get title(){throw new UnsupportedOperationError("title getter in Header class is not not supported.")}set title(e){throw new UnsupportedOperationError("title setter in Header class is not not supported.")}get base(){throw new UnsupportedOperationError("base getter in Header class is not not supported.")}set base(e){throw new UnsupportedOperationError("base setter in Header class is not not supported.")}get links(){throw new UnsupportedOperationError("links getter in Header class is not not supported.")}set links(e){throw new UnsupportedOperationError("links setter in Header class is not not supported.")}get media(){throw new UnsupportedOperationError("media getter in Header class is not not supported.")}set media(e){throw new UnsupportedOperationError("media setter in Header class is not not supported.")}get readOnly(){throw new UnsupportedOperationError("readOnly getter in Header class is not not supported.")}set readOnly(e){throw new UnsupportedOperationError("readOnly setter in Header class is not not supported.")}},Tag$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},Schema$3=class extends JSONSchema$3{constructor(e,s,r){super(e,s,r),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new UnsupportedOperationError("idProp getter in Schema class is not not supported.")}set idProp(e){throw new UnsupportedOperationError("idProp setter in Schema class is not not supported.")}get $schema(){throw new UnsupportedOperationError("$schema getter in Schema class is not not supported.")}set $schema(e){throw new UnsupportedOperationError("$schema setter in Schema class is not not supported.")}get additionalItems(){throw new UnsupportedOperationError("additionalItems getter in Schema class is not not supported.")}set additionalItems(e){throw new UnsupportedOperationError("additionalItems setter in Schema class is not not supported.")}get patternProperties(){throw new UnsupportedOperationError("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new UnsupportedOperationError("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new UnsupportedOperationError("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new UnsupportedOperationError("dependencies setter in Schema class is not not supported.")}get anyOf(){throw new UnsupportedOperationError("anyOf getter in Schema class is not not supported.")}set anyOf(e){throw new UnsupportedOperationError("anyOf setter in Schema class is not not supported.")}get oneOf(){throw new UnsupportedOperationError("oneOf getter in Schema class is not not supported.")}set oneOf(e){throw new UnsupportedOperationError("oneOf setter in Schema class is not not supported.")}get not(){throw new UnsupportedOperationError("not getter in Schema class is not not supported.")}set not(e){throw new UnsupportedOperationError("not setter in Schema class is not not supported.")}get definitions(){throw new UnsupportedOperationError("definitions getter in Schema class is not not supported.")}set definitions(e){throw new UnsupportedOperationError("definitions setter in Schema class is not not supported.")}get base(){throw new UnsupportedOperationError("base getter in Schema class is not not supported.")}set base(e){throw new UnsupportedOperationError("base setter in Schema class is not not supported.")}get links(){throw new UnsupportedOperationError("links getter in Schema class is not not supported.")}set links(e){throw new UnsupportedOperationError("links setter in Schema class is not not supported.")}get media(){throw new UnsupportedOperationError("media getter in Schema class is not not supported.")}set media(e){throw new UnsupportedOperationError("media setter in Schema class is not not supported.")}},Xml$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}},Reference$5=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}};class Definitions extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="definitions"}}class ParametersDefinitions extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="parametersDefinitions"}}class ResponsesDefinitions extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="responsesDefinitions"}}class SecurityDefinitions extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityDefinitions"}}let SecurityScheme$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get flow(){return this.get("flow")}set flow(e){this.set("flow",e)}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}};class Scopes extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="scopes"}}let SecurityRequirement$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityRequirement"}};const openApi2={namespace:t=>{const{base:e}=t;return e.register("swagger",Swagger),e.register("swaggerVersion",SwaggerVersion),e.register("info",Info$5),e.register("contact",Contact$3),e.register("license",License$3),e.register("paths",Paths$2),e.register("pathItem",PathItem$2),e.register("operation",Operation$3),e.register("externalDocumentation",ExternalDocumentation$3),e.register("parameter",Parameter$4),e.register("items",Items),e.register("responses",Responses$2),e.register("response",Response$3),e.register("headers",Headers),e.register("example",Example$2),e.register("header",Header$2),e.register("tag",Tag$3),e.register("reference",Reference$5),e.register("schema",Schema$3),e.register("xml",Xml$2),e.register("definitions",Definitions),e.register("parametersDefinitions",ParametersDefinitions),e.register("responsesDefinitions",ResponsesDefinitions),e.register("securityDefinitions",SecurityDefinitions),e.register("securityScheme",SecurityScheme$3),e.register("scopes",Scopes),e.register("securityRequirement",SecurityRequirement$3),e}};class OperationConsumes extends ArrayElement{static primaryClass="operation-consumes";constructor(e,s,r){super(e,s,r),this.classes.push(OperationConsumes.primaryClass)}}let OperationParameters$1=class Y extends ArrayElement{static primaryClass="operation-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(Y.primaryClass),this.classes.push("parameters")}};class OperationProduces extends ArrayElement{static primaryClass="operation-produces";constructor(e,s,r){super(e,s,r),this.classes.push(OperationProduces.primaryClass)}}class OperationSchemes extends ArrayElement{static primaryClass="operation-schemes";constructor(e,s,r){super(e,s,r),this.classes.push(OperationSchemes.primaryClass)}}let OperationSecurity$2=class X extends ArrayElement{static primaryClass="operation-security";constructor(e,s,r){super(e,s,r),this.classes.push(X.primaryClass),this.classes.push("security")}},OperationTags$1=class Z extends ArrayElement{static primaryClass="operation-tags";constructor(e,s,r){super(e,s,r),this.classes.push(Z.primaryClass),this.classes.push("tags")}},PathItemParameters$1=class Q extends ArrayElement{static primaryClass="path-item-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(Q.primaryClass),this.classes.push("parameters")}};class SwaggerSchemes extends ArrayElement{static primaryClass="swagger-schemes";constructor(e,s,r){super(e,s,r),this.classes.push(SwaggerSchemes.primaryClass)}}class SwaggerConsumes extends ArrayElement{static primaryClass="swagger-consumes";constructor(e,s,r){super(e,s,r),this.classes.push(SwaggerConsumes.primaryClass)}}class SwaggerProduces extends ArrayElement{static primaryClass="swagger-produces";constructor(e,s,r){super(e,s,r),this.classes.push(SwaggerProduces.primaryClass)}}class SwaggerSecurity extends ArrayElement{static primaryClass="swagger-security";constructor(e,s,r){super(e,s,r),this.classes.push(SwaggerSecurity.primaryClass),this.classes.push("security")}}class SwaggerTags extends ArrayElement{static primaryClass="swagger-tags";constructor(e,s,r){super(e,s,r),this.classes.push(SwaggerTags.primaryClass)}}const getNodeType$7=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap$7={SwaggerElement:["content"],InfoElement:["content"],ContactElement:["content"],LicenseElement:["content"],PathsElement:["content"],PathItemElement:["content"],OperationElement:["content"],ExternalDocumentationElement:["content"],ParameterElement:["content"],ItemsElement:["content"],ExampleElement:["content"],ResponsesElement:["content"],ResponseElement:["content"],HeadersElement:["content"],HeaderElement:["content"],TagElement:["content"],ReferenceElement:["content"],JSONReferenceElement:["content"],SchemaElement:["content"],XmlElement:["content"],DefinitionsElement:["content"],ParametersDefinitionsElement:["content"],ResponsesDefinitionsElement:["content"],SecurityDefinitionsElement:["content"],SecuritySchemeElement:["content"],ScopesElement:["content"],SecurityRequirementElement:["content"],...keyMapDefault$1};let Visitor$4=class{element;constructor(e={}){Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=deepmerge(s.meta,e.meta),hasElementSourceMap(e)&&s.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=deepmerge(s.attributes,e.attributes))}},FallbackVisitor$4=class extends Visitor$4{enter(e){return this.element=cloneDeep(e),BREAK}},SpecificationVisitor$4=class extends Visitor$4{specObj;passingOptionsNames=["specObj"];constructor({specObj:e,...s}){super({...s}),this.specObj=e}retrievePassingOptions(){return pick(this.passingOptionsNames,this)}retrieveFixedFields(e){const s=path$4(["visitors",...e,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(e){return pathSatisfies(isFunction$4,["visitors",...e],this.specObj)?path$4(["visitors",...e],this.specObj):path$4(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,s={}){const r=this.retrievePassingOptions(),n=this.retrieveVisitor(e),o={...r,...s};return new n(o)}toRefractedElement(e,s,r={}){const n=this.retrieveVisitorInstance(e,r);return n instanceof FallbackVisitor$4&&n?.constructor===FallbackVisitor$4?cloneDeep(s):(visit$1(s,n,r),n.element)}};const isSwaggerExtension=t=>isStringElement(t.key)&&startsWith("x-",serializer(t.key)),isReferenceLikeElement$3=t=>isObjectElement(t)&&t.hasKey("$ref");var refractorPredicates$1=Object.freeze({__proto__:null,isReferenceLikeElement:isReferenceLikeElement$3,isSwaggerExtension});let FixedFieldsVisitor$4=class extends SpecificationVisitor$4{specPath;ignoredFields;canSupportSpecificationExtensions=!0;specificationExtensionPredicate=isSwaggerExtension;constructor({specPath:e,ignoredFields:s,canSupportSpecificationExtensions:r,specificationExtensionPredicate:n,...o}){super({...o}),this.specPath=e,this.ignoredFields=s||[],typeof r=="boolean"&&(this.canSupportSpecificationExtensions=r),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(e){const s=this.specPath(e),r=this.retrieveFixedFields(s);return e.forEach((n,o,a)=>{if(isStringElement(o)&&r.includes(serializer(o))&&!this.ignoredFields.includes(serializer(o))){const c=this.toRefractedElement([...s,"fixedFields",serializer(o)],n),u=new MemberElement(cloneDeep(o),c);this.copyMetaAndAttributes(a,u),u.classes.push("fixed-field"),this.element.content.push(u)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(a)){const c=this.toRefractedElement(["document","extension"],a);this.element.content.push(c)}else this.ignoredFields.includes(serializer(o))||this.element.content.push(cloneDeep(a))}),this.copyMetaAndAttributes(e,this.element),BREAK}},SwaggerVisitor$1=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Swagger,this.specPath=always(["document","objects","Swagger"]),this.canSupportSpecificationExtensions=!0}};class SwaggerVisitor extends Mixin(SpecificationVisitor$4,FallbackVisitor$4){StringElement(e){const s=new SwaggerVersion(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}class HostVisitor extends FallbackVisitor$4{StringElement(e){const s=super.enter(e);return this.element.classes.push("swagger-host"),s}}class BasePathVisitor extends FallbackVisitor$4{StringElement(e){const s=super.enter(e);return this.element.classes.push("swagger-base-path"),s}}let SchemesVisitor$1=class extends FallbackVisitor$4{constructor(e){super(e),this.element=new SwaggerSchemes}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}},ConsumesVisitor$1=class extends FallbackVisitor$4{constructor(e){super(e),this.element=new SwaggerConsumes}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}},ProducesVisitor$1=class extends FallbackVisitor$4{constructor(e){super(e),this.element=new SwaggerProduces}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}},SecurityVisitor$6=class extends Mixin(SpecificationVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new SwaggerSecurity}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","SecurityRequirement"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},TagsVisitor$4=class extends Mixin(SpecificationVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new SwaggerTags}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Tag"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},InfoVisitor$5=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Info$5,this.specPath=always(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}},VersionVisitor$3=class extends FallbackVisitor$4{StringElement(e){const s=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),s}},ContactVisitor$3=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Contact$3,this.specPath=always(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},LicenseVisitor$3=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new License$3,this.specPath=always(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},PatternedFieldsVisitor$3=class extends SpecificationVisitor$4{specPath;ignoredFields;fieldPatternPredicate=F;canSupportSpecificationExtensions=!1;specificationExtensionPredicate=isSwaggerExtension;constructor({specPath:e,ignoredFields:s,fieldPatternPredicate:r,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...a}){super({...a}),this.specPath=e,this.ignoredFields=s||[],typeof r=="function"&&(this.fieldPatternPredicate=r),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(e){return e.forEach((s,r,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(serializer(r))&&this.fieldPatternPredicate(serializer(r))){const o=this.specPath(s),a=this.toRefractedElement(o,s),c=new MemberElement(cloneDeep(r),a);this.copyMetaAndAttributes(n,c),c.classes.push("patterned-field"),this.element.content.push(c)}else this.ignoredFields.includes(serializer(r))||this.element.content.push(cloneDeep(n))}),this.copyMetaAndAttributes(e,this.element),BREAK}};const isSwaggerElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Swagger||t(r)&&e("swagger",r)&&s("object",r)),isSwaggerVersionElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SwaggerVersion||t(r)&&e("swaggerVersion",r)&&s("string",r)),isInfoElement$5=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Info$5||t(r)&&e("info",r)&&s("object",r)),isLicenseElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof License$3||t(r)&&e("license",r)&&s("object",r)),isContactElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Contact$3||t(r)&&e("contact",r)&&s("object",r)),isPathsElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Paths$2||t(r)&&e("paths",r)&&s("object",r)),isPathItemElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof PathItem$2||t(r)&&e("pathItem",r)&&s("object",r)),isOperationElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Operation$3||t(r)&&e("operation",r)&&s("object",r)),isExternalDocumentationElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ExternalDocumentation$3||t(r)&&e("externalDocumentation",r)&&s("object",r)),isParameterElement$4=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Parameter$4||t(r)&&e("parameter",r)&&s("object",r)),isItemsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Items||t(r)&&e("items",r)&&s("object",r)),isResponsesElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Responses$2||t(r)&&e("responses",r)&&s("object",r)),isResponseElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Response$3||t(r)&&e("response",r)&&s("object",r)),isHeadersElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Headers||t(r)&&e("headers",r)&&s("object",r)),isExampleElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Example$2||t(r)&&e("example",r)&&s("object",r)),isHeaderElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Header$2||t(r)&&e("header",r)&&s("object",r)),isTagElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Tag$3||t(r)&&e("tag",r)&&s("object",r)),isReferenceElement$4=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Reference$5||t(r)&&e("reference",r)&&s("object",r)),isSchemaElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Schema$3||t(r)&&e("schema",r)&&s("object",r)),isXmlElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Xml$2||t(r)&&e("xml",r)&&s("object",r)),isResponsesDefinitionsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ResponsesDefinitions||t(r)&&e("responsesDefinitions",r)&&s("object",r)),isSecurityDefinitionsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityDefinitions||t(r)&&e("securityDefinitions",r)&&s("object",r)),isDefinitionsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Definitions||t(r)&&e("definitions",r)&&s("object",r)),isParametersDefinitionsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ParametersDefinitions||t(r)&&e("parametersDefinitions",r)&&s("object",r)),isSecuritySchemeElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityScheme$3||t(r)&&e("securityScheme",r)&&s("object",r)),isScopesElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Scopes||t(r)&&e("scopes",r)&&s("object",r)),isSecurityRequirementElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityRequirement$3||t(r)&&e("securityRequirement",r)&&s("object",r));var openApi2Predicates=Object.freeze({__proto__:null,isContactElement:isContactElement$3,isDefinitionsElement,isExampleElement:isExampleElement$2,isExternalDocumentationElement:isExternalDocumentationElement$2,isHeaderElement:isHeaderElement$2,isHeadersElement,isInfoElement:isInfoElement$5,isItemsElement,isLicenseElement:isLicenseElement$3,isOperationElement:isOperationElement$3,isParameterElement:isParameterElement$4,isParametersDefinitionsElement,isPathItemElement:isPathItemElement$2,isPathsElement:isPathsElement$2,isReferenceElement:isReferenceElement$4,isResponseElement:isResponseElement$2,isResponsesDefinitionsElement,isResponsesElement:isResponsesElement$2,isSchemaElement:isSchemaElement$3,isScopesElement,isSecurityDefinitionsElement,isSecurityRequirementElement:isSecurityRequirementElement$3,isSecuritySchemeElement:isSecuritySchemeElement$2,isSwaggerElement,isSwaggerVersionElement,isTagElement,isXmlElement});let PathsVisitor$2=class extends Mixin(PatternedFieldsVisitor$3,FallbackVisitor$4){element;constructor(e){super(e),this.element=new Paths$2,this.specPath=always(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=T}ObjectElement(e){const s=PatternedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return this.element.filter(isPathItemElement$2).forEach((r,n)=>{n.classes.push("openapi-path-template"),n.classes.push("path-template"),r.setMetaProperty("path",cloneDeep(n))}),s}},PathItemVisitor$2=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new PathItem$2,this.specPath=always(["document","objects","PathItem"])}ObjectElement(e){const s=FixedFieldsVisitor$4.prototype.ObjectElement.call(this,e);return this.element.filter(isOperationElement$3).forEach((r,n)=>{const o=cloneDeep(n);o.content=serializer(o).toUpperCase(),r.setMetaProperty("http-method",o)}),isStringElement(this.element.$ref)&&this.element.classes.push("reference-element"),s}},$RefVisitor$6=class extends FallbackVisitor$4{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}},ParametersVisitor$a=class extends Mixin(SpecificationVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new PathItemParameters$1}ArrayElement(e){return e.forEach(s=>{const r=isReferenceLikeElement$3(s)?["document","objects","Reference"]:["document","objects","Parameter"],n=this.toRefractedElement(r,s);isReferenceElement$4(n)&&n.setMetaProperty("referenced-element","parameter"),this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},OperationVisitor$3=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Operation$3,this.specPath=always(["document","objects","Operation"])}},TagsVisitor$3=class extends FallbackVisitor$4{constructor(e){super(e),this.element=new OperationTags$1}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}};class ConsumesVisitor extends FallbackVisitor$4{constructor(e){super(e),this.element=new OperationConsumes}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}}class ProducesVisitor extends FallbackVisitor$4{constructor(e){super(e),this.element=new OperationProduces}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}}let ParametersVisitor$9=class extends Mixin(SpecificationVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new OperationParameters$1}ArrayElement(e){return e.forEach(s=>{const r=isReferenceLikeElement$3(s)?["document","objects","Reference"]:["document","objects","Parameter"],n=this.toRefractedElement(r,s);isReferenceElement$4(n)&&n.setMetaProperty("referenced-element","parameter"),this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}};class SchemesVisitor extends FallbackVisitor$4{constructor(e){super(e),this.element=new OperationSchemes}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}}let SecurityVisitor$5=class extends Mixin(SpecificationVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new OperationSecurity$2}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","SecurityRequirement"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},ExternalDocumentationVisitor$3=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new ExternalDocumentation$3,this.specPath=always(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},ParameterVisitor$4=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Parameter$4,this.specPath=always(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}},ItemsVisitor$4=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){specPath;canSupportSpecificationExtensions;constructor(e){super(e),this.element=new Items,this.specPath=always(["document","objects","Items"]),this.canSupportSpecificationExtensions=!0}},MixedFieldsVisitor$1=class extends Mixin(FixedFieldsVisitor$4,PatternedFieldsVisitor$3){specPathFixedFields;specPathPatternedFields;constructor({specPathFixedFields:e,specPathPatternedFields:s,...r}){super({...r}),this.specPathFixedFields=e,this.specPathPatternedFields=s}ObjectElement(e){const{specPath:s,ignoredFields:r}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(e));this.ignoredFields=[...r,...difference(e.keys(),n)],FixedFieldsVisitor$4.prototype.ObjectElement.call(this,e),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,PatternedFieldsVisitor$3.prototype.ObjectElement.call(this,e)}catch(n){throw this.specPath=s,n}return BREAK}},ResponsesVisitor$3=class extends Mixin(MixedFieldsVisitor$1,FallbackVisitor$4){constructor(e){super(e),this.element=new Responses$2,this.specPathFixedFields=always(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=s=>isReferenceLikeElement$3(s)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=test$2(new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${range(100,600).join("|")})$`))}ObjectElement(e){const s=MixedFieldsVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$4).forEach(r=>{r.setMetaProperty("referenced-element","response")}),this.element.filter(isResponseElement$2).forEach((r,n)=>{const o=cloneDeep(n);this.fieldPatternPredicate(serializer(o))&&r.setMetaProperty("http-status-code",o)}),s}},AlternatingVisitor$2=class extends SpecificationVisitor$4{alternator;constructor({alternator:e,...s}){super({...s}),this.alternator=e||[]}enter(e){const s=this.alternator.map(({predicate:n,specPath:o})=>ifElse(n,always(o),stubUndefined)),r=dispatch(s)(e);return this.element=this.toRefractedElement(r,e),BREAK}},DefaultVisitor$2=class extends Mixin(AlternatingVisitor$2,FallbackVisitor$4){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$3,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Response"]}]}ObjectElement(e){const s=AlternatingVisitor$2.prototype.enter.call(this,e);return isReferenceElement$4(this.element)?this.element.setMetaProperty("referenced-element","response"):isResponseElement$2(this.element)&&this.element.setMetaProperty("http-status-code","default"),s}},ResponseVisitor$2=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Response$3,this.specPath=always(["document","objects","Response"]),this.canSupportSpecificationExtensions=!0}},MapVisitor$3=class extends PatternedFieldsVisitor$3{constructor(e){super(e),this.fieldPatternPredicate=isNonEmptyString}},HeadersVisitor$4=class extends Mixin(MapVisitor$3,FallbackVisitor$4){constructor(e){super(e),this.element=new Headers,this.specPath=always(["document","objects","Header"]),this.canSupportSpecificationExtensions=!1}},ExampleVisitor$2=class extends Mixin(MapVisitor$3,FallbackVisitor$4){constructor(e){super(e),this.element=new Example$2,this.specPath=always(["value"]),this.canSupportSpecificationExtensions=!1}},HeaderVisitor$2=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Header$2,this.specPath=always(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},TagVisitor$3=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Tag$3,this.specPath=always(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},ReferenceVisitor$4=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Reference$5,this.specPath=always(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const s=FixedFieldsVisitor$4.prototype.ObjectElement.call(this,e);return isStringElement(this.element.$ref)&&this.element.classes.push("reference-element"),s}},$RefVisitor$5=class extends FallbackVisitor$4{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}},SchemaVisitor$8=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Schema$3,this.specPath=always(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const JSONSchemaAllOfVisitor$2=specification$8.visitors.document.objects.JSONSchema.fixedFields.allOf;let AllOfVisitor$3=class extends JSONSchemaAllOfVisitor$2{ArrayElement(e){const s=JSONSchemaAllOfVisitor$2.prototype.ArrayElement.call(this,e);return this.element.filter(isJSONReferenceElement).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const JSONSchemaItemsVisitor$2=specification$8.visitors.document.objects.JSONSchema.fixedFields.items;let ItemsVisitor$3=class extends JSONSchemaItemsVisitor$2{ObjectElement(e){const s=JSONSchemaItemsVisitor$2.prototype.ObjectElement.call(this,e);return isJSONReferenceElement(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}ArrayElement(e){const s=JSONSchemaItemsVisitor$2.prototype.ArrayElement.call(this,e);return this.element.filter(isJSONReferenceElement).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const JSONSchemaPropertiesVisitor$2=specification$8.visitors.document.objects.JSONSchema.fixedFields.properties;let PropertiesVisitor$3=class extends JSONSchemaPropertiesVisitor$2{ObjectElement(e){const s=JSONSchemaPropertiesVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isJSONReferenceElement).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const JSONSchemaOrJSONReferenceVisitor$2=specification$8.visitors.JSONSchemaOrJSONReferenceVisitor;class SchemaOrJSONReferenceVisitor extends JSONSchemaOrJSONReferenceVisitor$2{ObjectElement(e){const s=JSONSchemaOrJSONReferenceVisitor$2.prototype.enter.call(this,e);return isJSONReferenceElement(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}}let XmlVisitor$2=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new Xml$2,this.specPath=always(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},DefinitionsVisitor$1=class extends Mixin(MapVisitor$3,FallbackVisitor$4){constructor(e){super(e),this.element=new Definitions,this.specPath=s=>isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","Schema"]}ObjectElement(e){const s=MapVisitor$3.prototype.ObjectElement.call(this,e);return this.element.filter(isJSONReferenceElement).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};class ResponsesDefinitionsVisitor extends Mixin(MapVisitor$3,FallbackVisitor$4){constructor(e){super(e),this.element=new ResponsesDefinitions,this.specPath=always(["document","objects","Response"])}}class ParametersDefinitionsVisitor extends Mixin(MapVisitor$3,FallbackVisitor$4){constructor(e){super(e),this.element=new ParametersDefinitions,this.specPath=always(["document","objects","Parameter"])}}class SecurityDefinitionsVisitor extends Mixin(MapVisitor$3,FallbackVisitor$4){element;constructor(e){super(e),this.element=new SecurityDefinitions,this.specPath=always(["document","objects","SecurityScheme"])}}let SecuritySchemeVisitor$3=class extends Mixin(FixedFieldsVisitor$4,FallbackVisitor$4){constructor(e){super(e),this.element=new SecurityScheme$3,this.specPath=always(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},ScopesVisitor$2=class extends Mixin(MapVisitor$3,FallbackVisitor$4){constructor(e){super(e),this.element=new Scopes,this.specPath=always(["value"]),this.canSupportSpecificationExtensions=!0}},SecurityRequirementVisitor$3=class extends Mixin(MapVisitor$3,FallbackVisitor$4){constructor(e){super(e),this.element=new SecurityRequirement$3,this.specPath=always(["value"])}},SpecificationExtensionVisitor$3=class extends SpecificationVisitor$4{MemberElement(e){return this.element=cloneDeep(e),this.element.classes.push("specification-extension"),BREAK}};const{fixedFields:jsonSchemaFixedFields$2}=specification$8.visitors.document.objects.JSONSchema,specification$7={visitors:{value:FallbackVisitor$4,document:{objects:{JSONReference:specification$8.visitors.document.objects.JSONReference,JSONSchema:{$ref:"#/visitors/document/objects/Schema"},Swagger:{$visitor:SwaggerVisitor$1,fixedFields:{swagger:SwaggerVisitor,info:{$ref:"#/visitors/document/objects/Info"},host:HostVisitor,basePath:BasePathVisitor,schemes:SchemesVisitor$1,consumes:ConsumesVisitor$1,produces:ProducesVisitor$1,paths:{$ref:"#/visitors/document/objects/Paths"},definitions:{$ref:"#/visitors/document/objects/Definitions"},parameters:{$ref:"#/visitors/document/objects/ParametersDefinitions"},responses:{$ref:"#/visitors/document/objects/ResponsesDefinitions"},securityDefinitions:{$ref:"#/visitors/document/objects/SecurityDefinitions"},security:SecurityVisitor$6,tags:TagsVisitor$4,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:InfoVisitor$5,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:VersionVisitor$3}},Contact:{$visitor:ContactVisitor$3,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:LicenseVisitor$3,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Paths:{$visitor:PathsVisitor$2},PathItem:{$visitor:PathItemVisitor$2,fixedFields:{$ref:$RefVisitor$6,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},parameters:ParametersVisitor$a}},Operation:{$visitor:OperationVisitor$3,fixedFields:{tags:TagsVisitor$3,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},consumes:ConsumesVisitor,produces:ProducesVisitor,parameters:ParametersVisitor$9,responses:{$ref:"#/visitors/document/objects/Responses"},schemes:SchemesVisitor,deprecated:{$ref:"#/visitors/value"},security:SecurityVisitor$5}},ExternalDocumentation:{$visitor:ExternalDocumentationVisitor$3,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:ParameterVisitor$4,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:jsonSchemaFixedFields$2.description,required:jsonSchemaFixedFields$2.required,schema:SchemaOrJSONReferenceVisitor,type:jsonSchemaFixedFields$2.type,format:jsonSchemaFixedFields$2.format,items:{$ref:"#/visitors/document/objects/Items"},collectionFormat:{$ref:"#/visitors/value"},default:jsonSchemaFixedFields$2.default,maximum:jsonSchemaFixedFields$2.maximum,exclusiveMaximum:jsonSchemaFixedFields$2.exclusiveMaximum,minimum:jsonSchemaFixedFields$2.minimum,exclusiveMinimum:jsonSchemaFixedFields$2.exclusiveMinimum,maxLength:jsonSchemaFixedFields$2.maxLength,minLength:jsonSchemaFixedFields$2.minLength,pattern:jsonSchemaFixedFields$2.pattern,maxItems:jsonSchemaFixedFields$2.maxItems,minItems:jsonSchemaFixedFields$2.minItems,uniqueItems:jsonSchemaFixedFields$2.uniqueItems,enum:jsonSchemaFixedFields$2.enum,multipleOf:jsonSchemaFixedFields$2.multipleOf}},Items:{$visitor:ItemsVisitor$4,fixedFields:{type:jsonSchemaFixedFields$2.type,format:jsonSchemaFixedFields$2.format,items:{$ref:"#/visitors/document/objects/Items"},collectionFormat:{$ref:"#/visitors/value"},default:jsonSchemaFixedFields$2.default,maximum:jsonSchemaFixedFields$2.maximum,exclusiveMaximum:jsonSchemaFixedFields$2.exclusiveMaximum,minimum:jsonSchemaFixedFields$2.minimum,exclusiveMinimum:jsonSchemaFixedFields$2.exclusiveMinimum,maxLength:jsonSchemaFixedFields$2.maxLength,minLength:jsonSchemaFixedFields$2.minLength,pattern:jsonSchemaFixedFields$2.pattern,maxItems:jsonSchemaFixedFields$2.maxItems,minItems:jsonSchemaFixedFields$2.minItems,uniqueItems:jsonSchemaFixedFields$2.uniqueItems,enum:jsonSchemaFixedFields$2.enum,multipleOf:jsonSchemaFixedFields$2.multipleOf}},Responses:{$visitor:ResponsesVisitor$3,fixedFields:{default:DefaultVisitor$2}},Response:{$visitor:ResponseVisitor$2,fixedFields:{description:{$ref:"#/visitors/value"},schema:SchemaOrJSONReferenceVisitor,headers:{$ref:"#/visitors/document/objects/Headers"},examples:{$ref:"#/visitors/document/objects/Example"}}},Headers:{$visitor:HeadersVisitor$4},Example:{$visitor:ExampleVisitor$2},Header:{$visitor:HeaderVisitor$2,fixedFields:{description:jsonSchemaFixedFields$2.description,type:jsonSchemaFixedFields$2.type,format:jsonSchemaFixedFields$2.format,items:{$ref:"#/visitors/document/objects/Items"},collectionFormat:{$ref:"#/visitors/value"},default:jsonSchemaFixedFields$2.default,maximum:jsonSchemaFixedFields$2.maximum,exclusiveMaximum:jsonSchemaFixedFields$2.exclusiveMaximum,minimum:jsonSchemaFixedFields$2.minimum,exclusiveMinimum:jsonSchemaFixedFields$2.exclusiveMinimum,maxLength:jsonSchemaFixedFields$2.maxLength,minLength:jsonSchemaFixedFields$2.minLength,pattern:jsonSchemaFixedFields$2.pattern,maxItems:jsonSchemaFixedFields$2.maxItems,minItems:jsonSchemaFixedFields$2.minItems,uniqueItems:jsonSchemaFixedFields$2.uniqueItems,enum:jsonSchemaFixedFields$2.enum,multipleOf:jsonSchemaFixedFields$2.multipleOf}},Tag:{$visitor:TagVisitor$3,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:ReferenceVisitor$4,fixedFields:{$ref:$RefVisitor$5}},Schema:{$visitor:SchemaVisitor$8,fixedFields:{format:jsonSchemaFixedFields$2.format,title:jsonSchemaFixedFields$2.title,description:jsonSchemaFixedFields$2.description,default:jsonSchemaFixedFields$2.default,multipleOf:jsonSchemaFixedFields$2.multipleOf,maximum:jsonSchemaFixedFields$2.maximum,exclusiveMaximum:jsonSchemaFixedFields$2.exclusiveMaximum,minimum:jsonSchemaFixedFields$2.minimum,exclusiveMinimum:jsonSchemaFixedFields$2.exclusiveMinimum,maxLength:jsonSchemaFixedFields$2.maxLength,minLength:jsonSchemaFixedFields$2.minLength,pattern:jsonSchemaFixedFields$2.pattern,maxItems:jsonSchemaFixedFields$2.maxItems,minItems:jsonSchemaFixedFields$2.minItems,uniqueItems:jsonSchemaFixedFields$2.uniqueItems,maxProperties:jsonSchemaFixedFields$2.maxProperties,minProperties:jsonSchemaFixedFields$2.minProperties,required:jsonSchemaFixedFields$2.required,enum:jsonSchemaFixedFields$2.enum,type:jsonSchemaFixedFields$2.type,readOnly:jsonSchemaFixedFields$2.readOnly,items:ItemsVisitor$3,allOf:AllOfVisitor$3,properties:PropertiesVisitor$3,additionalProperties:SchemaOrJSONReferenceVisitor,discriminator:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},XML:{$visitor:XmlVisitor$2,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},Definitions:{$visitor:DefinitionsVisitor$1},ParametersDefinitions:{$visitor:ParametersDefinitionsVisitor},ResponsesDefinitions:{$visitor:ResponsesDefinitionsVisitor},SecurityDefinitions:{$visitor:SecurityDefinitionsVisitor},SecurityScheme:{$visitor:SecuritySchemeVisitor$3,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},flow:{$ref:"#/visitors/value"},authorizationUrl:{$ref:"#/visitors/value"},token:{$ref:"#/visitors/value"},scopes:{$ref:"#/visitors/document/objects/Scopes"}}},Scopes:{$visitor:ScopesVisitor$2},SecurityRequirement:{$visitor:SecurityRequirementVisitor$3}},extension:{$visitor:SpecificationExtensionVisitor$3}}}},createToolbox$7=()=>{const t=createNamespace(openApi2);return{predicates:{...refractorPredicates$1,...openApi2Predicates,isStringElement},namespace:t}},refract$7=(t,{specPath:e=["visitors","document","objects","Swagger","$visitor"],plugins:s=[]}={})=>{const r=refract$9(t),n=dereference(specification$7),o=path$4(e,n),a=new o({specObj:n});return visit$1(r,a),dispatchPluginsSync(a.element,s,{toolboxCreator:createToolbox$7,visitorOptions:{keyMap:keyMap$7,nodeTypeGetter:getNodeType$7}})},createRefractor$7=t=>(e,s={})=>refract$7(e,{specPath:t,...s});Swagger.refract=createRefractor$7(["visitors","document","objects","Swagger","$visitor"]),SwaggerVersion.refract=createRefractor$7(["visitors","document","objects","SwaggerVersion","$visitor"]),Info$5.refract=createRefractor$7(["visitors","document","objects","Info","$visitor"]),Contact$3.refract=createRefractor$7(["visitors","document","objects","Contact","$visitor"]),License$3.refract=createRefractor$7(["visitors","document","objects","License","$visitor"]),Paths$2.refract=createRefractor$7(["visitors","document","objects","Paths","$visitor"]),PathItem$2.refract=createRefractor$7(["visitors","document","objects","PathItem","$visitor"]),Operation$3.refract=createRefractor$7(["visitors","document","objects","Operation","$visitor"]),ExternalDocumentation$3.refract=createRefractor$7(["visitors","document","objects","ExternalDocumentation","$visitor"]),Parameter$4.refract=createRefractor$7(["visitors","document","objects","Parameter","$visitor"]),Items.refract=createRefractor$7(["visitors","document","objects","Items","$visitor"]),Responses$2.refract=createRefractor$7(["visitors","document","objects","Responses","$visitor"]),Response$3.refract=createRefractor$7(["visitors","document","objects","Response","$visitor"]),Headers.refract=createRefractor$7(["visitors","document","objects","Headers","$visitor"]),Example$2.refract=createRefractor$7(["visitors","document","objects","Example","$visitor"]),Header$2.refract=createRefractor$7(["visitors","document","objects","Header","$visitor"]),Tag$3.refract=createRefractor$7(["visitors","document","objects","Tag","$visitor"]),Reference$5.refract=createRefractor$7(["visitors","document","objects","Reference","$visitor"]),Schema$3.refract=createRefractor$7(["visitors","document","objects","Schema","$visitor"]),Xml$2.refract=createRefractor$7(["visitors","document","objects","XML","$visitor"]),Definitions.refract=createRefractor$7(["visitors","document","objects","Definitions","$visitor"]),ParametersDefinitions.refract=createRefractor$7(["visitors","document","objects","ParametersDefinitions","$visitor"]),ResponsesDefinitions.refract=createRefractor$7(["visitors","document","objects","ResponsesDefinitions","$visitor"]),SecurityDefinitions.refract=createRefractor$7(["visitors","document","objects","SecurityDefinitions","$visitor"]),SecurityScheme$3.refract=createRefractor$7(["visitors","document","objects","SecurityScheme","$visitor"]),Scopes.refract=createRefractor$7(["visitors","document","objects","Scopes","$visitor"]),SecurityRequirement$3.refract=createRefractor$7(["visitors","document","objects","SecurityRequirement","$visitor"]);const jsonMediaTypes$5=new OpenAPIMediaTypes$2(...mediaTypes$5.filterByFormat("generic"),...mediaTypes$5.filterByFormat("json")),detectionRegExp$b=/"swagger"\s*:\s*"(?<version_json>2\.0)"/,detect$b=async t=>detectionRegExp$b.test(t)&&await detect$d(t),parse$e=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$g(t,r),{result:o}=n;if(isNotUndefined(o)){const a=Swagger.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$9=createNamespace(openApi2);var openapi2AdapterJson=Object.freeze({__proto__:null,detect:detect$b,detectionRegExp:detectionRegExp$b,mediaTypes:jsonMediaTypes$5,namespace:namespace$9,parse:parse$e});const yamlMediaTypes$5=new OpenAPIMediaTypes$2(...mediaTypes$5.filterByFormat("generic"),...mediaTypes$5.filterByFormat("yaml")),detectionRegExp$a=/(?<YAML>^(["']?)swagger\2\s*:\s*(["'])(?<version_yaml>2\.0)\3(?:\s+|$))|(?<JSON>"swagger"\s*:\s*"(?<version_json>2\.0)")/m,detect$a=async t=>detectionRegExp$a.test(t)&&await detect$c(t),parse$d=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$f(t,r),{result:o}=n;if(isNotUndefined(o)){const a=Swagger.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$8=createNamespace(openApi2);var openapi2AdapterYaml=Object.freeze({__proto__:null,detect:detect$a,detectionRegExp:detectionRegExp$a,mediaTypes:yamlMediaTypes$5,namespace:namespace$8,parse:parse$d});let OpenAPIMediaTypes$1=class extends MediaTypes{filterByFormat(e="generic"){const s=e==="generic"?"openapi;version":e;return this.filter(r=>r.includes(s))}findBy(e="3.0.3",s="generic"){const r=s==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${s};version=${e}`;return this.find(o=>o.includes(r))||this.unknownMediaType}latest(e="generic"){return last(this.filterByFormat(e))}};const mediaTypes$4=new OpenAPIMediaTypes$1("application/vnd.oai.openapi;version=3.0.0","application/vnd.oai.openapi+json;version=3.0.0","application/vnd.oai.openapi+yaml;version=3.0.0","application/vnd.oai.openapi;version=3.0.1","application/vnd.oai.openapi+json;version=3.0.1","application/vnd.oai.openapi+yaml;version=3.0.1","application/vnd.oai.openapi;version=3.0.2","application/vnd.oai.openapi+json;version=3.0.2","application/vnd.oai.openapi+yaml;version=3.0.2","application/vnd.oai.openapi;version=3.0.3","application/vnd.oai.openapi+json;version=3.0.3","application/vnd.oai.openapi+yaml;version=3.0.3");let Callback$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="callback"}},Components$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}},Contact$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},Discriminator$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}},Encoding$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}},Example$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}},ExternalDocumentation$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Header$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new BooleanElement(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Header$1.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let Info$4=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},License$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Link$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){if(isStringElement(this.operationRef)){var e;return(e=this.operationRef)===null||e===void 0?void 0:e.meta.get("operation")}if(isStringElement(this.operationId)){var s;return(s=this.operationId)===null||s===void 0?void 0:s.meta.get("operation")}}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}},MediaType$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}},OAuthFlow$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}},OAuthFlows$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}},Openapi$1=class extends StringElement{constructor(e,s,r){super(e,s,r),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};class OpenApi3_0 extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}let Operation$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}},Parameter$3=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new BooleanElement(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new BooleanElement(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Parameter$3.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0});let PathItem$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},Paths$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="paths"}},Reference$4=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}},RequestBody$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new BooleanElement(!1)}set required(e){this.set("required",e)}},Response$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}},Responses$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}},Schema$2=class extends JSONSchema$3{constructor(e,s,r){super(e,s,r),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new UnsupportedOperationError("idProp getter in Schema class is not not supported.")}set idProp(e){throw new UnsupportedOperationError("idProp setter in Schema class is not not supported.")}get $schema(){throw new UnsupportedOperationError("$schema getter in Schema class is not not supported.")}set $schema(e){throw new UnsupportedOperationError("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new UnsupportedOperationError("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new UnsupportedOperationError("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new UnsupportedOperationError("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new UnsupportedOperationError("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new UnsupportedOperationError("definitions getter in Schema class is not not supported.")}set definitions(e){throw new UnsupportedOperationError("definitions setter in Schema class is not not supported.")}get base(){throw new UnsupportedOperationError("base getter in Schema class is not not supported.")}set base(e){throw new UnsupportedOperationError("base setter in Schema class is not not supported.")}get links(){throw new UnsupportedOperationError("links getter in Schema class is not not supported.")}set links(e){throw new UnsupportedOperationError("links setter in Schema class is not not supported.")}get media(){throw new UnsupportedOperationError("media getter in Schema class is not not supported.")}set media(e){throw new UnsupportedOperationError("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}},SecurityRequirement$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityRequirement"}},SecurityScheme$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}},Server$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}},ServerVariable$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}},Tag$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},Xml$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const openApi3_0={namespace:t=>{const{base:e}=t;return e.register("callback",Callback$1),e.register("components",Components$3),e.register("contact",Contact$2),e.register("discriminator",Discriminator$1),e.register("encoding",Encoding$1),e.register("example",Example$1),e.register("externalDocumentation",ExternalDocumentation$2),e.register("header",Header$1),e.register("info",Info$4),e.register("license",License$2),e.register("link",Link$1),e.register("mediaType",MediaType$1),e.register("oAuthFlow",OAuthFlow$2),e.register("oAuthFlows",OAuthFlows$2),e.register("openapi",Openapi$1),e.register("openApi3_0",OpenApi3_0),e.register("operation",Operation$2),e.register("parameter",Parameter$3),e.register("pathItem",PathItem$1),e.register("paths",Paths$1),e.register("reference",Reference$4),e.register("requestBody",RequestBody$1),e.register("response",Response$2),e.register("responses",Responses$1),e.register("schema",Schema$2),e.register("securityRequirement",SecurityRequirement$2),e.register("securityScheme",SecurityScheme$2),e.register("server",Server$2),e.register("serverVariable",ServerVariable$2),e.register("tag",Tag$2),e.register("xml",Xml$1),e}};let Servers$1=class ee extends ArrayElement{static primaryClass="servers";constructor(e,s,r){super(e,s,r),this.classes.push(ee.primaryClass)}};class Security extends ArrayElement{static primaryClass="security";constructor(e,s,r){super(e,s,r),this.classes.push(Security.primaryClass)}}let Tags$1=class te extends ArrayElement{static primaryClass="tags";constructor(e,s,r){super(e,s,r),this.classes.push(te.primaryClass)}},ServerVariables$1=class se extends ObjectElement{static primaryClass="server-variables";constructor(e,s,r){super(e,s,r),this.classes.push(se.primaryClass)}},ComponentsSchemas$1=class re extends ObjectElement{static primaryClass="components-schemas";constructor(e,s,r){super(e,s,r),this.classes.push(re.primaryClass)}};class ComponentsResponses extends ObjectElement{static primaryClass="components-responses";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsResponses.primaryClass)}}let ComponentsParameters$2=class ie extends ObjectElement{static primaryClass="components-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(ie.primaryClass),this.classes.push("parameters")}};class ComponentsExamples extends ObjectElement{static primaryClass="components-examples";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsExamples.primaryClass),this.classes.push("examples")}}class ComponentsRequestBodies extends ObjectElement{static primaryClass="components-request-bodies";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsRequestBodies.primaryClass)}}class ComponentsHeaders extends ObjectElement{static primaryClass="components-headers";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsHeaders.primaryClass)}}let ComponentsSecuritySchemes$1=class ne extends ObjectElement{static primaryClass="components-security-schemes";constructor(e,s,r){super(e,s,r),this.classes.push(ne.primaryClass)}};class ComponentsLinks extends ObjectElement{static primaryClass="components-links";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsLinks.primaryClass)}}class ComponentsCallbacks extends ObjectElement{static primaryClass="components-callbacks";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsCallbacks.primaryClass)}}class PathItemServers extends ArrayElement{static primaryClass="path-item-servers";constructor(e,s,r){super(e,s,r),this.classes.push(PathItemServers.primaryClass),this.classes.push("servers")}}class PathItemParameters extends ArrayElement{static primaryClass="path-item-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(PathItemParameters.primaryClass),this.classes.push("parameters")}}class OperationParameters extends ArrayElement{static primaryClass="operation-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(OperationParameters.primaryClass),this.classes.push("parameters")}}class ParameterExamples extends ObjectElement{static primaryClass="parameter-examples";constructor(e,s,r){super(e,s,r),this.classes.push(ParameterExamples.primaryClass),this.classes.push("examples")}}class ParameterContent extends ObjectElement{static primaryClass="parameter-content";constructor(e,s,r){super(e,s,r),this.classes.push(ParameterContent.primaryClass),this.classes.push("content")}}class OperationTags extends ArrayElement{static primaryClass="operation-tags";constructor(e,s,r){super(e,s,r),this.classes.push(OperationTags.primaryClass)}}class OperationCallbacks extends ObjectElement{static primaryClass="operation-callbacks";constructor(e,s,r){super(e,s,r),this.classes.push(OperationCallbacks.primaryClass)}}let OperationSecurity$1=class oe extends ArrayElement{static primaryClass="operation-security";constructor(e,s,r){super(e,s,r),this.classes.push(oe.primaryClass),this.classes.push("security")}};class OperationServers extends ArrayElement{static primaryClass="operation-servers";constructor(e,s,r){super(e,s,r),this.classes.push(OperationServers.primaryClass),this.classes.push("servers")}}class RequestBodyContent extends ObjectElement{static primaryClass="request-body-content";constructor(e,s,r){super(e,s,r),this.classes.push(RequestBodyContent.primaryClass),this.classes.push("content")}}class MediaTypeExamples extends ObjectElement{static primaryClass="media-type-examples";constructor(e,s,r){super(e,s,r),this.classes.push(MediaTypeExamples.primaryClass),this.classes.push("examples")}}class MediaTypeEncoding extends ObjectElement{static primaryClass="media-type-encoding";constructor(e,s,r){super(e,s,r),this.classes.push(MediaTypeEncoding.primaryClass)}}class EncodingHeaders extends ObjectElement{static primaryClass="encoding-headers";constructor(e,s,r){super(e,s,r),this.classes.push(EncodingHeaders.primaryClass)}}class ResponseHeaders extends ObjectElement{static primaryClass="response-headers";constructor(e,s,r){super(e,s,r),this.classes.push(ResponseHeaders.primaryClass)}}class ResponseContent extends ObjectElement{static primaryClass="response-content";constructor(e,s,r){super(e,s,r),this.classes.push(ResponseContent.primaryClass),this.classes.push("content")}}class ResponseLinks extends ObjectElement{static primaryClass="response-links";constructor(e,s,r){super(e,s,r),this.classes.push(ResponseLinks.primaryClass)}}class DiscriminatorMapping extends ObjectElement{static primaryClass="discriminator-mapping";constructor(e,s,r){super(e,s,r),this.classes.push(DiscriminatorMapping.primaryClass)}}let OAuthFlowScopes$1=class ae extends ObjectElement{static primaryClass="oauth-flow-scopes";constructor(e,s,r){super(e,s,r),this.classes.push(ae.primaryClass)}};class LinkParameters extends ObjectElement{static primaryClass="link-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(LinkParameters.primaryClass)}}class HeaderExamples extends ObjectElement{static primaryClass="header-examples";constructor(e,s,r){super(e,s,r),this.classes.push(HeaderExamples.primaryClass),this.classes.push("examples")}}class HeaderContent extends ObjectElement{static primaryClass="header-content";constructor(e,s,r){super(e,s,r),this.classes.push(HeaderContent.primaryClass),this.classes.push("content")}}const getNodeType$6=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap$6={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...keyMapDefault$1};let Visitor$3=class{element;constructor(e={}){Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=deepmerge(s.meta,e.meta),hasElementSourceMap(e)&&s.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=deepmerge(s.attributes,e.attributes))}},FallbackVisitor$3=class extends Visitor$3{enter(e){return this.element=cloneDeep(e),BREAK}},SpecificationVisitor$3=class extends Visitor$3{specObj;passingOptionsNames=["specObj","openApiGenericElement","openApiSemanticElement"];openApiGenericElement;openApiSemanticElement;constructor({specObj:e,passingOptionsNames:s,openApiGenericElement:r,openApiSemanticElement:n,...o}){super({...o}),this.specObj=e,this.openApiGenericElement=r,this.openApiSemanticElement=n,Array.isArray(s)&&(this.passingOptionsNames=s)}retrievePassingOptions(){return pick(this.passingOptionsNames,this)}retrieveFixedFields(e){const s=path$4(["visitors",...e,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(e){return pathSatisfies(isFunction$4,["visitors",...e],this.specObj)?path$4(["visitors",...e],this.specObj):path$4(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,s={}){const r=this.retrievePassingOptions(),n=this.retrieveVisitor(e),o={...r,...s};return new n(o)}toRefractedElement(e,s,r={}){const n=this.retrieveVisitorInstance(e,r);return n instanceof FallbackVisitor$3&&n?.constructor===FallbackVisitor$3?cloneDeep(s):(visit$1(s,n,r),n.element)}};const isReferenceLikeElement$2=t=>isObjectElement(t)&&t.hasKey("$ref"),isServerLikeElement=isObjectElement,isTagLikeElement=isObjectElement,isOpenApiExtension=t=>isStringElement(t.key)&&startsWith("x-",serializer(t.key));let FixedFieldsVisitor$3=class extends SpecificationVisitor$3{specPath;ignoredFields;canSupportSpecificationExtensions=!0;specificationExtensionPredicate=isOpenApiExtension;constructor({specPath:e,ignoredFields:s,canSupportSpecificationExtensions:r,specificationExtensionPredicate:n,...o}){super({...o}),this.specPath=e,this.ignoredFields=s||[],typeof r=="boolean"&&(this.canSupportSpecificationExtensions=r),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(e){const s=this.specPath(e),r=this.retrieveFixedFields(s);return e.forEach((n,o,a)=>{if(isStringElement(o)&&r.includes(serializer(o))&&!this.ignoredFields.includes(serializer(o))){const c=this.toRefractedElement([...s,"fixedFields",serializer(o)],n),u=new MemberElement(cloneDeep(o),c);this.copyMetaAndAttributes(a,u),u.classes.push("fixed-field"),this.element.content.push(u)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(a)){const c=this.toRefractedElement(["document","extension"],a);this.element.content.push(c)}else this.ignoredFields.includes(serializer(o))||this.element.content.push(cloneDeep(a))}),this.copyMetaAndAttributes(e,this.element),BREAK}};class OpenApi3_0Visitor extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new OpenApi3_0,this.specPath=always(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e)}}class OpenapiVisitor extends Mixin(SpecificationVisitor$3,FallbackVisitor$3){StringElement(e){const s=new Openapi$1(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}let SpecificationExtensionVisitor$2=class extends SpecificationVisitor$3{MemberElement(e){return this.element=cloneDeep(e),this.element.classes.push("specification-extension"),BREAK}},InfoVisitor$4=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Info$4,this.specPath=always(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}},VersionVisitor$2=class extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),s}},ContactVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Contact$2,this.specPath=always(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},LicenseVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new License$2,this.specPath=always(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},LinkVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Link$1,this.specPath=always(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return(isStringElement(this.element.operationId)||isStringElement(this.element.operationRef))&&this.element.classes.push("reference-element"),s}};class OperationRefVisitor extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}class OperationIdVisitor extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}let PatternedFieldsVisitor$2=class extends SpecificationVisitor$3{specPath;ignoredFields;fieldPatternPredicate=F;canSupportSpecificationExtensions=!1;specificationExtensionPredicate=isOpenApiExtension;constructor({specPath:e,ignoredFields:s,fieldPatternPredicate:r,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...a}){super({...a}),this.specPath=e,this.ignoredFields=s||[],typeof r=="function"&&(this.fieldPatternPredicate=r),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(e){return e.forEach((s,r,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(serializer(r))&&this.fieldPatternPredicate(serializer(r))){const o=this.specPath(s),a=this.toRefractedElement(o,s),c=new MemberElement(cloneDeep(r),a);this.copyMetaAndAttributes(n,c),c.classes.push("patterned-field"),this.element.content.push(c)}else this.ignoredFields.includes(serializer(r))||this.element.content.push(cloneDeep(n))}),this.copyMetaAndAttributes(e,this.element),BREAK}},MapVisitor$2=class extends PatternedFieldsVisitor$2{constructor(e){super(e),this.fieldPatternPredicate=isNonEmptyString}},ParametersVisitor$8=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new LinkParameters,this.specPath=always(["value"])}},ServerVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Server$2,this.specPath=always(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}},UrlVisitor$2=class extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("server-url"),s}},ServersVisitor$5=class extends Mixin(SpecificationVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Servers$1}ArrayElement(e){return e.forEach(s=>{const r=isServerLikeElement(s)?["document","objects","Server"]:["value"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},ServerVariableVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new ServerVariable$2,this.specPath=always(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}},VariablesVisitor$1=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ServerVariables$1,this.specPath=always(["document","objects","ServerVariable"])}},MediaTypeVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new MediaType$1,this.specPath=always(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}},AlternatingVisitor$1=class extends SpecificationVisitor$3{alternator;constructor({alternator:e,...s}){super({...s}),this.alternator=e||[]}enter(e){const s=this.alternator.map(({predicate:n,specPath:o})=>ifElse(n,always(o),stubUndefined)),r=dispatch(s)(e);return this.element=this.toRefractedElement(r,e),BREAK}};const isCallbackElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Callback$1||t(r)&&e("callback",r)&&s("object",r)),isComponentsElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Components$3||t(r)&&e("components",r)&&s("object",r)),isContactElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Contact$2||t(r)&&e("contact",r)&&s("object",r)),isExampleElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Example$1||t(r)&&e("example",r)&&s("object",r)),isExternalDocumentationElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ExternalDocumentation$2||t(r)&&e("externalDocumentation",r)&&s("object",r)),isHeaderElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Header$1||t(r)&&e("header",r)&&s("object",r)),isInfoElement$4=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Info$4||t(r)&&e("info",r)&&s("object",r)),isLicenseElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof License$2||t(r)&&e("license",r)&&s("object",r)),isLinkElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Link$1||t(r)&&e("link",r)&&s("object",r)),isOpenapiElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Openapi$1||t(r)&&e("openapi",r)&&s("string",r)),isOpenApi3_0Element=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof OpenApi3_0||t(n)&&e("openApi3_0",n)&&s("object",n)&&r("api",n)),isOperationElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Operation$2||t(r)&&e("operation",r)&&s("object",r)),isParameterElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Parameter$3||t(r)&&e("parameter",r)&&s("object",r)),isPathItemElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof PathItem$1||t(r)&&e("pathItem",r)&&s("object",r)),isPathsElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Paths$1||t(r)&&e("paths",r)&&s("object",r)),isReferenceElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Reference$4||t(r)&&e("reference",r)&&s("object",r)),isRequestBodyElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof RequestBody$1||t(r)&&e("requestBody",r)&&s("object",r)),isResponseElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Response$2||t(r)&&e("response",r)&&s("object",r)),isResponsesElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Responses$1||t(r)&&e("responses",r)&&s("object",r)),isSchemaElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Schema$2||t(r)&&e("schema",r)&&s("object",r)),isBooleanJsonSchemaElement$2=t=>isBooleanElement(t)&&t.classes.includes("boolean-json-schema"),isSecurityRequirementElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityRequirement$2||t(r)&&e("securityRequirement",r)&&s("object",r)),isSecuritySchemeElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityScheme$2||t(r)&&e("securityScheme",r)&&s("object",r)),isServerElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Server$2||t(r)&&e("server",r)&&s("object",r)),isServerVariableElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ServerVariable$2||t(r)&&e("serverVariable",r)&&s("object",r)),isMediaTypeElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof MediaType$1||t(r)&&e("mediaType",r)&&s("object",r)),isServersElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof Servers$1||t(n)&&e("array",n)&&s("array",n)&&r("servers",n));var openApi3_0Predicates=Object.freeze({__proto__:null,isBooleanJsonSchemaElement:isBooleanJsonSchemaElement$2,isCallbackElement:isCallbackElement$1,isComponentsElement:isComponentsElement$3,isContactElement:isContactElement$2,isExampleElement:isExampleElement$1,isExternalDocumentationElement:isExternalDocumentationElement$1,isHeaderElement:isHeaderElement$1,isInfoElement:isInfoElement$4,isLicenseElement:isLicenseElement$2,isLinkElement:isLinkElement$1,isMediaTypeElement:isMediaTypeElement$1,isOpenApi3_0Element,isOpenapiElement:isOpenapiElement$1,isOperationElement:isOperationElement$2,isParameterElement:isParameterElement$3,isPathItemElement:isPathItemElement$1,isPathsElement:isPathsElement$1,isReferenceElement:isReferenceElement$3,isRequestBodyElement:isRequestBodyElement$1,isResponseElement:isResponseElement$1,isResponsesElement:isResponsesElement$1,isSchemaElement:isSchemaElement$2,isSecurityRequirementElement:isSecurityRequirementElement$2,isSecuritySchemeElement:isSecuritySchemeElement$1,isServerElement:isServerElement$2,isServerVariableElement:isServerVariableElement$2,isServersElement:isServersElement$1});let SchemaVisitor$7=class extends Mixin(AlternatingVisitor$1,FallbackVisitor$3){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$2,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=AlternatingVisitor$1.prototype.enter.call(this,e);return isReferenceElement$3(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}},ExamplesVisitor$8=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("examples"),this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","example")}),s}},ExamplesVisitor$7=class extends ExamplesVisitor$8{constructor(e){super(e),this.element=new MediaTypeExamples}},EncodingVisitor$2=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new MediaTypeEncoding,this.specPath=always(["document","objects","Encoding"])}},SecurityRequirementVisitor$2=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new SecurityRequirement$2,this.specPath=always(["value"])}},SecurityVisitor$4=class extends Mixin(SpecificationVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Security}ArrayElement(e){return e.forEach(s=>{if(isObjectElement(s)){const r=this.toRefractedElement(["document","objects","SecurityRequirement"],s);this.element.push(r)}else this.element.push(cloneDeep(s))}),this.copyMetaAndAttributes(e,this.element),BREAK}},ComponentsVisitor$3=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Components$3,this.specPath=always(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}},TagVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Tag$2,this.specPath=always(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},ReferenceVisitor$3=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Reference$4,this.specPath=always(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return isStringElement(this.element.$ref)&&this.element.classes.push("reference-element"),s}},$RefVisitor$4=class extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}},ParameterVisitor$3=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Parameter$3,this.specPath=always(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return isObjectElement(this.element.contentProp)&&this.element.contentProp.filter(isMediaTypeElement$1).forEach((r,n)=>{r.setMetaProperty("media-type",serializer(n))}),s}},SchemaVisitor$6=class extends Mixin(AlternatingVisitor$1,FallbackVisitor$3){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$2,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=AlternatingVisitor$1.prototype.enter.call(this,e);return isReferenceElement$3(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}},HeaderVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Header$1,this.specPath=always(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},SchemaVisitor$5=class extends Mixin(AlternatingVisitor$1,FallbackVisitor$3){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$2,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=AlternatingVisitor$1.prototype.enter.call(this,e);return isReferenceElement$3(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}},ExamplesVisitor$6=class extends ExamplesVisitor$8{constructor(e){super(e),this.element=new HeaderExamples}},ContentVisitor$4=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("content"),this.specPath=always(["document","objects","MediaType"])}},ContentVisitor$3=class extends ContentVisitor$4{constructor(e){super(e),this.element=new HeaderContent}},SchemaVisitor$4=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Schema$2,this.specPath=always(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const JSONSchemaAllOfVisitor$1=specification$8.visitors.document.objects.JSONSchema.fixedFields.allOf;let AllOfVisitor$2=class extends JSONSchemaAllOfVisitor$1{ArrayElement(e){const s=JSONSchemaAllOfVisitor$1.prototype.ArrayElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const JSONSchemaAnyOfVisitor$1=specification$8.visitors.document.objects.JSONSchema.fixedFields.anyOf;let AnyOfVisitor$2=class extends JSONSchemaAnyOfVisitor$1{ArrayElement(e){const s=JSONSchemaAnyOfVisitor$1.prototype.ArrayElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const JSONSchemaOneOfVisitor$1=specification$8.visitors.document.objects.JSONSchema.fixedFields.oneOf;let OneOfVisitor$2=class extends JSONSchemaOneOfVisitor$1{ArrayElement(e){const s=JSONSchemaOneOfVisitor$1.prototype.ArrayElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const JSONSchemaItemsVisitor$1=specification$8.visitors.document.objects.JSONSchema.fixedFields.items;let ItemsVisitor$2=class extends JSONSchemaItemsVisitor$1{ObjectElement(e){const s=JSONSchemaItemsVisitor$1.prototype.ObjectElement.call(this,e);return isReferenceElement$3(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}ArrayElement(e){return this.enter(e)}};const JSONSchemaPropertiesVisitor$1=specification$8.visitors.document.objects.JSONSchema.fixedFields.properties;let PropertiesVisitor$2=class extends JSONSchemaPropertiesVisitor$1{ObjectElement(e){const s=JSONSchemaPropertiesVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}};const JSONSchemaTypeVisitor=specification$8.visitors.document.objects.JSONSchema.fixedFields.type;let TypeVisitor$1=class extends JSONSchemaTypeVisitor{ArrayElement(e){return this.enter(e)}};const JSONSchemaOrJSONReferenceVisitor$1=specification$8.visitors.JSONSchemaOrJSONReferenceVisitor;let SchemaOrReferenceVisitor$1=class extends JSONSchemaOrJSONReferenceVisitor$1{ObjectElement(e){const s=JSONSchemaOrJSONReferenceVisitor$1.prototype.enter.call(this,e);return isReferenceElement$3(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}},DiscriminatorVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Discriminator$1,this.specPath=always(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};class MappingVisitor extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new DiscriminatorMapping,this.specPath=always(["value"])}}let XmlVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Xml$1,this.specPath=always(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},ExamplesVisitor$5=class extends ExamplesVisitor$8{constructor(e){super(e),this.element=new ParameterExamples}},ContentVisitor$2=class extends ContentVisitor$4{constructor(e){super(e),this.element=new ParameterContent}},SchemasVisitor$2=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsSchemas$1,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}},ResponsesVisitor$2=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsResponses,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","response")}),this.element.filter(isResponseElement$1).forEach((r,n)=>{r.setMetaProperty("http-status-code",serializer(n))}),s}},ParametersVisitor$7=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsParameters$2,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","parameter")}),s}},ExamplesVisitor$4=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsExamples,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","example")}),s}};class RequestBodiesVisitor extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsRequestBodies,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","requestBody")}),s}}let HeadersVisitor$3=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsHeaders,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.filter(isHeaderElement$1).forEach((r,n)=>{r.setMetaProperty("header-name",serializer(n))}),s}},SecuritySchemesVisitor$1=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsSecuritySchemes$1,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","securityScheme")}),s}},LinksVisitor$1=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsLinks,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","link")}),s}},CallbacksVisitor$1=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsCallbacks,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","callback")}),s}},ExampleVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Example$1,this.specPath=always(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return isStringElement(this.element.externalValue)&&this.element.classes.push("reference-element"),s}};class ExternalValueVisitor extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}let ExternalDocumentationVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new ExternalDocumentation$2,this.specPath=always(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},EncodingVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Encoding$1,this.specPath=always(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return isObjectElement(this.element.headers)&&this.element.headers.filter(isHeaderElement$1).forEach((r,n)=>{r.setMetaProperty("header-name",serializer(n))}),s}},HeadersVisitor$2=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new EncodingHeaders,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.forEach((r,n)=>{if(!isHeaderElement$1(r))return;const o=serializer(n);r.setMetaProperty("headerName",o)}),s}},PathsVisitor$1=class extends Mixin(PatternedFieldsVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new Paths$1,this.specPath=always(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=T}ObjectElement(e){const s=PatternedFieldsVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isPathItemElement$1).forEach((r,n)=>{n.classes.push("openapi-path-template"),n.classes.push("path-template"),r.setMetaProperty("path",cloneDeep(n))}),s}},RequestBodyVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new RequestBody$1,this.specPath=always(["document","objects","RequestBody"])}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return isObjectElement(this.element.contentProp)&&this.element.contentProp.filter(isMediaTypeElement$1).forEach((r,n)=>{r.setMetaProperty("media-type",serializer(n))}),s}},ContentVisitor$1=class extends ContentVisitor$4{constructor(e){super(e),this.element=new RequestBodyContent}},CallbackVisitor$1=class extends Mixin(PatternedFieldsVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new Callback$1,this.specPath=always(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=s=>/{(?<expression>[^}]{1,2083})}/.test(String(s))}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isPathItemElement$1).forEach((r,n)=>{r.setMetaProperty("runtime-expression",serializer(n))}),s}},ResponseVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Response$2,this.specPath=always(["document","objects","Response"])}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return isObjectElement(this.element.contentProp)&&this.element.contentProp.filter(isMediaTypeElement$1).forEach((r,n)=>{r.setMetaProperty("media-type",serializer(n))}),isObjectElement(this.element.headers)&&this.element.headers.filter(isHeaderElement$1).forEach((r,n)=>{r.setMetaProperty("header-name",serializer(n))}),s}},HeadersVisitor$1=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ResponseHeaders,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","header")}),this.element.forEach((r,n)=>{if(!isHeaderElement$1(r))return;const o=serializer(n);r.setMetaProperty("header-name",o)}),s}};class ContentVisitor extends ContentVisitor$4{constructor(e){super(e),this.element=new ResponseContent}}class LinksVisitor extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ResponseLinks,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","link")}),s}}class MixedFieldsVisitor extends Mixin(FixedFieldsVisitor$3,PatternedFieldsVisitor$2){specPathFixedFields;specPathPatternedFields;constructor({specPathFixedFields:e,specPathPatternedFields:s,...r}){super({...r}),this.specPathFixedFields=e,this.specPathPatternedFields=s}ObjectElement(e){const{specPath:s,ignoredFields:r}=this;try{this.specPath=this.specPathFixedFields;const n=this.retrieveFixedFields(this.specPath(e));this.ignoredFields=[...r,...difference(e.keys(),n)],FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e),this.specPath=this.specPathPatternedFields,this.ignoredFields=n,PatternedFieldsVisitor$2.prototype.ObjectElement.call(this,e)}catch(n){throw this.specPath=s,n}return BREAK}}let ResponsesVisitor$1=class extends Mixin(MixedFieldsVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new Responses$1,this.specPathFixedFields=always(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=s=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${range(100,600).join("|")})$`).test(String(s))}ObjectElement(e){const s=MixedFieldsVisitor.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","response")}),this.element.filter(isResponseElement$1).forEach((r,n)=>{const o=cloneDeep(n);this.fieldPatternPredicate(serializer(o))&&r.setMetaProperty("http-status-code",o)}),s}},DefaultVisitor$1=class extends Mixin(AlternatingVisitor$1,FallbackVisitor$3){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$2,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Response"]}]}ObjectElement(e){const s=AlternatingVisitor$1.prototype.enter.call(this,e);return isReferenceElement$3(this.element)?this.element.setMetaProperty("referenced-element","response"):isResponseElement$1(this.element)&&this.element.setMetaProperty("http-status-code","default"),s}},OperationVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Operation$2,this.specPath=always(["document","objects","Operation"])}},TagsVisitor$2=class extends FallbackVisitor$3{constructor(e){super(e),this.element=new OperationTags}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}},ParametersVisitor$6=class extends Mixin(SpecificationVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach(s=>{const r=isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Parameter"],n=this.toRefractedElement(r,s);isReferenceElement$3(n)&&n.setMetaProperty("referenced-element","parameter"),this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},ParametersVisitor$5=class extends ParametersVisitor$6{constructor(e){super(e),this.element=new OperationParameters}},RequestBodyVisitor$1=class extends AlternatingVisitor$1{constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$2,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const s=AlternatingVisitor$1.prototype.enter.call(this,e);return isReferenceElement$3(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),s}};class CallbacksVisitor extends Mixin(MapVisitor$2,FallbackVisitor$3){specPath;constructor(e){super(e),this.element=new OperationCallbacks,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$3).forEach(r=>{r.setMetaProperty("referenced-element","callback")}),s}}let SecurityVisitor$3=class extends Mixin(SpecificationVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new OperationSecurity$1}ArrayElement(e){return e.forEach(s=>{const r=isObjectElement(s)?["document","objects","SecurityRequirement"]:["value"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}},ServersVisitor$4=class extends ServersVisitor$5{constructor(e){super(e),this.element=new OperationServers}},PathItemVisitor$1=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new PathItem$1,this.specPath=always(["document","objects","PathItem"])}ObjectElement(e){const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return this.element.filter(isOperationElement$2).forEach((r,n)=>{const o=cloneDeep(n);o.content=serializer(o).toUpperCase(),r.setMetaProperty("http-method",o)}),isStringElement(this.element.$ref)&&this.element.classes.push("reference-element"),s}},$RefVisitor$3=class extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}},ServersVisitor$3=class extends ServersVisitor$5{constructor(e){super(e),this.element=new PathItemServers}},ParametersVisitor$4=class extends ParametersVisitor$6{constructor(e){super(e),this.element=new PathItemParameters}},SecuritySchemeVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new SecurityScheme$2,this.specPath=always(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},OAuthFlowsVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new OAuthFlows$2,this.specPath=always(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}},OAuthFlowVisitor$2=class extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new OAuthFlow$2,this.specPath=always(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}},ScopesVisitor$1=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new OAuthFlowScopes$1,this.specPath=always(["value"])}},TagsVisitor$1=class extends Mixin(SpecificationVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new Tags$1}ArrayElement(e){return e.forEach(s=>{const r=isTagLikeElement(s)?["document","objects","Tag"]:["value"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}};const{fixedFields:jsonSchemaFixedFields$1}=specification$8.visitors.document.objects.JSONSchema,specification$6={visitors:{value:FallbackVisitor$3,document:{objects:{OpenApi:{$visitor:OpenApi3_0Visitor,fixedFields:{openapi:OpenapiVisitor,info:{$ref:"#/visitors/document/objects/Info"},servers:ServersVisitor$5,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:SecurityVisitor$4,tags:TagsVisitor$1,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:InfoVisitor$4,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:VersionVisitor$2}},Contact:{$visitor:ContactVisitor$2,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:LicenseVisitor$2,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:ServerVisitor$2,fixedFields:{url:UrlVisitor$2,description:{$ref:"#/visitors/value"},variables:VariablesVisitor$1}},ServerVariable:{$visitor:ServerVariableVisitor$2,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:ComponentsVisitor$3,fixedFields:{schemas:SchemasVisitor$2,responses:ResponsesVisitor$2,parameters:ParametersVisitor$7,examples:ExamplesVisitor$4,requestBodies:RequestBodiesVisitor,headers:HeadersVisitor$3,securitySchemes:SecuritySchemesVisitor$1,links:LinksVisitor$1,callbacks:CallbacksVisitor$1}},Paths:{$visitor:PathsVisitor$1},PathItem:{$visitor:PathItemVisitor$1,fixedFields:{$ref:$RefVisitor$3,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:ServersVisitor$3,parameters:ParametersVisitor$4}},Operation:{$visitor:OperationVisitor$2,fixedFields:{tags:TagsVisitor$2,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:ParametersVisitor$5,requestBody:RequestBodyVisitor$1,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:CallbacksVisitor,deprecated:{$ref:"#/visitors/value"},security:SecurityVisitor$3,servers:ServersVisitor$4}},ExternalDocumentation:{$visitor:ExternalDocumentationVisitor$2,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:ParameterVisitor$3,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:SchemaVisitor$6,example:{$ref:"#/visitors/value"},examples:ExamplesVisitor$5,content:ContentVisitor$2}},RequestBody:{$visitor:RequestBodyVisitor$2,fixedFields:{description:{$ref:"#/visitors/value"},content:ContentVisitor$1,required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:MediaTypeVisitor$1,fixedFields:{schema:SchemaVisitor$7,example:{$ref:"#/visitors/value"},examples:ExamplesVisitor$7,encoding:EncodingVisitor$2}},Encoding:{$visitor:EncodingVisitor$1,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:HeadersVisitor$2,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:ResponsesVisitor$1,fixedFields:{default:DefaultVisitor$1}},Response:{$visitor:ResponseVisitor$1,fixedFields:{description:{$ref:"#/visitors/value"},headers:HeadersVisitor$1,content:ContentVisitor,links:LinksVisitor}},Callback:{$visitor:CallbackVisitor$1},Example:{$visitor:ExampleVisitor$1,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:ExternalValueVisitor}},Link:{$visitor:LinkVisitor$1,fixedFields:{operationRef:OperationRefVisitor,operationId:OperationIdVisitor,parameters:ParametersVisitor$8,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:HeaderVisitor$1,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:SchemaVisitor$5,example:{$ref:"#/visitors/value"},examples:ExamplesVisitor$6,content:ContentVisitor$3}},Tag:{$visitor:TagVisitor$2,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:ReferenceVisitor$3,fixedFields:{$ref:$RefVisitor$4}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:SchemaVisitor$4,fixedFields:{title:jsonSchemaFixedFields$1.title,multipleOf:jsonSchemaFixedFields$1.multipleOf,maximum:jsonSchemaFixedFields$1.maximum,exclusiveMaximum:jsonSchemaFixedFields$1.exclusiveMaximum,minimum:jsonSchemaFixedFields$1.minimum,exclusiveMinimum:jsonSchemaFixedFields$1.exclusiveMinimum,maxLength:jsonSchemaFixedFields$1.maxLength,minLength:jsonSchemaFixedFields$1.minLength,pattern:jsonSchemaFixedFields$1.pattern,maxItems:jsonSchemaFixedFields$1.maxItems,minItems:jsonSchemaFixedFields$1.minItems,uniqueItems:jsonSchemaFixedFields$1.uniqueItems,maxProperties:jsonSchemaFixedFields$1.maxProperties,minProperties:jsonSchemaFixedFields$1.minProperties,required:jsonSchemaFixedFields$1.required,enum:jsonSchemaFixedFields$1.enum,type:TypeVisitor$1,allOf:AllOfVisitor$2,anyOf:AnyOfVisitor$2,oneOf:OneOfVisitor$2,not:SchemaOrReferenceVisitor$1,items:ItemsVisitor$2,properties:PropertiesVisitor$2,additionalProperties:SchemaOrReferenceVisitor$1,description:jsonSchemaFixedFields$1.description,format:jsonSchemaFixedFields$1.format,default:jsonSchemaFixedFields$1.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:DiscriminatorVisitor$1,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:MappingVisitor}},XML:{$visitor:XmlVisitor$1,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:SecuritySchemeVisitor$2,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:OAuthFlowsVisitor$2,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:OAuthFlowVisitor$2,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:ScopesVisitor$1}},SecurityRequirement:{$visitor:SecurityRequirementVisitor$2}},extension:{$visitor:SpecificationExtensionVisitor$2}}}},createToolbox$6=()=>{const t=createNamespace(openApi3_0);return{predicates:{...openApi3_0Predicates,isElement,isStringElement,isArrayElement,isObjectElement,isMemberElement,includesClasses,hasElementSourceMap},namespace:t}},refract$6=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:s=[]}={})=>{const r=refract$9(t),n=dereference(specification$6),o=path$4(e,n),a=new o({specObj:n});return visit$1(r,a),dispatchPluginsSync(a.element,s,{toolboxCreator:createToolbox$6,visitorOptions:{keyMap:keyMap$6,nodeTypeGetter:getNodeType$6}})},createRefractor$6=t=>(e,s={})=>refract$6(e,{specPath:t,...s});Callback$1.refract=createRefractor$6(["visitors","document","objects","Callback","$visitor"]),Components$3.refract=createRefractor$6(["visitors","document","objects","Components","$visitor"]),Contact$2.refract=createRefractor$6(["visitors","document","objects","Contact","$visitor"]),Example$1.refract=createRefractor$6(["visitors","document","objects","Example","$visitor"]),Discriminator$1.refract=createRefractor$6(["visitors","document","objects","Discriminator","$visitor"]),Encoding$1.refract=createRefractor$6(["visitors","document","objects","Encoding","$visitor"]),ExternalDocumentation$2.refract=createRefractor$6(["visitors","document","objects","ExternalDocumentation","$visitor"]),Header$1.refract=createRefractor$6(["visitors","document","objects","Header","$visitor"]),Info$4.refract=createRefractor$6(["visitors","document","objects","Info","$visitor"]),License$2.refract=createRefractor$6(["visitors","document","objects","License","$visitor"]),Link$1.refract=createRefractor$6(["visitors","document","objects","Link","$visitor"]),MediaType$1.refract=createRefractor$6(["visitors","document","objects","MediaType","$visitor"]),OAuthFlow$2.refract=createRefractor$6(["visitors","document","objects","OAuthFlow","$visitor"]),OAuthFlows$2.refract=createRefractor$6(["visitors","document","objects","OAuthFlows","$visitor"]),Openapi$1.refract=createRefractor$6(["visitors","document","objects","OpenApi","fixedFields","openapi"]),OpenApi3_0.refract=createRefractor$6(["visitors","document","objects","OpenApi","$visitor"]),Operation$2.refract=createRefractor$6(["visitors","document","objects","Operation","$visitor"]),Parameter$3.refract=createRefractor$6(["visitors","document","objects","Parameter","$visitor"]),PathItem$1.refract=createRefractor$6(["visitors","document","objects","PathItem","$visitor"]),Paths$1.refract=createRefractor$6(["visitors","document","objects","Paths","$visitor"]),Reference$4.refract=createRefractor$6(["visitors","document","objects","Reference","$visitor"]),RequestBody$1.refract=createRefractor$6(["visitors","document","objects","RequestBody","$visitor"]),Response$2.refract=createRefractor$6(["visitors","document","objects","Response","$visitor"]),Responses$1.refract=createRefractor$6(["visitors","document","objects","Responses","$visitor"]),Schema$2.refract=createRefractor$6(["visitors","document","objects","Schema","$visitor"]),SecurityRequirement$2.refract=createRefractor$6(["visitors","document","objects","SecurityRequirement","$visitor"]),SecurityScheme$2.refract=createRefractor$6(["visitors","document","objects","SecurityScheme","$visitor"]),Server$2.refract=createRefractor$6(["visitors","document","objects","Server","$visitor"]),ServerVariable$2.refract=createRefractor$6(["visitors","document","objects","ServerVariable","$visitor"]),Tag$2.refract=createRefractor$6(["visitors","document","objects","Tag","$visitor"]),Xml$1.refract=createRefractor$6(["visitors","document","objects","XML","$visitor"]);const jsonMediaTypes$4=new OpenAPIMediaTypes$1(...mediaTypes$4.filterByFormat("generic"),...mediaTypes$4.filterByFormat("json")),detectionRegExp$9=/"openapi"\s*:\s*"(?<version_json>3\.0\.([0123]))"/,detect$9=async t=>detectionRegExp$9.test(t)&&await detect$d(t),parse$c=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$g(t,r),{result:o}=n;if(isNotUndefined(o)){const a=OpenApi3_0.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$7=createNamespace(openApi3_0);var openapi3_0AdapterJson=Object.freeze({__proto__:null,detect:detect$9,detectionRegExp:detectionRegExp$9,mediaTypes:jsonMediaTypes$4,namespace:namespace$7,parse:parse$c});const yamlMediaTypes$4=new OpenAPIMediaTypes$1(...mediaTypes$4.filterByFormat("generic"),...mediaTypes$4.filterByFormat("yaml")),detectionRegExp$8=/(?<YAML>^(["']?)openapi\2\s*:\s*(["']?)(?<version_yaml>3\.0\.[0123](?:-rc[012])?)\3(?:\s+|$))|(?<JSON>"openapi"\s*:\s*"(?<version_json>3\.0\.[0123](?:-rc[012])?)")/m,detect$8=async t=>detectionRegExp$8.test(t)&&await detect$c(t),parse$b=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$f(t,r),{result:o}=n;if(isNotUndefined(o)){const a=OpenApi3_0.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$6=createNamespace(openApi3_0);var openapi3_0AdapterYaml=Object.freeze({__proto__:null,detect:detect$8,detectionRegExp:detectionRegExp$8,mediaTypes:yamlMediaTypes$4,namespace:namespace$6,parse:parse$b});class OpenAPIMediaTypes extends MediaTypes{filterByFormat(e="generic"){const s=e==="generic"?"openapi;version":e;return this.filter(r=>r.includes(s))}findBy(e="3.1.0",s="generic"){const r=s==="generic"?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${s};version=${e}`;return this.find(o=>o.includes(r))||this.unknownMediaType}latest(e="generic"){return last(this.filterByFormat(e))}}const mediaTypes$3=new OpenAPIMediaTypes("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0");class Callback extends Callback$1{}let Components$2=class extends Components$3{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}},Contact$1=class extends Contact$2{};class Discriminator extends Discriminator$1{}class Encoding extends Encoding$1{}class Example extends Example$1{}let ExternalDocumentation$1=class extends ExternalDocumentation$2{};class Header extends Header$1{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}let Info$3=class extends Info$4{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}};class JsonSchemaDialect extends StringElement{static default=new JsonSchemaDialect("https://spec.openapis.org/oas/3.1/dialect/base");constructor(e,s,r){super(e,s,r),this.element="jsonSchemaDialect"}}let License$1=class extends License$2{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}};class Link extends Link$1{}class MediaType extends MediaType$1{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}let OAuthFlow$1=class extends OAuthFlow$2{},OAuthFlows$1=class extends OAuthFlows$2{};class Openapi extends Openapi$1{}class OpenApi3_1 extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}let Operation$1=class extends Operation$2{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}},Parameter$2=class extends Parameter$3{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}};class PathItem extends PathItem$1{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}class Paths extends Paths$1{}let Reference$3=class extends Reference$4{};Object.defineProperty(Reference$3.prototype,"description",{get(){return this.get("description")},set(t){this.set("description",t)},enumerable:!0}),Object.defineProperty(Reference$3.prototype,"summary",{get(){return this.get("summary")},set(t){this.set("summary",t)},enumerable:!0});class RequestBody extends RequestBody$1{}let Response$1=class extends Response$2{};class Responses extends Responses$1{}let Schema$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="schema"}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}},SecurityRequirement$1=class extends SecurityRequirement$2{},SecurityScheme$1=class extends SecurityScheme$2{},Server$1=class extends Server$2{},ServerVariable$1=class extends ServerVariable$2{},Tag$1=class extends Tag$2{};class Xml extends Xml$1{}const openApi3_1={namespace:t=>{const{base:e}=t;return e.register("callback",Callback),e.register("components",Components$2),e.register("contact",Contact$1),e.register("discriminator",Discriminator),e.register("encoding",Encoding),e.register("example",Example),e.register("externalDocumentation",ExternalDocumentation$1),e.register("header",Header),e.register("info",Info$3),e.register("jsonSchemaDialect",JsonSchemaDialect),e.register("license",License$1),e.register("link",Link),e.register("mediaType",MediaType),e.register("oAuthFlow",OAuthFlow$1),e.register("oAuthFlows",OAuthFlows$1),e.register("openapi",Openapi),e.register("openApi3_1",OpenApi3_1),e.register("operation",Operation$1),e.register("parameter",Parameter$2),e.register("pathItem",PathItem),e.register("paths",Paths),e.register("reference",Reference$3),e.register("requestBody",RequestBody),e.register("response",Response$1),e.register("responses",Responses),e.register("schema",Schema$1),e.register("securityRequirement",SecurityRequirement$1),e.register("securityScheme",SecurityScheme$1),e.register("server",Server$1),e.register("serverVariable",ServerVariable$1),e.register("tag",Tag$1),e.register("xml",Xml),e}};class ComponentsPathItems extends ObjectElement{static primaryClass="components-path-items";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsPathItems.primaryClass)}}class Webhooks extends ObjectElement{static primaryClass="webhooks";constructor(e,s,r){super(e,s,r),this.classes.push(Webhooks.primaryClass)}}const getNodeType$5=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap$5={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...keyMapDefault$1};class JsonPointerError extends ApiDOMStructuredError{}class InvalidJsonPointerError extends JsonPointerError{pointer;constructor(e,s){super(e,s),typeof s<"u"&&(this.pointer=s.pointer)}}class CompilationJsonPointerError extends JsonPointerError{tokens;constructor(e,s){super(e,s),typeof s<"u"&&(this.tokens=[...s.tokens])}}class EvaluationJsonPointerError extends JsonPointerError{pointer;tokens;failedToken;failedTokenPosition;element;constructor(e,s){super(e,s),typeof s<"u"&&(this.pointer=s.pointer,Array.isArray(s.tokens)&&(this.tokens=[...s.tokens]),this.failedToken=s.failedToken,this.failedTokenPosition=s.failedTokenPosition,this.element=s.element)}}const escape=pipe(replace$1(/~/g,"~0"),replace$1(/\//g,"~1"),encodeURIComponent),safeDecodeURIComponent=t=>{try{return decodeURIComponent(t)}catch{return t}},unescape$1=pipe(replace$1(/~1/g,"/"),replace$1(/~0/g,"~"),safeDecodeURIComponent),parse$a=t=>{if(isEmptyString(t))return[];if(!startsWith("/",t))throw new InvalidJsonPointerError(`Invalid JSON Pointer "${t}". JSON Pointers must begin with "/"`,{pointer:t});try{const e=pipe(split$1("/"),map(unescape$1))(t);return tail(e)}catch(e){throw new InvalidJsonPointerError(`JSON Pointer parsing of "${t}" encountered an error.`,{pointer:t,cause:e})}},getHash$1=t=>{const e=t.indexOf("#");return e!==-1?t.substring(e):"#"},uriToPointer=t=>{const e=getHash$1(t);return trimCharsStart("#",e)},compile=t=>{try{return t.length===0?"":`/${t.map(escape).join("/")}`}catch(e){throw new CompilationJsonPointerError("JSON Pointer compilation of tokens encountered an error.",{tokens:t,cause:e})}},evaluate$3=(t,e)=>{let s;try{s=parse$a(t)}catch(r){throw new EvaluationJsonPointerError(`JSON Pointer evaluation failed while parsing the pointer "${t}".`,{pointer:t,element:cloneDeep(e),cause:r})}return s.reduce((r,n,o)=>{if(isObjectElement(r)){if(!r.hasKey(n))throw new EvaluationJsonPointerError(`JSON Pointer evaluation failed while evaluating token "${n}" against an ObjectElement`,{pointer:t,tokens:s,failedToken:n,failedTokenPosition:o,element:cloneDeep(r)});return r.get(n)}if(isArrayElement(r)){if(!(n in r.content)||!isInteger(Number(n)))throw new EvaluationJsonPointerError(`JSON Pointer evaluation failed while evaluating token "${n}" against an ArrayElement`,{pointer:t,tokens:s,failedToken:n,failedTokenPosition:o,element:cloneDeep(r)});return r.get(Number(n))}throw new EvaluationJsonPointerError(`JSON Pointer evaluation failed while evaluating token "${n}" against an unexpected Element`,{pointer:t,tokens:s,failedToken:n,failedTokenPosition:o,element:cloneDeep(r)})},e)},isCallbackElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Callback||t(r)&&e("callback",r)&&s("object",r)),isComponentsElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Components$2||t(r)&&e("components",r)&&s("object",r)),isContactElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Contact$1||t(r)&&e("contact",r)&&s("object",r)),isExampleElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Example||t(r)&&e("example",r)&&s("object",r)),isExternalDocumentationElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ExternalDocumentation$1||t(r)&&e("externalDocumentation",r)&&s("object",r)),isHeaderElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Header||t(r)&&e("header",r)&&s("object",r)),isInfoElement$3=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Info$3||t(r)&&e("info",r)&&s("object",r)),isJsonSchemaDialectElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof JsonSchemaDialect||t(r)&&e("jsonSchemaDialect",r)&&s("string",r)),isLicenseElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof License$1||t(r)&&e("license",r)&&s("object",r)),isLinkElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Link||t(r)&&e("link",r)&&s("object",r)),isOpenapiElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Openapi||t(r)&&e("openapi",r)&&s("string",r)),isOpenApi3_1Element=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof OpenApi3_1||t(n)&&e("openApi3_1",n)&&s("object",n)&&r("api",n)),isOperationElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Operation$1||t(r)&&e("operation",r)&&s("object",r)),isParameterElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Parameter$2||t(r)&&e("parameter",r)&&s("object",r)),isPathItemElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof PathItem||t(r)&&e("pathItem",r)&&s("object",r)),isPathItemElementExternal=t=>{if(!isPathItemElement(t)||!isStringElement(t.$ref))return!1;const e=serializer(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},isPathsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Paths||t(r)&&e("paths",r)&&s("object",r)),isReferenceElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Reference$3||t(r)&&e("reference",r)&&s("object",r)),isReferenceElementExternal=t=>{if(!isReferenceElement$2(t)||!isStringElement(t.$ref))return!1;const e=serializer(t.$ref);return typeof e=="string"&&e.length>0&&!e.startsWith("#")},isRequestBodyElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof RequestBody||t(r)&&e("requestBody",r)&&s("object",r)),isResponseElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Response$1||t(r)&&e("response",r)&&s("object",r)),isResponsesElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Responses||t(r)&&e("responses",r)&&s("object",r)),isSchemaElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Schema$1||t(r)&&e("schema",r)&&s("object",r)),isBooleanJsonSchemaElement$1=t=>isBooleanElement(t)&&t.classes.includes("boolean-json-schema"),isSecurityRequirementElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityRequirement$1||t(r)&&e("securityRequirement",r)&&s("object",r)),isSecuritySchemeElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityScheme$1||t(r)&&e("securityScheme",r)&&s("object",r)),isServerElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Server$1||t(r)&&e("server",r)&&s("object",r)),isServerVariableElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ServerVariable$1||t(r)&&e("serverVariable",r)&&s("object",r)),isMediaTypeElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof MediaType||t(r)&&e("mediaType",r)&&s("object",r));var openApi3_1Predicates=Object.freeze({__proto__:null,isBooleanJsonSchemaElement:isBooleanJsonSchemaElement$1,isCallbackElement,isComponentsElement:isComponentsElement$2,isContactElement:isContactElement$1,isExampleElement,isExternalDocumentationElement,isHeaderElement,isInfoElement:isInfoElement$3,isJsonSchemaDialectElement,isLicenseElement:isLicenseElement$1,isLinkElement,isMediaTypeElement,isOpenApi3_1Element,isOpenapiElement,isOperationElement:isOperationElement$1,isParameterElement:isParameterElement$2,isPathItemElement,isPathItemElementExternal,isPathsElement,isReferenceElement:isReferenceElement$2,isReferenceElementExternal,isRequestBodyElement,isResponseElement,isResponsesElement,isSchemaElement:isSchemaElement$1,isSecurityRequirementElement:isSecurityRequirementElement$1,isSecuritySchemeElement,isServerElement:isServerElement$1,isServerVariableElement:isServerVariableElement$1});const ancestorLineageToJSONPointer=t=>{const e=t.reduce((s,r,n)=>{if(isMemberElement(r)){const o=String(serializer(r.key));s.push(o)}else if(isArrayElement(t[n-2])){const o=String(t[n-2].content.indexOf(r));s.push(o)}return s},[]);return compile(e)},createToolbox$5=()=>{const t=createNamespace(openApi3_1);return{predicates:{...openApi3_1Predicates,isElement,isStringElement,isArrayElement,isObjectElement,isMemberElement,isServersElement:isServersElement$1,includesClasses,hasElementSourceMap},ancestorLineageToJSONPointer,namespace:t}};class OpenApi3_1Visitor extends Mixin(FixedFieldsVisitor$3,FallbackVisitor$3){constructor(e){super(e),this.element=new OpenApi3_1,this.specPath=always(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e)}}const BaseInfoVisitor=specification$6.visitors.document.objects.Info.$visitor;let InfoVisitor$3=class extends BaseInfoVisitor{constructor(e){super(e),this.element=new Info$3}};const BaseContactVisitor=specification$6.visitors.document.objects.Contact.$visitor;let ContactVisitor$1=class extends BaseContactVisitor{constructor(e){super(e),this.element=new Contact$1}};const BaseLicenseVisitor=specification$6.visitors.document.objects.License.$visitor;let LicenseVisitor$1=class extends BaseLicenseVisitor{constructor(e){super(e),this.element=new License$1}};const BaseLinkVisitor=specification$6.visitors.document.objects.Link.$visitor;class LinkVisitor extends BaseLinkVisitor{constructor(e){super(e),this.element=new Link}}class JsonSchemaDialectVisitor extends Mixin(SpecificationVisitor$3,FallbackVisitor$3){StringElement(e){const s=new JsonSchemaDialect(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}const BaseServerVisitor=specification$6.visitors.document.objects.Server.$visitor;let ServerVisitor$1=class extends BaseServerVisitor{constructor(e){super(e),this.element=new Server$1}};const BaseServerVariableVisitor=specification$6.visitors.document.objects.ServerVariable.$visitor;let ServerVariableVisitor$1=class extends BaseServerVariableVisitor{constructor(e){super(e),this.element=new ServerVariable$1}};const BaseMediaTypeVisitor=specification$6.visitors.document.objects.MediaType.$visitor;class MediaTypeVisitor extends BaseMediaTypeVisitor{constructor(e){super(e),this.element=new MediaType}}const BaseSecurityRequirementVisitor=specification$6.visitors.document.objects.SecurityRequirement.$visitor;let SecurityRequirementVisitor$1=class extends BaseSecurityRequirementVisitor{constructor(e){super(e),this.element=new SecurityRequirement$1}};const BaseComponentsVisitor=specification$6.visitors.document.objects.Components.$visitor;let ComponentsVisitor$2=class extends BaseComponentsVisitor{constructor(e){super(e),this.element=new Components$2}};const BaseTagVisitor=specification$6.visitors.document.objects.Tag.$visitor;let TagVisitor$1=class extends BaseTagVisitor{constructor(e){super(e),this.element=new Tag$1}};const BaseReferenceVisitor=specification$6.visitors.document.objects.Reference.$visitor;let ReferenceVisitor$2=class extends BaseReferenceVisitor{constructor(e){super(e),this.element=new Reference$3}};const BaseParameterVisitor=specification$6.visitors.document.objects.Parameter.$visitor;let ParameterVisitor$2=class extends BaseParameterVisitor{constructor(e){super(e),this.element=new Parameter$2}};const BaseHeaderVisitor=specification$6.visitors.document.objects.Header.$visitor;class HeaderVisitor extends BaseHeaderVisitor{constructor(e){super(e),this.element=new Header}}class ParentSchemaAwareVisitor{parent;constructor({parent:e}){this.parent=e}}let SchemaVisitor$3=class extends Mixin(FixedFieldsVisitor$3,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new Schema$1,this.specPath=always(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=JsonSchemaDialect.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handle$schema(e),this.handle$id(e),this.parent=this.element;const s=FixedFieldsVisitor$3.prototype.ObjectElement.call(this,e);return isStringElement(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),s}BooleanElement(e){const s=super.enter(e);return this.element.classes.push("boolean-json-schema"),s}getJsonSchemaDialect(){let e;return this.openApiSemanticElement!==void 0&&isJsonSchemaDialectElement(this.openApiSemanticElement.jsonSchemaDialect)?e=serializer(this.openApiSemanticElement.jsonSchemaDialect):this.openApiGenericElement!==void 0&&isStringElement(this.openApiGenericElement.get("jsonSchemaDialect"))?e=serializer(this.openApiGenericElement.get("jsonSchemaDialect")):e=serializer(this.jsonSchemaDefaultDialect),e}handle$schema(e){if(isUndefined$1(this.parent)&&!isStringElement(e.get("$schema")))this.element.setMetaProperty("inherited$schema",this.getJsonSchemaDialect());else if(isSchemaElement$1(this.parent)&&!isStringElement(e.get("$schema"))){const s=defaultTo(serializer(this.parent.meta.get("inherited$schema")),serializer(this.parent.$schema));this.element.setMetaProperty("inherited$schema",s)}}handle$id(e){const s=this.parent!==void 0?cloneDeep(this.parent.getMetaProperty("inherited$id",[])):new ArrayElement,r=serializer(e.get("$id"));isNonEmptyString(r)&&s.push(r),this.element.setMetaProperty("inherited$id",s)}};class $vocabularyVisitor extends FallbackVisitor$3{ObjectElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),s}}class $refVisitor extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}class $defsVisitor extends Mixin(MapVisitor$2,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-$defs"),this.specPath=always(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}let AllOfVisitor$1=class extends Mixin(SpecificationVisitor$3,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-allOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(s=>{if(isObjectElement(s)){const r=this.toRefractedElement(["document","objects","Schema"],s);this.element.push(r)}else{const r=cloneDeep(s);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),BREAK}},AnyOfVisitor$1=class extends Mixin(SpecificationVisitor$3,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-anyOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(s=>{if(isObjectElement(s)){const r=this.toRefractedElement(["document","objects","Schema"],s);this.element.push(r)}else{const r=cloneDeep(s);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),BREAK}},OneOfVisitor$1=class extends Mixin(SpecificationVisitor$3,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-oneOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(s=>{if(isObjectElement(s)){const r=this.toRefractedElement(["document","objects","Schema"],s);this.element.push(r)}else{const r=cloneDeep(s);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),BREAK}};class DependentSchemasVisitor extends Mixin(MapVisitor$2,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=always(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class PrefixItemsVisitor extends Mixin(SpecificationVisitor$3,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("json-schema-prefixItems"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach(s=>{if(isObjectElement(s)){const r=this.toRefractedElement(["document","objects","Schema"],s);this.element.push(r)}else{const r=cloneDeep(s);this.element.push(r)}}),this.copyMetaAndAttributes(e,this.element),BREAK}}let PropertiesVisitor$1=class extends Mixin(MapVisitor$2,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-properties"),this.specPath=always(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}},PatternPropertiesVisitor$1=class extends Mixin(MapVisitor$2,ParentSchemaAwareVisitor,FallbackVisitor$3){constructor(e){super(e),this.element=new ObjectElement,this.element.classes.push("json-schema-patternProperties"),this.specPath=always(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}};class TypeVisitor extends FallbackVisitor$3{StringElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-type"),s}ArrayElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-type"),s}}class EnumVisitor extends FallbackVisitor$3{ArrayElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-enum"),s}}class DependentRequiredVisitor extends FallbackVisitor$3{ObjectElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),s}}let ExamplesVisitor$3=class extends FallbackVisitor$3{ArrayElement(e){const s=super.enter(e);return this.element.classes.push("json-schema-examples"),s}};const BaseDiscriminatorVisitor=specification$6.visitors.document.objects.Discriminator.$visitor;class DiscriminatorVisitor extends BaseDiscriminatorVisitor{constructor(e){super(e),this.element=new Discriminator,this.canSupportSpecificationExtensions=!0}}const BaseXMLVisitor=specification$6.visitors.document.objects.XML.$visitor;class XmlVisitor extends BaseXMLVisitor{constructor(e){super(e),this.element=new Xml}}let SchemasVisitor$1=class extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsSchemas$1,this.specPath=always(["document","objects","Schema"])}};class PathItemsVisitor extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new ComponentsPathItems,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$2).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),s}}const BaseExampleVisitor=specification$6.visitors.document.objects.Example.$visitor;class ExampleVisitor extends BaseExampleVisitor{constructor(e){super(e),this.element=new Example}}const BaseExternalDocumentationVisitor=specification$6.visitors.document.objects.ExternalDocumentation.$visitor;let ExternalDocumentationVisitor$1=class extends BaseExternalDocumentationVisitor{constructor(e){super(e),this.element=new ExternalDocumentation$1}};const BaseEncodingVisitor=specification$6.visitors.document.objects.Encoding.$visitor;class EncodingVisitor extends BaseEncodingVisitor{constructor(e){super(e),this.element=new Encoding}}const BasePathsVisitor=specification$6.visitors.document.objects.Paths.$visitor;class PathsVisitor extends BasePathsVisitor{constructor(e){super(e),this.element=new Paths}}const BaseRequestBodyVisitor=specification$6.visitors.document.objects.RequestBody.$visitor;class RequestBodyVisitor extends BaseRequestBodyVisitor{constructor(e){super(e),this.element=new RequestBody}}const BaseCallbackVisitor=specification$6.visitors.document.objects.Callback.$visitor;class CallbackVisitor extends BaseCallbackVisitor{constructor(e){super(e),this.element=new Callback,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const s=BaseCallbackVisitor.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$2).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),s}}const BaseResponseVisitor=specification$6.visitors.document.objects.Response.$visitor;class ResponseVisitor extends BaseResponseVisitor{constructor(e){super(e),this.element=new Response$1}}const BaseResponsesVisitor=specification$6.visitors.document.objects.Responses.$visitor;class ResponsesVisitor extends BaseResponsesVisitor{constructor(e){super(e),this.element=new Responses}}const BaseOperationVisitor=specification$6.visitors.document.objects.Operation.$visitor;let OperationVisitor$1=class extends BaseOperationVisitor{constructor(e){super(e),this.element=new Operation$1}};const BasePathItemVisitor=specification$6.visitors.document.objects.PathItem.$visitor;class PathItemVisitor extends BasePathItemVisitor{constructor(e){super(e),this.element=new PathItem}}const BaseSecuritySchemeVisitor=specification$6.visitors.document.objects.SecurityScheme.$visitor;let SecuritySchemeVisitor$1=class extends BaseSecuritySchemeVisitor{constructor(e){super(e),this.element=new SecurityScheme$1}};const BaseOAuthFlowsVisitor=specification$6.visitors.document.objects.OAuthFlows.$visitor;let OAuthFlowsVisitor$1=class extends BaseOAuthFlowsVisitor{constructor(e){super(e),this.element=new OAuthFlows$1}};const BaseOAuthFlowVisitor=specification$6.visitors.document.objects.OAuthFlow.$visitor;let OAuthFlowVisitor$1=class extends BaseOAuthFlowVisitor{constructor(e){super(e),this.element=new OAuthFlow$1}};class WebhooksVisitor extends Mixin(MapVisitor$2,FallbackVisitor$3){constructor(e){super(e),this.element=new Webhooks,this.specPath=s=>isReferenceLikeElement$2(s)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const s=MapVisitor$2.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$2).forEach(r=>{r.setMetaProperty("referenced-element","pathItem")}),this.element.filter(isPathItemElement).forEach((r,n)=>{r.setMetaProperty("webhook-name",serializer(n))}),s}}const specification$5={visitors:{value:specification$6.visitors.value,document:{objects:{OpenApi:{$visitor:OpenApi3_1Visitor,fixedFields:{openapi:specification$6.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:JsonSchemaDialectVisitor,servers:specification$6.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:WebhooksVisitor,components:{$ref:"#/visitors/document/objects/Components"},security:specification$6.visitors.document.objects.OpenApi.fixedFields.security,tags:specification$6.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:InfoVisitor$3,fixedFields:{title:specification$6.visitors.document.objects.Info.fixedFields.title,description:specification$6.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:specification$6.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:specification$6.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:ContactVisitor$1,fixedFields:{name:specification$6.visitors.document.objects.Contact.fixedFields.name,url:specification$6.visitors.document.objects.Contact.fixedFields.url,email:specification$6.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:LicenseVisitor$1,fixedFields:{name:specification$6.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:specification$6.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:ServerVisitor$1,fixedFields:{url:specification$6.visitors.document.objects.Server.fixedFields.url,description:specification$6.visitors.document.objects.Server.fixedFields.description,variables:specification$6.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:ServerVariableVisitor$1,fixedFields:{enum:specification$6.visitors.document.objects.ServerVariable.fixedFields.enum,default:specification$6.visitors.document.objects.ServerVariable.fixedFields.default,description:specification$6.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:ComponentsVisitor$2,fixedFields:{schemas:SchemasVisitor$1,responses:specification$6.visitors.document.objects.Components.fixedFields.responses,parameters:specification$6.visitors.document.objects.Components.fixedFields.parameters,examples:specification$6.visitors.document.objects.Components.fixedFields.examples,requestBodies:specification$6.visitors.document.objects.Components.fixedFields.requestBodies,headers:specification$6.visitors.document.objects.Components.fixedFields.headers,securitySchemes:specification$6.visitors.document.objects.Components.fixedFields.securitySchemes,links:specification$6.visitors.document.objects.Components.fixedFields.links,callbacks:specification$6.visitors.document.objects.Components.fixedFields.callbacks,pathItems:PathItemsVisitor}},Paths:{$visitor:PathsVisitor},PathItem:{$visitor:PathItemVisitor,fixedFields:{$ref:specification$6.visitors.document.objects.PathItem.fixedFields.$ref,summary:specification$6.visitors.document.objects.PathItem.fixedFields.summary,description:specification$6.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:specification$6.visitors.document.objects.PathItem.fixedFields.servers,parameters:specification$6.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:OperationVisitor$1,fixedFields:{tags:specification$6.visitors.document.objects.Operation.fixedFields.tags,summary:specification$6.visitors.document.objects.Operation.fixedFields.summary,description:specification$6.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:specification$6.visitors.document.objects.Operation.fixedFields.operationId,parameters:specification$6.visitors.document.objects.Operation.fixedFields.parameters,requestBody:specification$6.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:specification$6.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:specification$6.visitors.document.objects.Operation.fixedFields.deprecated,security:specification$6.visitors.document.objects.Operation.fixedFields.security,servers:specification$6.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:ExternalDocumentationVisitor$1,fixedFields:{description:specification$6.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:specification$6.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:ParameterVisitor$2,fixedFields:{name:specification$6.visitors.document.objects.Parameter.fixedFields.name,in:specification$6.visitors.document.objects.Parameter.fixedFields.in,description:specification$6.visitors.document.objects.Parameter.fixedFields.description,required:specification$6.visitors.document.objects.Parameter.fixedFields.required,deprecated:specification$6.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:specification$6.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:specification$6.visitors.document.objects.Parameter.fixedFields.style,explode:specification$6.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:specification$6.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:specification$6.visitors.document.objects.Parameter.fixedFields.example,examples:specification$6.visitors.document.objects.Parameter.fixedFields.examples,content:specification$6.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:RequestBodyVisitor,fixedFields:{description:specification$6.visitors.document.objects.RequestBody.fixedFields.description,content:specification$6.visitors.document.objects.RequestBody.fixedFields.content,required:specification$6.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:MediaTypeVisitor,fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:specification$6.visitors.document.objects.MediaType.fixedFields.example,examples:specification$6.visitors.document.objects.MediaType.fixedFields.examples,encoding:specification$6.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:EncodingVisitor,fixedFields:{contentType:specification$6.visitors.document.objects.Encoding.fixedFields.contentType,headers:specification$6.visitors.document.objects.Encoding.fixedFields.headers,style:specification$6.visitors.document.objects.Encoding.fixedFields.style,explode:specification$6.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:specification$6.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:ResponsesVisitor,fixedFields:{default:specification$6.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:ResponseVisitor,fixedFields:{description:specification$6.visitors.document.objects.Response.fixedFields.description,headers:specification$6.visitors.document.objects.Response.fixedFields.headers,content:specification$6.visitors.document.objects.Response.fixedFields.content,links:specification$6.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:CallbackVisitor},Example:{$visitor:ExampleVisitor,fixedFields:{summary:specification$6.visitors.document.objects.Example.fixedFields.summary,description:specification$6.visitors.document.objects.Example.fixedFields.description,value:specification$6.visitors.document.objects.Example.fixedFields.value,externalValue:specification$6.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:LinkVisitor,fixedFields:{operationRef:specification$6.visitors.document.objects.Link.fixedFields.operationRef,operationId:specification$6.visitors.document.objects.Link.fixedFields.operationId,parameters:specification$6.visitors.document.objects.Link.fixedFields.parameters,requestBody:specification$6.visitors.document.objects.Link.fixedFields.requestBody,description:specification$6.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:HeaderVisitor,fixedFields:{description:specification$6.visitors.document.objects.Header.fixedFields.description,required:specification$6.visitors.document.objects.Header.fixedFields.required,deprecated:specification$6.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:specification$6.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:specification$6.visitors.document.objects.Header.fixedFields.style,explode:specification$6.visitors.document.objects.Header.fixedFields.explode,allowReserved:specification$6.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:specification$6.visitors.document.objects.Header.fixedFields.example,examples:specification$6.visitors.document.objects.Header.fixedFields.examples,content:specification$6.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:TagVisitor$1,fixedFields:{name:specification$6.visitors.document.objects.Tag.fixedFields.name,description:specification$6.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:ReferenceVisitor$2,fixedFields:{$ref:specification$6.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Schema:{$visitor:SchemaVisitor$3,fixedFields:{$schema:{$ref:"#/visitors/value"},$vocabulary:$vocabularyVisitor,$id:{$ref:"#/visitors/value"},$anchor:{$ref:"#/visitors/value"},$dynamicAnchor:{$ref:"#/visitors/value"},$dynamicRef:{$ref:"#/visitors/value"},$ref:$refVisitor,$defs:$defsVisitor,$comment:{$ref:"#/visitors/value"},allOf:AllOfVisitor$1,anyOf:AnyOfVisitor$1,oneOf:OneOfVisitor$1,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:DependentSchemasVisitor,prefixItems:PrefixItemsVisitor,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:PropertiesVisitor$1,patternProperties:PatternPropertiesVisitor$1,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},type:TypeVisitor,enum:EnumVisitor,const:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxContains:{$ref:"#/visitors/value"},minContains:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},dependentRequired:DependentRequiredVisitor,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},readOnly:{$ref:"#/visitors/value"},writeOnly:{$ref:"#/visitors/value"},examples:ExamplesVisitor$3,format:{$ref:"#/visitors/value"},contentEncoding:{$ref:"#/visitors/value"},contentMediaType:{$ref:"#/visitors/value"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:DiscriminatorVisitor,fixedFields:{propertyName:specification$6.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:specification$6.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:XmlVisitor,fixedFields:{name:specification$6.visitors.document.objects.XML.fixedFields.name,namespace:specification$6.visitors.document.objects.XML.fixedFields.namespace,prefix:specification$6.visitors.document.objects.XML.fixedFields.prefix,attribute:specification$6.visitors.document.objects.XML.fixedFields.attribute,wrapped:specification$6.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:SecuritySchemeVisitor$1,fixedFields:{type:specification$6.visitors.document.objects.SecurityScheme.fixedFields.type,description:specification$6.visitors.document.objects.SecurityScheme.fixedFields.description,name:specification$6.visitors.document.objects.SecurityScheme.fixedFields.name,in:specification$6.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:specification$6.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:specification$6.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:specification$6.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:OAuthFlowsVisitor$1,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:OAuthFlowVisitor$1,fixedFields:{authorizationUrl:specification$6.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:specification$6.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:specification$6.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:specification$6.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:SecurityRequirementVisitor$1}},extension:{$visitor:specification$6.visitors.document.extension.$visitor}}}},refract$5=(t,{specPath:e=["visitors","document","objects","OpenApi","$visitor"],plugins:s=[]}={})=>{const r=refract$9(t),n=dereference(specification$5),o=path$4(e,n),a=new o({specObj:n});return visit$1(r,a),dispatchPluginsSync(a.element,s,{toolboxCreator:createToolbox$5,visitorOptions:{keyMap:keyMap$5,nodeTypeGetter:getNodeType$5}})},createRefractor$5=t=>(e,s={})=>refract$5(e,{specPath:t,...s});Callback.refract=createRefractor$5(["visitors","document","objects","Callback","$visitor"]),Components$2.refract=createRefractor$5(["visitors","document","objects","Components","$visitor"]),Contact$1.refract=createRefractor$5(["visitors","document","objects","Contact","$visitor"]),Example.refract=createRefractor$5(["visitors","document","objects","Example","$visitor"]),Discriminator.refract=createRefractor$5(["visitors","document","objects","Discriminator","$visitor"]),Encoding.refract=createRefractor$5(["visitors","document","objects","Encoding","$visitor"]),ExternalDocumentation$1.refract=createRefractor$5(["visitors","document","objects","ExternalDocumentation","$visitor"]),Header.refract=createRefractor$5(["visitors","document","objects","Header","$visitor"]),Info$3.refract=createRefractor$5(["visitors","document","objects","Info","$visitor"]),JsonSchemaDialect.refract=createRefractor$5(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]),License$1.refract=createRefractor$5(["visitors","document","objects","License","$visitor"]),Link.refract=createRefractor$5(["visitors","document","objects","Link","$visitor"]),MediaType.refract=createRefractor$5(["visitors","document","objects","MediaType","$visitor"]),OAuthFlow$1.refract=createRefractor$5(["visitors","document","objects","OAuthFlow","$visitor"]),OAuthFlows$1.refract=createRefractor$5(["visitors","document","objects","OAuthFlows","$visitor"]),Openapi.refract=createRefractor$5(["visitors","document","objects","OpenApi","fixedFields","openapi"]),OpenApi3_1.refract=createRefractor$5(["visitors","document","objects","OpenApi","$visitor"]),Operation$1.refract=createRefractor$5(["visitors","document","objects","Operation","$visitor"]),Parameter$2.refract=createRefractor$5(["visitors","document","objects","Parameter","$visitor"]),PathItem.refract=createRefractor$5(["visitors","document","objects","PathItem","$visitor"]),Paths.refract=createRefractor$5(["visitors","document","objects","Paths","$visitor"]),Reference$3.refract=createRefractor$5(["visitors","document","objects","Reference","$visitor"]),RequestBody.refract=createRefractor$5(["visitors","document","objects","RequestBody","$visitor"]),Response$1.refract=createRefractor$5(["visitors","document","objects","Response","$visitor"]),Responses.refract=createRefractor$5(["visitors","document","objects","Responses","$visitor"]),Schema$1.refract=createRefractor$5(["visitors","document","objects","Schema","$visitor"]),SecurityRequirement$1.refract=createRefractor$5(["visitors","document","objects","SecurityRequirement","$visitor"]),SecurityScheme$1.refract=createRefractor$5(["visitors","document","objects","SecurityScheme","$visitor"]),Server$1.refract=createRefractor$5(["visitors","document","objects","Server","$visitor"]),ServerVariable$1.refract=createRefractor$5(["visitors","document","objects","ServerVariable","$visitor"]),Tag$1.refract=createRefractor$5(["visitors","document","objects","Tag","$visitor"]),Xml.refract=createRefractor$5(["visitors","document","objects","XML","$visitor"]);const jsonMediaTypes$3=new OpenAPIMediaTypes(...mediaTypes$3.filterByFormat("generic"),...mediaTypes$3.filterByFormat("json")),detectionRegExp$7=/"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))"/,detect$7=async t=>detectionRegExp$7.test(t)&&await detect$d(t),parse$9=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$g(t,r),{result:o}=n;if(isNotUndefined(o)){const a=OpenApi3_1.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$5=createNamespace(openApi3_1);var openapi3_1AdapterJson=Object.freeze({__proto__:null,detect:detect$7,detectionRegExp:detectionRegExp$7,mediaTypes:jsonMediaTypes$3,namespace:namespace$5,parse:parse$9});const yamlMediaTypes$3=new OpenAPIMediaTypes(...mediaTypes$3.filterByFormat("generic"),...mediaTypes$3.filterByFormat("yaml")),detectionRegExp$6=/(?<YAML>^(["']?)openapi\2\s*:\s*(["']?)(?<version_yaml>3\.1\.(?:[1-9]\d*|0))\3(?:\s+|$))|(?<JSON>"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))")/m,detect$6=async t=>detectionRegExp$6.test(t)&&await detect$c(t),parse$8=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$f(t,r),{result:o}=n;if(isNotUndefined(o)){const a=OpenApi3_1.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$4=createNamespace(openApi3_1);var openapi3_1AdapterYaml=Object.freeze({__proto__:null,detect:detect$6,detectionRegExp:detectionRegExp$6,mediaTypes:yamlMediaTypes$3,namespace:namespace$4,parse:parse$8});class AsyncAPIMediaTypes extends MediaTypes{filterByFormat(e="generic"){const s=e==="generic"?"asyncapi;version":e;return this.filter(r=>r.includes(s))}findBy(e="2.6.0",s="generic"){const r=s==="generic"?`vnd.aai.asyncapi;version=${e}`:`vnd.aai.asyncapi+${s};version=${e}`;return this.find(o=>o.includes(r))||this.unknownMediaType}latest(e="generic"){return last(this.filterByFormat(e))}}const mediaTypes$2=new AsyncAPIMediaTypes("application/vnd.aai.asyncapi;version=2.0.0","application/vnd.aai.asyncapi+json;version=2.0.0","application/vnd.aai.asyncapi+yaml;version=2.0.0","application/vnd.aai.asyncapi;version=2.1.0","application/vnd.aai.asyncapi+json;version=2.1.0","application/vnd.aai.asyncapi+yaml;version=2.1.0","application/vnd.aai.asyncapi;version=2.2.0","application/vnd.aai.asyncapi+json;version=2.2.0","application/vnd.aai.asyncapi+yaml;version=2.2.0","application/vnd.aai.asyncapi;version=2.3.0","application/vnd.aai.asyncapi+json;version=2.3.0","application/vnd.aai.asyncapi+yaml;version=2.3.0","application/vnd.aai.asyncapi;version=2.4.0","application/vnd.aai.asyncapi+json;version=2.4.0","application/vnd.aai.asyncapi+yaml;version=2.4.0","application/vnd.aai.asyncapi;version=2.5.0","application/vnd.aai.asyncapi+json;version=2.5.0","application/vnd.aai.asyncapi+yaml;version=2.5.0","application/vnd.aai.asyncapi;version=2.6.0","application/vnd.aai.asyncapi+json;version=2.6.0","application/vnd.aai.asyncapi+yaml;version=2.6.0");class AsyncApi2 extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="asyncApi2",this.classes.push("api")}get asyncapi(){return this.get("asyncapi")}set asyncapi(e){this.set("asyncapi",e)}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get defaultContentType(){return this.get("defaultContentType")}set defaultContentType(e){this.set("defaultContentType",e)}get channels(){return this.get("channels")}set channels(e){this.set("channels",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}class AsyncApiVersion extends StringElement{constructor(e,s,r){super(e,s,r),this.element="asyncApiVersion",this.classes.push("spec-version"),this.classes.push("version")}}class ChannelBindings extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="channelBindings"}get http(){return this.get("http")}set http(e){this.set("http",e)}get ws(){return this.get("ws")}set ws(e){this.set("ws",e)}get kafka(){return this.get("kafka")}set kafka(e){this.set("kafka",e)}get anypointmq(){return this.get("anypointmq")}set anypointmq(e){this.set("anypointmq",e)}get amqp(){return this.get("amqp")}set amqp(e){this.set("amqp",e)}get amqp1(){return this.get("amqp1")}set amqp1(e){this.set("amqp1",e)}get mqtt(){return this.get("mqtt")}set mqtt(e){this.set("mqtt",e)}get mqtt5(){return this.get("mqtt5")}set mqtt5(e){this.set("mqtt5",e)}get nats(){return this.get("nats")}set nats(e){this.set("nats",e)}get jms(){return this.get("jms")}set jms(e){this.set("jms",e)}get sns(){return this.get("sns")}set sns(e){this.set("sns",e)}get solace(){return this.get("solace")}set solace(e){this.set("solace",e)}get sqs(){return this.get("sqs")}set sqs(e){this.set("sqs",e)}get stomp(){return this.get("stomp")}set stomp(e){this.set("stomp",e)}get redis(){return this.get("redis")}set redis(e){this.set("redis",e)}get mercure(){return this.get("mercure")}set mercure(e){this.set("mercure",e)}get googlepubsub(){return this.get("googlepubsub")}set googlepubsub(e){this.set("googlepubsub",e)}get ibmmq(){return this.get("ibmmq")}set ibmmq(e){this.set("ibmmq",e)}}class ChannelItem extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="channelItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get subscribe(){return this.get("subscribe")}set subscribe(e){this.set("subscribe",e)}get publish(){return this.get("publish")}set publish(e){this.set("publish",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get bindings(){return this.get("bindings")}set bindings(e){this.set("bindings",e)}}class Channels extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="channels"}}let Components$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get serverVariables(){return this.get("serverVariables")}set serverVariables(e){this.set("serverVariables",e)}get messages(){return this.get("messages")}set messages(e){this.set("messages",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get correlationIds(){return this.get("correlationIds")}set correlationIds(e){this.set("correlationIds",e)}get operationTraits(){return this.get("operationTraits")}set operationTraits(e){this.set("operationTraits",e)}get messageTraits(){return this.get("messageTraits")}set messageTraits(e){this.set("messageTraits",e)}get serverBindings(){return this.get("serverBindings")}set serverBindings(e){this.set("serverBindings",e)}get channelBindings(){return this.get("channelBindings")}set channelBindings(e){this.set("channelBindings",e)}get operationBindings(){return this.get("operationBindings")}set operationBindings(e){this.set("operationBindings",e)}get messageBindings(){return this.get("messageBindings")}set messageBindings(e){this.set("messageBindings",e)}};class Contact extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}}class CorrelationID extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="correlationID"}get description(){return this.get("description")}set description(e){this.set("description",e)}get location(){return this.get("location")}set location(e){this.set("location",e)}}class DefaultContentType extends StringElement{constructor(e,s,r){super(e,s,r),this.element="defaultContentType"}}class ExternalDocumentation extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}}class Identifier extends StringElement{constructor(e,s,r){super(e,s,r),this.element="identifier"}}let Info$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}};class License extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}}class Message extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="message"}get messageId(){return this.get("messageId")}set messageId(e){this.set("messageId",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get payload(){return this.get("payload")}set payload(e){this.set("payload",e)}get correlationId(){return this.get("correlationId")}set correlationId(e){this.set("correlationId",e)}get schemaFormat(){return this.get("schemaFormat")}set schemaFormat(e){this.set("schemaFormat",e)}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get bindings(){return this.get("bindings")}set bindings(e){this.set("bindings",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get traits(){return this.get("traits")}set traits(e){this.set("traits",e)}}class MessageBindings extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="messageBindings"}get http(){return this.get("http")}set http(e){this.set("http",e)}get ws(){return this.get("ws")}set ws(e){this.set("ws",e)}get kafka(){return this.get("kafka")}set kafka(e){this.set("kafka",e)}get anypointmq(){return this.get("anypointmq")}set anypointmq(e){this.set("anypointmq",e)}get amqp(){return this.get("amqp")}set amqp(e){this.set("amqp",e)}get amqp1(){return this.get("amqp1")}set amqp1(e){this.set("amqp1",e)}get mqtt(){return this.get("mqtt")}set mqtt(e){this.set("mqtt",e)}get mqtt5(){return this.get("mqtt5")}set mqtt5(e){this.set("mqtt5",e)}get nats(){return this.get("nats")}set nats(e){this.set("nats",e)}get jms(){return this.get("jms")}set jms(e){this.set("jms",e)}get sns(){return this.get("sns")}set sns(e){this.set("sns",e)}get solace(){return this.get("solace")}set solace(e){this.set("solace",e)}get sqs(){return this.get("sqs")}set sqs(e){this.set("sqs",e)}get stomp(){return this.get("stomp")}set stomp(e){this.set("stomp",e)}get redis(){return this.get("redis")}set redis(e){this.set("redis",e)}get mercure(){return this.get("mercure")}set mercure(e){this.set("mercure",e)}get googlepubsub(){return this.get("googlepubsub")}set googlepubsub(e){this.set("googlepubsub",e)}get ibmmq(){return this.get("ibmmq")}set ibmmq(e){this.set("ibmmq",e)}}class MessageExample extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="messageExample"}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get payload(){return this.get("payload")}set payload(e){this.set("payload",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}class MessageTrait extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="messageTrait"}get messageId(){return this.get("messageId")}set messageId(e){this.set("messageId",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get correlationId(){return this.get("correlationId")}set correlationId(e){this.set("correlationId",e)}get schemaFormat(){return this.get("schemaFormat")}set schemaFormat(e){this.set("schemaFormat",e)}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get bindings(){return this.get("bindings")}set bindings(e){this.set("bindings",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}}class OAuthFlow extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}}class OAuthFlows extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}}class Operation extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="operation"}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get bindings(){return this.get("bindings")}set bindings(e){this.set("bindings",e)}get traits(){return this.get("traits")}set traits(e){this.set("traits",e)}get message(){return this.get("message")}set message(e){this.set("message",e)}}class OperationBindings extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="operationBindings"}get http(){return this.get("http")}set http(e){this.set("http",e)}get ws(){return this.get("ws")}set ws(e){this.set("ws",e)}get kafka(){return this.get("kafka")}set kafka(e){this.set("kafka",e)}get anypointmq(){return this.get("anypointmq")}set anypointmq(e){this.set("anypointmq",e)}get amqp(){return this.get("amqp")}set amqp(e){this.set("amqp",e)}get amqp1(){return this.get("amqp1")}set amqp1(e){this.set("amqp1",e)}get mqtt(){return this.get("mqtt")}set mqtt(e){this.set("mqtt",e)}get mqtt5(){return this.get("mqtt5")}set mqtt5(e){this.set("mqtt5",e)}get nats(){return this.get("nats")}set nats(e){this.set("nats",e)}get jms(){return this.get("jms")}set jms(e){this.set("jms",e)}get sns(){return this.get("sns")}set sns(e){this.set("sns",e)}get solace(){return this.get("solace")}set solace(e){this.set("solace",e)}get sqs(){return this.get("sqs")}set sqs(e){this.set("sqs",e)}get stomp(){return this.get("stomp")}set stomp(e){this.set("stomp",e)}get redis(){return this.get("redis")}set redis(e){this.set("redis",e)}get mercure(){return this.get("mercure")}set mercure(e){this.set("mercure",e)}get googlepubsub(){return this.get("googlepubsub")}set googlepubsub(e){this.set("googlepubsub",e)}get ibmmq(){return this.get("ibmmq")}set ibmmq(e){this.set("ibmmq",e)}}class OperationTrait extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="operationTrait"}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get bindings(){return this.get("bindings")}set bindings(e){this.set("bindings",e)}}let Parameter$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="parameter"}get description(){return this.get("description")}set description(e){this.set("description",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get location(){return this.get("location")}set location(e){this.set("location",e)}};class Parameters extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="parameters"}}let Reference$2=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="reference",this.classes.push("json-reference"),this.classes.push("asyncapi-reference")}set $ref(e){this.set("$ref",e)}get $ref(){return this.get("$ref")}},JSONSchema$2=class extends JSONSchema$3{constructor(e,s,r){super(e,s,r),this.element="JSONSchemaDraft6"}get idProp(){throw new UnsupportedOperationError("id keyword from Core vocabulary has been renamed to $id.")}set idProp(e){throw new UnsupportedOperationError("id keyword from Core vocabulary has been renamed to $id.")}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}},LinkDescription$1=class extends LinkDescription$2{get hrefSchema(){return this.get("hrefSchema")}set hrefSchema(e){this.set("hrefSchema",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get schema(){throw new UnsupportedOperationError("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}set schema(e){throw new UnsupportedOperationError("schema keyword from Hyper-Schema vocabulary has been renamed to submissionSchema.")}get submissionSchema(){return this.get("submissionSchema")}set submissionSchema(e){this.set("submissionSchema",e)}get method(){throw new UnsupportedOperationError("method keyword from Hyper-Schema vocabulary has been removed.")}set method(e){throw new UnsupportedOperationError("method keyword from Hyper-Schema vocabulary has been removed.")}get encType(){throw new UnsupportedOperationError("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}set encType(e){throw new UnsupportedOperationError("encType keyword from Hyper-Schema vocabulary has been renamed to submissionEncType.")}get submissionEncType(){return this.get("submissionEncType")}set submissionEncType(e){this.set("submissionEncType",e)}};const jsonSchemaDraft6={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft6",JSONSchema$2),e.register("jSONReference",JSONReference),e.register("media",Media),e.register("linkDescription",LinkDescription$1),e}},getNodeType$4=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap$4={JSONSchemaDraft6Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...keyMapDefault$1};let JSONSchemaVisitor$2=class extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.specPath=always(["document","objects","JSONSchema"])}ObjectElement(e){return this.element=new JSONSchema$2,FixedFieldsVisitor$5.prototype.ObjectElement.call(this,e)}BooleanElement(e){const s=this.enter(e);return this.element.classes.push("boolean-json-schema"),s}},ItemsVisitor$1=class extends Mixin(SpecificationVisitor$5,ParentSchemaAwareVisitor$1,FallbackVisitor$5){ObjectElement(e){const s=isJSONReferenceLikeElement(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(s,e),BREAK}ArrayElement(e){return this.element=new ArrayElement,this.element.classes.push("json-schema-items"),e.forEach(s=>{const r=isJSONReferenceLikeElement(s)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}BooleanElement(e){return this.element=this.toRefractedElement(["document","objects","JSONSchema"],e),BREAK}},ExamplesVisitor$2=class extends FallbackVisitor$5{ArrayElement(e){const s=this.enter(e);return this.element.classes.push("json-schema-examples"),s}},LinkDescriptionVisitor$1=class extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.element=new LinkDescription$1,this.specPath=always(["document","objects","LinkDescription"])}};const specification$4=pipe(assocPath(["visitors","document","objects","JSONSchema","$visitor"],JSONSchemaVisitor$2),dissocPath(["visitors","document","objects","JSONSchema","fixedFields","id"]),assocPath(["visitors","document","objects","JSONSchema","fixedFields","$id"],specification$8.visitors.value),assocPath(["visitors","document","objects","JSONSchema","fixedFields","contains"],specification$8.visitors.JSONSchemaOrJSONReferenceVisitor),assocPath(["visitors","document","objects","JSONSchema","fixedFields","items"],ItemsVisitor$1),assocPath(["visitors","document","objects","JSONSchema","fixedFields","propertyNames"],specification$8.visitors.JSONSchemaOrJSONReferenceVisitor),assocPath(["visitors","document","objects","JSONSchema","fixedFields","const"],specification$8.visitors.value),assocPath(["visitors","document","objects","JSONSchema","fixedFields","examples"],ExamplesVisitor$2),assocPath(["visitors","document","objects","LinkDescription","$visitor"],LinkDescriptionVisitor$1),assocPath(["visitors","document","objects","LinkDescription","fixedFields","hrefSchema"],specification$8.visitors.JSONSchemaOrJSONReferenceVisitor),dissocPath(["visitors","document","objects","LinkDescription","fixedFields","schema"]),assocPath(["visitors","document","objects","LinkDescription","fixedFields","submissionSchema"],specification$8.visitors.JSONSchemaOrJSONReferenceVisitor),dissocPath(["visitors","document","objects","LinkDescription","fixedFields","method"]),dissocPath(["visitors","document","objects","LinkDescription","fixedFields","encType"]),assocPath(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"],specification$8.visitors.value))(specification$8),isJSONSchemaElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof JSONSchema$2||t(r)&&e("JSONSchemaDraft6",r)&&s("object",r)),isLinkDescriptionElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof LinkDescription$1||t(r)&&e("linkDescription",r)&&s("object",r));var jsonSchemaDraft6Predicates=Object.freeze({__proto__:null,isJSONReferenceElement,isJSONSchemaElement:isJSONSchemaElement$2,isLinkDescriptionElement:isLinkDescriptionElement$1,isMediaElement});const createToolbox$4=()=>{const t=createNamespace(jsonSchemaDraft6);return{predicates:{...jsonSchemaDraft6Predicates,isStringElement},namespace:t}},refract$4=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:s=[],specificationObj:r=specification$4}={})=>{const n=refract$9(t),o=dereference(r),a=path$4(e,o),c=new a({specObj:o});return visit$1(n,c),dispatchPluginsSync(c.element,s,{toolboxCreator:createToolbox$4,visitorOptions:{keyMap:keyMap$4,nodeTypeGetter:getNodeType$4}})},createRefractor$4=t=>(e,s={})=>refract$4(e,{specPath:t,...s});JSONSchema$2.refract=createRefractor$4(["visitors","document","objects","JSONSchema","$visitor"]),LinkDescription$1.refract=createRefractor$4(["visitors","document","objects","LinkDescription","$visitor"]);let JSONSchema$1=class extends JSONSchema$2{constructor(e,s,r){super(e,s,r),this.element="JSONSchemaDraft7"}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get media(){throw new UnsupportedOperationError('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}set media(e){throw new UnsupportedOperationError('media keyword from Hyper-Schema vocabulary has been moved to validation vocabulary as "contentMediaType" / "contentEncoding"')}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}};class LinkDescription extends LinkDescription$1{get anchor(){return this.get("anchor")}set anchor(e){this.set("anchor",e)}get anchorPointer(){return this.get("anchorPointer")}set anchorPointer(e){this.set("anchorPointer",e)}get templatePointers(){return this.get("templatePointers")}set templatePointers(e){this.set("templatePointers",e)}get templateRequired(){return this.get("templateRequired")}set templateRequired(e){this.set("templateRequired",e)}get mediaType(){throw new UnsupportedOperationError("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}set mediaType(e){throw new UnsupportedOperationError("mediaType keyword from Hyper-Schema vocabulary has been renamed to targetMediaType.")}get targetMediaType(){return this.get("targetMediaType")}set targetMediaType(e){this.set("targetMediaType",e)}get targetHints(){return this.get("targetHints")}set targetHints(e){this.set("targetHints",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get submissionEncType(){throw new UnsupportedOperationError("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}set submissionEncType(e){throw new UnsupportedOperationError("submissionEncType keyword from Hyper-Schema vocabulary has been renamed to submissionMediaType.")}get submissionMediaType(){return this.get("submissionMediaType")}set submissionMediaType(e){this.set("submissionMediaType",e)}}const jsonSchemaDraft7={namespace:t=>{const{base:e}=t;return e.register("jSONSchemaDraft7",JSONSchema$1),e.register("jSONReference",JSONReference),e.register("linkDescription",LinkDescription),e}},getNodeType$3=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap$3={JSONSchemaDraft7Element:["content"],JSONReferenceElement:["content"],LinkDescriptionElement:["content"],...keyMapDefault$1};let JSONSchemaVisitor$1=class extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.specPath=always(["document","objects","JSONSchema"])}ObjectElement(e){return this.element=new JSONSchema$1,FixedFieldsVisitor$5.prototype.ObjectElement.call(this,e)}BooleanElement(e){const s=this.enter(e);return this.element.classes.push("boolean-json-schema"),s}};class LinkDescriptionVisitor extends Mixin(FixedFieldsVisitor$5,FallbackVisitor$5){constructor(e){super(e),this.element=new LinkDescription,this.specPath=always(["document","objects","LinkDescription"])}}const specification$3=pipe(assocPath(["visitors","document","objects","JSONSchema","$visitor"],JSONSchemaVisitor$1),assocPath(["visitors","document","objects","JSONSchema","fixedFields","$comment"],specification$4.visitors.value),assocPath(["visitors","document","objects","JSONSchema","fixedFields","if"],specification$4.visitors.JSONSchemaOrJSONReferenceVisitor),assocPath(["visitors","document","objects","JSONSchema","fixedFields","then"],specification$4.visitors.JSONSchemaOrJSONReferenceVisitor),assocPath(["visitors","document","objects","JSONSchema","fixedFields","else"],specification$4.visitors.JSONSchemaOrJSONReferenceVisitor),dissocPath(["visitors","document","objects","JSONSchema","fixedFields","media"]),assocPath(["visitors","document","objects","JSONSchema","fixedFields","contentEncoding"],specification$4.visitors.value),assocPath(["visitors","document","objects","JSONSchema","fixedFields","contentMediaType"],specification$4.visitors.value),assocPath(["visitors","document","objects","JSONSchema","fixedFields","writeOnly"],specification$4.visitors.value),assocPath(["visitors","document","objects","LinkDescription","$visitor"],LinkDescriptionVisitor),assocPath(["visitors","document","objects","LinkDescription","fixedFields","anchor"],specification$4.visitors.value),assocPath(["visitors","document","objects","LinkDescription","fixedFields","anchorPointer"],specification$4.visitors.value),dissocPath(["visitors","document","objects","LinkDescription","fixedFields","mediaType"]),assocPath(["visitors","document","objects","LinkDescription","fixedFields","targetMediaType"],specification$4.visitors.value),assocPath(["visitors","document","objects","LinkDescription","fixedFields","targetHints"],specification$4.visitors.value),assocPath(["visitors","document","objects","LinkDescription","fixedFields","description"],specification$4.visitors.value),assocPath(["visitors","document","objects","LinkDescription","fixedFields","$comment"],specification$4.visitors.value),dissocPath(["visitors","document","objects","LinkDescription","fixedFields","submissionEncType"]),assocPath(["visitors","document","objects","LinkDescription","fixedFields","submissionMediaType"],specification$4.visitors.value))(specification$4),isJSONSchemaElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof JSONSchema$1||t(r)&&e("JSONSchemaDraft7",r)&&s("object",r)),isLinkDescriptionElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof LinkDescription||t(r)&&e("linkDescription",r)&&s("object",r));var jsonSchemaDraft7Predicates=Object.freeze({__proto__:null,isJSONReferenceElement,isJSONSchemaElement:isJSONSchemaElement$1,isLinkDescriptionElement});const createToolbox$3=()=>{const t=createNamespace(jsonSchemaDraft7);return{predicates:{...jsonSchemaDraft7Predicates,isStringElement},namespace:t}},refract$3=(t,{specPath:e=["visitors","document","objects","JSONSchema","$visitor"],plugins:s=[],specificationObj:r=specification$3}={})=>{const n=refract$9(t),o=dereference(r),a=path$4(e,o),c=new a({specObj:o});return visit$1(n,c),dispatchPluginsSync(c.element,s,{toolboxCreator:createToolbox$3,visitorOptions:{keyMap:keyMap$3,nodeTypeGetter:getNodeType$3}})},createRefractor$3=t=>(e,s={})=>refract$3(e,{specPath:t,...s});JSONSchema$1.refract=createRefractor$3(["visitors","document","objects","JSONSchema","$visitor"]),LinkDescription.refract=createRefractor$3(["visitors","document","objects","LinkDescription","$visitor"]);class Schema extends JSONSchema$1{constructor(e,s,r){super(e,s,r),this.element="schema",this.classes.push("json-schema-draft-7")}get not(){return this.get("not")}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get discriminator(){return this.get("discriminator")}get externalDocs(){return this.get("externalDocs")}get deprecated(){return this.get("deprecated")}}class SecurityRequirement extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityRequirement"}}class SecurityScheme extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}}class Server extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get protocol(){return this.get("protocol")}set protocol(e){this.set("protocol",e)}get protocolVersion(){return this.get("protocolVersion")}set protocolVersion(e){this.set("protocolVersion",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get bindings(){return this.get("bindings")}set bindings(e){this.set("bindings",e)}}class ServerBindings extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="serverBindings"}get http(){return this.get("http")}set http(e){this.set("http",e)}get ws(){return this.get("ws")}set ws(e){this.set("ws",e)}get kafka(){return this.get("kafka")}set kafka(e){this.set("kafka",e)}get anypointmq(){return this.get("anypointmq")}set anypointmq(e){this.set("anypointmq",e)}get amqp(){return this.get("amqp")}set amqp(e){this.set("amqp",e)}get amqp1(){return this.get("amqp1")}set amqp1(e){this.set("amqp1",e)}get mqtt(){return this.get("mqtt")}set mqtt(e){this.set("mqtt",e)}get mqtt5(){return this.get("mqtt5")}set mqtt5(e){this.set("mqtt5",e)}get nats(){return this.get("nats")}set nats(e){this.set("nats",e)}get jms(){return this.get("jms")}set jms(e){this.set("jms",e)}get sns(){return this.get("sns")}set sns(e){this.set("sns",e)}get solace(){return this.get("solace")}set solace(e){this.set("solace",e)}get sqs(){return this.get("sqs")}set sqs(e){this.set("sqs",e)}get stomp(){return this.get("stomp")}set stomp(e){this.set("stomp",e)}get redis(){return this.get("redis")}set redis(e){this.set("redis",e)}get mercure(){return this.get("mercure")}set mercure(e){this.set("mercure",e)}get googlepubsub(){return this.get("googlepubsub")}set googlepubsub(e){this.set("googlepubsub",e)}get ibmmq(){return this.get("ibmmq")}set ibmmq(e){this.set("ibmmq",e)}}class Servers extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="servers"}}class ServerVariable extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}}class Tag extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}class Tags extends ArrayElement{constructor(e,s,r){super(e,s,r),this.element="tags"}}class AmqpChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqpChannelBinding",this.classes.push("channel-binding")}get is(){return this.get("is")}set is(e){this.set("is",e)}get exchange(){return this.get("exchange")}set exchange(e){this.set("exchange",e)}get queue(){return this.get("queue")}set queue(e){this.set("queue",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class AmqpMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqpMessageBinding",this.classes.push("message-binding")}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get messageType(){return this.get("messageType")}set messageType(e){this.set("messageType",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class AmqpOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqpOperationBinding",this.classes.push("operation-binding")}get expiration(){return this.get("expiration")}set expiration(e){this.set("expiration",e)}get userId(){return this.get("userId")}set userId(e){this.set("userId",e)}get cc(){return this.get("cc")}set cc(e){this.set("cc",e)}get priority(){return this.get("priority")}set priority(e){this.set("priority",e)}get deliveryMode(){return this.get("deliveryMode")}set deliveryMode(e){this.set("deliveryMode",e)}get mandatory(){return this.get("mandatory")}set mandatory(e){this.set("mandatory",e)}get bcc(){return this.get("bcc")}set bcc(e){this.set("bcc",e)}get replyTo(){return this.get("replyTo")}set replyTo(e){this.set("replyTo",e)}get timestamp(){return this.get("timestamp")}set timestamp(e){this.set("timestamp",e)}get ack(){return this.get("ack")}set ack(e){this.set("ack",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class AmqpServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqpServerBinding",this.classes.push("server-binding")}}class Amqp1ChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqp1ChannelBinding",this.classes.push("channel-binding")}}class Amqp1MessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqp1MessageBinding",this.classes.push("message-binding")}}class Amqp1OperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqp1OperationBinding",this.classes.push("operation-binding")}}class Amqp1ServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="amqp1ServerBinding",this.classes.push("server-binding")}}class AnypointmqChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="anypointmqChannelBinding",this.classes.push("channel-binding")}get destination(){return this.get("destination")}set destination(e){this.set("destination",e)}get destinationType(){return this.get("destinationType")}set destinationType(e){this.set("destinationType",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class AnypointmqMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="anypointmqMessageBinding",this.classes.push("message-binding")}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class AnypointmqOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="anypointmqOperationBinding",this.classes.push("operation-binding")}}class AnypointmqServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="anypointmqServerBinding",this.classes.push("server-binding")}}class GooglepubsubChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="googlepubsubChannelBinding",this.classes.push("channel-binding")}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}get labels(){return this.get("labels")}set labels(e){this.set("labels",e)}get messageRetentionDuration(){return this.get("messageRetentionDuration")}set messageRetentionDuration(e){this.set("messageRetentionDuration",e)}get messageStoragePolicy(){return this.get("messageStoragePolicy")}set messageStoragePolicy(e){this.set("messageStoragePolicy",e)}get schemaSettings(){return this.get("schemaSettings")}set schemaSettings(e){this.set("schemaSettings",e)}get topic(){return this.get("topic")}set topic(e){this.set("topic",e)}}class GooglepubsubMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="googlepubsubMessageBinding",this.classes.push("message-binding")}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}get attributesProp(){return this.get("attributes")}set attributesProp(e){this.set("attributes",e)}get orderingKey(){return this.get("orderingKey")}set orderingKey(e){this.set("orderingKey",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class GooglepubsubOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="googlepubsubOperationBinding",this.classes.push("operation-binding")}}class GooglepubsubServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="googlepubsubServerBinding",this.classes.push("server-binding")}}class HttpChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="httpChannelBinding",this.classes.push("channel-binding")}}class HttpMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="httpMessageBinding",this.classes.push("message-binding")}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class HttpOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="httpOperationBinding",this.classes.push("operation-binding")}get type(){return this.get("type")}set type(e){this.set("type",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get query(){return this.get("query")}set query(e){this.set("query",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class HttpServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="httpServerBinding",this.classes.push("server-binding")}}class IbmmqChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="ibmmqChannelBinding",this.classes.push("channel-binding")}get destinationType(){return this.get("destinationType")}set destinationType(e){this.set("destinationType",e)}get queue(){return this.get("queue")}set queue(e){this.set("queue",e)}get topic(){return this.get("topic")}set topic(e){this.set("topic",e)}get maxMsgLength(){return this.get("maxMsgLength")}set maxMsgLength(e){this.set("maxMsgLength",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class IbmmqMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="ibmmqMessageBinding",this.classes.push("message-binding")}get type(){return this.get("type")}set type(e){this.set("type",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get expiry(){return this.get("expiry")}set expiry(e){this.set("expiry",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class IbmmqOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="ibmmqOperationBinding",this.classes.push("operation-binding")}}class IbmmqServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="ibmmqServerBinding",this.classes.push("server-binding")}get groupId(){return this.get("groupId")}set groupId(e){this.set("groupId",e)}get ccdtQueueManagerName(){return this.get("ccdtQueueManagerName")}set ccdtQueueManagerName(e){this.set("ccdtQueueManagerName",e)}get cipherSpec(){return this.get("cipherSpec")}set cipherSpec(e){this.set("cipherSpec",e)}get multiEndpointServer(){return this.get("multiEndpointServer")}set multiEndpointServer(e){this.set("multiEndpointServer",e)}get heartBeatInterval(){return this.get("heartBeatInterval")}set heartBeatInterval(e){this.set("heartBeatInterval",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class JmsChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="jmsChannelBinding",this.classes.push("channel-binding")}}class JmsMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="jmsMessageBinding",this.classes.push("message-binding")}}class JmsOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="jmsOperationBinding",this.classes.push("operation-binding")}}class JmsServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="jmsServerBinding",this.classes.push("server-binding")}}class KafkaChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="kafkaChannelBinding",this.classes.push("channel-binding")}get topic(){return this.get("topic")}set topic(e){this.set("topic",e)}get partitions(){return this.get("partitions")}set partitions(e){this.set("partitions",e)}get replicas(){return this.get("replicas")}set replicas(e){this.set("replicas",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class KafkaMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="kafkaMessageBinding",this.classes.push("message-binding")}get key(){return this.get("key")}set key(e){this.set("key",e)}get schemaIdLocation(){return this.get("schemaIdLocation")}set schemaIdLocation(e){this.set("schemaIdLocation",e)}get schemaIdPayloadEncoding(){return this.get("schemaIdPayloadEncoding")}set schemaIdPayloadEncoding(e){this.set("schemaIdPayloadEncoding",e)}get schemaLookupStrategy(){return this.get("schemaLookupStrategy")}set schemaLookupStrategy(e){this.set("schemaLookupStrategy",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class KafkaOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="kafkaOperationBinding",this.classes.push("operation-binding")}get groupId(){return this.get("groupId")}set groupId(e){this.set("groupId",e)}get clientId(){return this.get("clientId")}set clientId(e){this.set("clientId",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class KafkaServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="kafkaServerBinding",this.classes.push("server-binding")}get schemaRegistryUrl(){return this.get("schemaRegistryUrl")}set schemaRegistryUrl(e){this.set("schemaRegistryUrl",e)}get schemaRegistryVendor(){return this.get("schemaRegistryVendor")}set schemaRegistryVendor(e){this.set("schemaRegistryVendor",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class MercureChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mercureChannelBinding",this.classes.push("channel-binding")}}class MercureMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mercureMessageBinding",this.classes.push("message-binding")}}class MercureOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mercureOperationBinding",this.classes.push("operation-binding")}}class MercureServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mercureServerBinding",this.classes.push("server-binding")}}class MqttChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqttChannelBinding",this.classes.push("channel-binding")}}class MqttMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqttMessageBinding",this.classes.push("message-binding")}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class MqttOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqttOperationBinding",this.classes.push("operation-binding")}get qos(){return this.get("qos")}set qos(e){this.set("qos",e)}get retain(){return this.get("retain")}set retain(e){this.set("retain",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class MqttServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqttServerBinding",this.classes.push("server-binding")}get clientId(){return this.get("clientId")}set clientId(e){this.set("clientId",e)}get cleanSession(){return this.get("cleanSession")}set cleanSession(e){this.set("cleanSession",e)}get lastWill(){return this.get("lastWill")}set lastWill(e){this.set("lastWill",e)}get keepAlive(){return this.get("keepAlive")}set keepAlive(e){this.set("keepAlive",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class Mqtt5ChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqtt5ChannelBinding",this.classes.push("channel-binding")}}class Mqtt5MessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqtt5MessageBinding",this.classes.push("message-binding")}}class Mqtt5OperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqtt5OperationBinding",this.classes.push("operation-binding")}}class Mqtt5ServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="mqtt5ServerBinding",this.classes.push("server-binding")}}class NatsChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="natsChannelBinding",this.classes.push("channel-binding")}}class NatsMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="natsMessageBinding",this.classes.push("message-binding")}}class NatsOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="natsOperationBinding",this.classes.push("operation-binding")}get queue(){return this.get("queue")}set queue(e){this.set("queue",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class NatsServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="natsServerBinding",this.classes.push("server-binding")}}class PulsarChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="pulsarChannelBinding",this.classes.push("channel-binding")}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get persistence(){return this.get("persistence")}set persistence(e){this.set("persistence",e)}get compaction(){return this.get("compaction")}set compaction(e){this.set("compaction",e)}get"geo-replication"(){return this.get("compaction")}set"geo-replication"(e){this.set("geo-replication",e)}get retention(){return this.get("retention")}set retention(e){this.set("retention",e)}get ttl(){return this.get("ttl")}set ttl(e){this.set("ttl",e)}get deduplication(){return this.get("deduplication")}set deduplication(e){this.set("deduplication",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class PulsarMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="pulsarMessageBinding",this.classes.push("message-binding")}}class PulsarOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="pulsarOperationBinding",this.classes.push("operation-binding")}}class PulsarServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="pulsarServerBinding",this.classes.push("server-binding")}get tenant(){return this.get("tenant")}set tenant(e){this.set("tenant",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class RedisChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="redisChannelBinding",this.classes.push("channel-binding")}}class RedisMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="redisMessageBinding",this.classes.push("message-binding")}}class RedisOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="redisOperationBinding",this.classes.push("operation-binding")}}class RedisServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="redisServerBinding",this.classes.push("server-binding")}}class SnsChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="snsChannelBinding",this.classes.push("channel-binding")}}class SnsMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="snsMessageBinding",this.classes.push("message-binding")}}class SnsOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="snsOperationBinding",this.classes.push("operation-binding")}}class SnsServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="snsServerBinding",this.classes.push("server-binding")}}class SolaceChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="solaceChannelBinding",this.classes.push("channel-binding")}}class SolaceMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="solaceMessageBinding",this.classes.push("message-binding")}}class SolaceOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="solaceOperationBinding",this.classes.push("operation-binding")}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}get destinations(){return this.get("destinations")}set destinations(e){this.set("destinations",e)}}class SolaceServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="solaceServerBinding",this.classes.push("server-binding")}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}get msgVpn(){return this.get("msgVpn")}set msgVpn(e){this.set("msgVpn",e)}}class SqsChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="sqsChannelBinding",this.classes.push("channel-binding")}}class SqsMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="sqsMessageBinding",this.classes.push("message-binding")}}class SqsOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="sqsOperationBinding",this.classes.push("operation-binding")}}class SqsServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="sqsServerBinding",this.classes.push("server-binding")}}class StompChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="stompChannelBinding",this.classes.push("channel-binding")}}class StompMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="stompMessageBinding",this.classes.push("message-binding")}}class StompOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="stompOperationBinding",this.classes.push("operation-binding")}}class StompServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="stompServerBinding",this.classes.push("server-binding")}}class WebSocketChannelBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="webSocketChannelBinding",this.classes.push("channel-binding")}get method(){return this.get("method")}set method(e){this.set("method",e)}get query(){return this.get("query")}set query(e){this.set("query",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get bindingVersion(){return this.get("bindingVersion")}set bindingVersion(e){this.set("bindingVersion",e)}}class WebSocketMessageBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="webSocketMessageBinding",this.classes.push("message-binding")}}class WebSocketOperationBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="webSocketOperationBinding",this.classes.push("operation-binding")}}class WebSocketServerBinding extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="webSocketServerBinding",this.classes.push("server-binding")}}const asyncApi2={namespace:t=>{const{base:e}=t;return e.register("asyncApi2",AsyncApi2),e.register("asyncApiVersion",AsyncApiVersion),e.register("channelBindings",ChannelBindings),e.register("channelItem",ChannelItem),e.register("channels",Channels),e.register("components",Components$1),e.register("contact",Contact),e.register("correlationID",CorrelationID),e.register("defaultContentType",DefaultContentType),e.register("externalDocumentation",ExternalDocumentation),e.register("identifier",Identifier),e.register("info",Info$2),e.register("license",License),e.register("message",Message),e.register("messageBindings",MessageBindings),e.register("messageExample",MessageExample),e.register("messageTrait",MessageTrait),e.register("oAuthFlow",OAuthFlow),e.register("oAuthFlows",OAuthFlows),e.register("operation",Operation),e.register("operationBindings",OperationBindings),e.register("operationTrait",OperationTrait),e.register("parameter",Parameter$1),e.register("parameters",Parameters),e.register("reference",Reference$2),e.register("schema",Schema),e.register("securityRequirement",SecurityRequirement),e.register("securityScheme",SecurityScheme),e.register("server",Server),e.register("serverBindings",ServerBindings),e.register("servers",Servers),e.register("serverVariable",ServerVariable),e.register("tag",Tag),e.register("tags",Tags),e.register("amqpChannelBinding",AmqpChannelBinding),e.register("amqpMessageBinding",AmqpMessageBinding),e.register("amqpOperationBinding",AmqpOperationBinding),e.register("amqpServerBinding",AmqpServerBinding),e.register("amqp1ChannelBinding",Amqp1ChannelBinding),e.register("amqp1MessageBinding",Amqp1MessageBinding),e.register("amqp1OperationBinding",Amqp1OperationBinding),e.register("amqp1ServerBinding",Amqp1ServerBinding),e.register("anypointmqChannelBinding",AnypointmqChannelBinding),e.register("anypointmqMessageBinding",AnypointmqMessageBinding),e.register("anypointmqOperationBinding",AnypointmqOperationBinding),e.register("anypointmqServerBinding",AnypointmqServerBinding),e.register("googlepubsubChannelBinding",GooglepubsubChannelBinding),e.register("googlepubsubMessageBinding",GooglepubsubMessageBinding),e.register("googlepubsubOperationBinding",GooglepubsubOperationBinding),e.register("googlepubsubServerBinding",GooglepubsubServerBinding),e.register("httpChannelBinding",HttpChannelBinding),e.register("httpMessageBinding",HttpMessageBinding),e.register("httpOperationBinding",HttpOperationBinding),e.register("httpServerBinding",HttpServerBinding),e.register("ibmmqChannelBinding",IbmmqChannelBinding),e.register("ibmmqMessageBinding",IbmmqMessageBinding),e.register("ibmmqOperationBinding",IbmmqOperationBinding),e.register("ibmmqServerBinding",IbmmqServerBinding),e.register("jmsChannelBinding",JmsChannelBinding),e.register("jmsMessageBinding",JmsMessageBinding),e.register("jmsOperationBinding",JmsOperationBinding),e.register("jmsServerBinding",JmsServerBinding),e.register("kafkaChannelBinding",KafkaChannelBinding),e.register("kafkaMessageBinding",KafkaMessageBinding),e.register("kafkaOperationBinding",KafkaOperationBinding),e.register("kafkaServerBinding",KafkaServerBinding),e.register("mercureChannelBinding",MercureChannelBinding),e.register("mercureMessageBinding",MercureMessageBinding),e.register("mercureOperationBinding",MercureOperationBinding),e.register("mercureServerBinding",MercureServerBinding),e.register("mqttChannelBinding",MqttChannelBinding),e.register("mqttMessageBinding",MqttMessageBinding),e.register("mqttOperationBinding",MqttOperationBinding),e.register("mqttServerBinding",MqttServerBinding),e.register("mqtt5ChannelBinding",Mqtt5ChannelBinding),e.register("mqtt5MessageBinding",Mqtt5MessageBinding),e.register("mqtt5OperationBinding",Mqtt5OperationBinding),e.register("mqtt5ServerBinding",Mqtt5ServerBinding),e.register("natsChannelBinding",NatsChannelBinding),e.register("natsMessageBinding",NatsMessageBinding),e.register("natsOperationBinding",NatsOperationBinding),e.register("natsServerBinding",NatsServerBinding),e.register("pulsarChannelBinding",PulsarChannelBinding),e.register("pulsarMessageBinding",PulsarMessageBinding),e.register("pulsarOperationBinding",PulsarOperationBinding),e.register("pulsarServerBinding",PulsarServerBinding),e.register("redisChannelBinding",RedisChannelBinding),e.register("redisMessageBinding",RedisMessageBinding),e.register("redisOperationBinding",RedisOperationBinding),e.register("redisServerBinding",RedisServerBinding),e.register("snsChannelBinding",SnsChannelBinding),e.register("snsMessageBinding",SnsMessageBinding),e.register("snsOperationBinding",SnsOperationBinding),e.register("snsServerBinding",SnsServerBinding),e.register("solaceChannelBinding",SolaceChannelBinding),e.register("solaceMessageBinding",SolaceMessageBinding),e.register("solaceOperationBinding",SolaceOperationBinding),e.register("solaceServerBinding",SolaceServerBinding),e.register("sqsChannelBinding",SqsChannelBinding),e.register("sqsMessageBinding",SqsMessageBinding),e.register("sqsOperationBinding",SqsOperationBinding),e.register("sqsServerBinding",SqsServerBinding),e.register("stompChannelBinding",StompChannelBinding),e.register("stompMessageBinding",StompMessageBinding),e.register("stompOperationBinding",StompOperationBinding),e.register("stompServerBinding",StompServerBinding),e.register("webSocketChannelBinding",WebSocketChannelBinding),e.register("webSocketMessageBinding",WebSocketMessageBinding),e.register("webSocketOperationBinding",WebSocketOperationBinding),e.register("webSocketServerBinding",WebSocketServerBinding),e}};class ComponentsSchemas extends ObjectElement{static primaryClass="components-schemas";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsSchemas.primaryClass)}}class ComponentsServers extends ObjectElement{static primaryClass="components-servers";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsServers.primaryClass)}}class ComponentsServerVariables extends ObjectElement{static primaryClass="components-server-variables";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsServerVariables.primaryClass)}}class ComponentsMessages extends ObjectElement{static primaryClass="components-messages";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsMessages.primaryClass)}}class ComponentsSecuritySchemes extends ObjectElement{static primaryClass="components-security-schemes";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsSecuritySchemes.primaryClass)}}let ComponentsParameters$1=class ce extends ObjectElement{static primaryClass="components-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(ce.primaryClass)}};class ComponentsCorrelationIDs extends ObjectElement{static primaryClass="components-correlation-ids";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsCorrelationIDs.primaryClass)}}class ComponentsOperationTraits extends ObjectElement{static primaryClass="components-operation-traits";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsOperationTraits.primaryClass)}}class ComponentsMessageTraits extends ObjectElement{static primaryClass="components-message-traits";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsMessageTraits.primaryClass)}}class ComponentsServerBindings extends ObjectElement{static primaryClass="components-server-bindings";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsServerBindings.primaryClass)}}class ComponentsChannelBindings extends ObjectElement{static primaryClass="components-channel-bindings";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsChannelBindings.primaryClass)}}class ComponentsOperationBindings extends ObjectElement{static primaryClass="components-operation-bindings";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsOperationBindings.primaryClass)}}class ComponentsMessageBindings extends ObjectElement{static primaryClass="components-message-bindings";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsMessageBindings.primaryClass)}}class ServerVariables extends ObjectElement{static primaryClass="server-variables";constructor(e,s,r){super(e,s,r),this.classes.push(ServerVariables.primaryClass)}}class ChannelItemServers extends ArrayElement{static primaryClass="channel-item-server-names-list";constructor(e,s,r){super(e,s,r),this.classes.push(ChannelItemServers.primaryClass)}}class OAuthFlowScopes extends ObjectElement{static primaryClass="oauth-flow-scopes";constructor(e,s,r){super(e,s,r),this.classes.push(OAuthFlowScopes.primaryClass)}}class OperationTraits extends ArrayElement{static primaryClass="operation-traits";constructor(e,s,r){super(e,s,r),this.classes.push(OperationTraits.primaryClass)}}class ServerSecurity extends ArrayElement{static primaryClass="server-security";constructor(e,s,r){super(e,s,r),this.classes.push(ServerSecurity.primaryClass)}}class OperationMessageMap extends ObjectElement{static primaryClass="operation-message-map";constructor(e,s,r){super(e,s,r),this.classes.push(OperationMessageMap.primaryClass)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}}class OperationMessage extends ArrayElement{static primaryClass="operation-message";constructor(e,s,r){super(e,s,r),this.classes.push(OperationMessage.primaryClass)}}class OperationSecurity extends ArrayElement{static primaryClass="operation-security";constructor(e,s,r){super(e,s,r),this.classes.push(OperationSecurity.primaryClass)}}class OperationTraitSecurity extends ArrayElement{static primaryClass="operation-trait-security";constructor(e,s,r){super(e,s,r),this.classes.push(OperationTraitSecurity.primaryClass)}}class MessageExamples extends ArrayElement{static primaryClass="message-examples";constructor(e,s,r){super(e,s,r),this.classes.push(MessageExamples.primaryClass)}}class MessageTraits extends ArrayElement{static primaryClass="message-traits";constructor(e,s,r){super(e,s,r),this.classes.push(MessageTraits.primaryClass)}}class MessageTraitExamples extends ArrayElement{static primaryClass="message-trait-examples";constructor(e,s,r){super(e,s,r),this.classes.push(MessageTraitExamples.primaryClass)}}const getNodeType$2=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap$2={AsyncApi2Element:["content"],AsyncApiVersionElement:[],ChannelBindingsElement:["content"],ChannelItemElement:["content"],ChannelsElement:["content"],ComponentsElement:["content"],ContactElement:["content"],CorrelationIDElement:["content"],DefaultContentType:[],ExternalDocumentationElement:["content"],InfoElement:["content"],LicenseElement:["content"],MessageElement:["content"],MessageBindingsElement:["content"],MessageTraitElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OperationElement:["content"],OperationBindingsElement:["content"],OperationTraitElement:["content"],ParameterElement:["content"],ParametersElement:["content"],ReferenceElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerBindingsElement:["content"],ServersElement:["content"],ServerVariableElement:["content"],TagElement:["content"],TagsElement:["content"],AmqpChannelBindingElement:["content"],AmqpMessageBindingElement:["content"],AmqpOperationBindingElement:["content"],AmqpServerBindingElement:["content"],Amqp1ChannelBindingElement:["content"],Amqp1MessageBindingElement:["content"],Amqp1OperationBindingElement:["content"],Amqp1ServerBindingElement:["content"],AnypointmqChannelBindingElement:["content"],AnypointmqMessageBindingElement:["content"],AnypointmqOperationBindingElement:["content"],AnypointmqServerBindingElement:["content"],GooglepubsubChannelBindingElement:["content"],GooglepubsubMessageBindingElement:["content"],GooglepubsubOperationBindingElement:["content"],GooglepubsubServerBindingElement:["content"],HttpChannelBindingElement:["content"],HttpMessageBindingElement:["content"],HttpOperationBindingElement:["content"],HttpServerBindingElement:["content"],IbmmqChannelBindingElement:["content"],IbmmqMessageBindingElement:["content"],IbmmqChannelOperationElement:["content"],IbmmqServerBindingElement:["content"],JmsChannelBindingElement:["content"],JmsMessageBindingElement:["content"],JmsOperationBindingElement:["content"],JmsServerBindingElement:["content"],KafkaChannelBindingElement:["content"],KafkaMessageBindingElement:["content"],KafkaOperationBindingElement:["content"],KafkaServerBindingElement:["content"],MercureChannelBindingElement:["content"],MercureMessageBindingElement:["content"],MercureOperationBindingElement:["content"],MercureServerBindingElement:["content"],MqttChannelBindingElement:["content"],MqttMessageBindingElement:["content"],MqttOperationBindingElement:["content"],MqttServerBindingElement:["content"],Mqtt5ChannelBindingElement:["content"],Mqtt5MessageBindingElement:["content"],Mqtt5OperationBindingElement:["content"],Mqtt5ServerBindingElement:["content"],NatsChannelBindingElement:["content"],NatsMessageBindingElement:["content"],NatsOperationBindingElement:["content"],NatsServerBindingElement:["content"],PulsarChannelBindingElement:["content"],PulsarMessageBindingElement:["content"],PulsarOperationBindingElement:["content"],PulsarServerBindingElement:["content"],RedisChannelBindingElement:["content"],RedisMessageBindingElement:["content"],RedisOperationBindingElement:["content"],RedisServerBindingElement:["content"],SnsChannelBindingElement:["content"],SnsMessageBindingElement:["content"],SnsOperationBindingElement:["content"],SnsServerBindingElement:["content"],SolaceChannelBindingElement:["content"],SolaceMessageBindingElement:["content"],SolaceOperationBindingElement:["content"],SolaceServerBindingElement:["content"],SqsChannelBindingElement:["content"],SqsMessageBindingElement:["content"],SqsOperationBindingElement:["content"],SqsServerBindingElement:["content"],StompChannelBindingElement:["content"],StompMessageBindingElement:["content"],StompOperationBindingElement:["content"],StompServerBindingElement:["content"],WebSocketChannelBindingElement:["content"],WebSocketMessageBindingElement:["content"],WebSocketOperationBindingElement:["content"],WebSocketServerBindingElement:["content"],...keyMapDefault$1},isAsyncApi2Element=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof AsyncApi2||t(n)&&e("asyncApi2",n)&&s("object",n)&&r("api",n)),isAsyncApiVersionElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof AsyncApiVersion||t(r)&&e("asyncApiVersion",r)&&s("string",r)),isChannelBindingsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ChannelBindings||t(r)&&e("channelBindings",r)&&s("object",r)),isChannelItemElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ChannelItem||t(r)&&e("channelItem",r)&&s("object",r)),isChannelsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Channels||t(r)&&e("channels",r)&&s("object",r)),isComponentsElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Components$1||t(r)&&e("components",r)&&s("object",r)),isContactElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Contact||t(r)&&e("contact",r)&&s("object",r)),isIdentifierElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Identifier||t(r)&&e("identifier",r)&&s("string",r)),isInfoElement$2=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Info$2||t(r)&&e("info",r)&&s("object",r)),isLicenseElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof License||t(r)&&e("license",r)&&s("object",r)),isOperationElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Operation||t(r)&&e("operation",r)&&s("object",r)),isParameterElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Parameter$1||t(r)&&e("parameter",r)&&s("object",r)),isParametersElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Parameters||t(r)&&e("parameters",r)&&s("object",r)),isReferenceElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Reference$2||t(r)&&e("reference",r)&&s("object",r)),isSchemaElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Schema||t(r)&&e("schema",r)&&s("object",r)),isBooleanJsonSchemaElement=t=>isBooleanElement(t)&&t.classes.includes("boolean-json-schema"),isSecurityRequirementElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SecurityRequirement||t(r)&&e("securityRequirement",r)&&s("object",r)),isServerElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Server||t(r)&&e("server",r)&&s("object",r)),isServerBindingsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ServerBindings||t(r)&&e("serverBindings",r)&&s("object",r)),isServersElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Servers||t(r)&&e("servers",r)&&s("object",r)),isServerVariableElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof ServerVariable||t(r)&&e("serverVariable",r)&&s("object",r));var asyncApi2Predicates=Object.freeze({__proto__:null,isAsyncApi2Element,isAsyncApiVersionElement,isBooleanJsonSchemaElement,isChannelBindingsElement,isChannelItemElement,isChannelsElement,isComponentsElement:isComponentsElement$1,isContactElement,isIdentifierElement,isInfoElement:isInfoElement$2,isLicenseElement,isOperationElement,isParameterElement:isParameterElement$1,isParametersElement,isReferenceElement:isReferenceElement$1,isSchemaElement,isSecurityRequirementElement,isServerBindingsElement,isServerElement,isServerVariableElement,isServersElement});const isReferenceLikeElement$1=t=>isObjectElement(t)&&t.hasKey("$ref"),isAsyncApiExtension=t=>isStringElement(t.key)&&startsWith("x-",serializer(t.key));let Visitor$2=class{element;constructor(e){Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=deepmerge(s.meta,e.meta),hasElementSourceMap(e)&&s.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=deepmerge(s.attributes,e.attributes))}},FallbackVisitor$2=class extends Visitor$2{enter(e){return this.element=cloneDeep(e),BREAK}},SpecificationVisitor$2=class extends Visitor$2{specObj;passingOptionsNames=["specObj"];constructor({specObj:e,...s}){super({...s}),this.specObj=e}retrievePassingOptions(){return pick(this.passingOptionsNames,this)}retrieveFixedFields(e){const s=path$4(["visitors",...e,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(e){return pathSatisfies(isFunction$4,["visitors",...e],this.specObj)?path$4(["visitors",...e],this.specObj):path$4(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,s={}){const r=this.retrievePassingOptions(),n=this.retrieveVisitor(e),o={...r,...s};return new n(o)}toRefractedElement(e,s,r={}){const n=this.retrieveVisitorInstance(e,r);return n instanceof FallbackVisitor$2&&n?.constructor===FallbackVisitor$2?cloneDeep(s):(visit$1(s,n,r),n.element)}};class AlternatingVisitor extends SpecificationVisitor$2{alternator;constructor({alternator:e,...s}){super({...s}),this.alternator=e}enter(e){const s=this.alternator.map(({predicate:n,specPath:o})=>ifElse(n,always(o),stubUndefined)),r=dispatch(s)(e);return this.element=this.toRefractedElement(r,e),BREAK}}let FixedFieldsVisitor$2=class extends SpecificationVisitor$2{specPath;ignoredFields;canSupportSpecificationExtensions=!0;specificationExtensionPredicate=isAsyncApiExtension;constructor({specPath:e,ignoredFields:s,canSupportSpecificationExtensions:r,specificationExtensionPredicate:n,...o}){super({...o}),this.specPath=e,this.ignoredFields=s||[],typeof r=="boolean"&&(this.canSupportSpecificationExtensions=r),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(e){const s=this.specPath(e),r=this.retrieveFixedFields(s);return e.forEach((n,o,a)=>{if(isStringElement(o)&&r.includes(serializer(o))&&!this.ignoredFields.includes(serializer(o))){const c=this.toRefractedElement([...s,"fixedFields",serializer(o)],n),u=new MemberElement(cloneDeep(o),c);u.classes.push("fixed-field"),this.copyMetaAndAttributes(a,u),this.element.content.push(u)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(a)){const c=this.toRefractedElement(["document","extension"],a);this.element.content.push(c)}else this.ignoredFields.includes(serializer(o))||this.element.content.push(cloneDeep(a))}),this.copyMetaAndAttributes(e,this.element),BREAK}},PatternedFieldsVisitor$1=class extends SpecificationVisitor$2{specPath;ignoredFields;fieldPatternPredicate=F;canSupportSpecificationExtensions=!1;specificationExtensionPredicate=isAsyncApiExtension;constructor({specPath:e,ignoredFields:s,fieldPatternPredicate:r,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...a}){super({...a}),this.specPath=e,this.ignoredFields=s||[],typeof r=="function"&&(this.fieldPatternPredicate=r),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(e){return e.forEach((s,r,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(serializer(r))&&this.fieldPatternPredicate(serializer(r))){const o=this.specPath(s),a=this.toRefractedElement(o,s),c=new MemberElement(cloneDeep(r),a);this.copyMetaAndAttributes(n,c),c.classes.push("patterned-field"),this.element.content.push(c)}else this.ignoredFields.includes(serializer(r))||this.element.content.push(cloneDeep(n))}),this.copyMetaAndAttributes(e,this.element),BREAK}},MapVisitor$1=class extends PatternedFieldsVisitor$1{constructor(e){super(e),this.fieldPatternPredicate=isNonEmptyString}},SpecificationExtensionVisitor$1=class extends SpecificationVisitor$2{MemberElement(e){return this.element=cloneDeep(e),this.element.classes.push("specification-extension"),BREAK}};class AsyncApi2Visitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AsyncApi2,this.specPath=always(["document","objects","AsyncApi"]),this.canSupportSpecificationExtensions=!0}}class AsyncApiVersionVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){StringElement(e){const s=new AsyncApiVersion(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}class IdentifierVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){StringElement(e){const s=new Identifier(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}let InfoVisitor$2=class extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Info$2,this.specPath=always(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}},VersionVisitor$1=class extends FallbackVisitor$2{StringElement(e){return this.element=new StringElement(serializer(e)),this.copyMetaAndAttributes(e,this.element),this.element.classes.push("api-version"),this.element.classes.push("version"),BREAK}};class ContactVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Contact,this.specPath=always(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}}class CorrelationIDVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new CorrelationID,this.specPath=always(["document","objects","CorrelationID"]),this.canSupportSpecificationExtensions=!0}}class DefaultContentTypeVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){StringElement(e){const s=new DefaultContentType(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}class LicenseVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new License,this.specPath=always(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}}class OAuthFlowsVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new OAuthFlows,this.specPath=always(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}}class OAuthFlowVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new OAuthFlow,this.specPath=always(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}}class ScopesVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new OAuthFlowScopes,this.specPath=always(["value"])}}let ServersVisitor$2=class extends Mixin(PatternedFieldsVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new Servers,this.element.classes.push("servers"),this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","Server"],this.canSupportSpecificationExtensions=!1,this.fieldPatternPredicate=test$2(/^[A-Za-z0-9_-]+$/)}ObjectElement(e){const s=PatternedFieldsVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","server")}),s}};class ServerVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Server,this.specPath=always(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}}let UrlVisitor$1=class extends FallbackVisitor$2{StringElement(e){const s=super.enter(e);return this.element.classes.push("server-url"),s}},BindingsVisitor$5=class extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","ServerBindings"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","serverBindings"),s}};class VariablesVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ServerVariables,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","ServerVariable"]}}let SecurityVisitor$2=class extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new ServerSecurity}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","SecurityRequirement"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}};class ServerVariableVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new ServerVariable,this.specPath=always(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}}let ServerBindingsVisitor$1=class extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new ServerBindings,this.specPath=always(["document","objects","ServerBindings"]),this.canSupportSpecificationExtensions=!0}};class SecuritySchemeVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SecurityScheme,this.specPath=always(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}}class SecurityRequirementVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new SecurityRequirement,this.specPath=always(["value"])}}let ReferenceVisitor$1=class extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Reference$2,this.specPath=always(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const s=FixedFieldsVisitor$2.prototype.ObjectElement.call(this,e);return isStringElement(this.element.$ref)&&this.element.classes.push("reference-element"),s}},$RefVisitor$2=class extends FallbackVisitor$2{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}},SchemaVisitor$2=class extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.specPath=always(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return this.element=new Schema,FixedFieldsVisitor$2.prototype.ObjectElement.call(this,e)}BooleanElement(e){const s=super.enter(e);return this.element.classes.push("boolean-json-schema"),s}};const JSONSchemaOrJSONReferenceVisitor=specification$3.visitors.JSONSchemaOrJSONReferenceVisitor;class SchemaOrReferenceVisitor extends JSONSchemaOrJSONReferenceVisitor{enter(e){const s=JSONSchemaOrJSONReferenceVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}}const JSONSchemaAllOfVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.allOf;class AllOfVisitor extends JSONSchemaAllOfVisitor{ArrayElement(e){const s=JSONSchemaAllOfVisitor.prototype.ArrayElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const JSONSchemaAnyOfVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.anyOf;class AnyOfVisitor extends JSONSchemaAnyOfVisitor{ArrayElement(e){const s=JSONSchemaAnyOfVisitor.prototype.ArrayElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const JSONSchemaOneOfVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.oneOf;class OneOfVisitor extends JSONSchemaOneOfVisitor{ArrayElement(e){const s=JSONSchemaOneOfVisitor.prototype.ArrayElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const JSONSchemaDefinitionsVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.definitions;class DefinitionsVisitor extends JSONSchemaDefinitionsVisitor{ObjectElement(e){const s=JSONSchemaDefinitionsVisitor.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const JSONSchemaDependenciesVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.dependencies;class DependenciesVisitor extends JSONSchemaDependenciesVisitor{ObjectElement(e){const s=JSONSchemaDependenciesVisitor.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const JSONSchemaItemsVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.items;class ItemsVisitor extends JSONSchemaItemsVisitor{ObjectElement(e){const s=JSONSchemaItemsVisitor.prototype.ObjectElement.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}ArrayElement(e){const s=JSONSchemaItemsVisitor.prototype.ArrayElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const JSONSchemaPatternPropertiesVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.patternProperties;class PatternPropertiesVisitor extends JSONSchemaPatternPropertiesVisitor{ObjectElement(e){const s=JSONSchemaPatternPropertiesVisitor.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const JSONSchemaPropertiesVisitor=specification$3.visitors.document.objects.JSONSchema.fixedFields.properties;class PropertiesVisitor extends JSONSchemaPropertiesVisitor{ObjectElement(e){const s=JSONSchemaPropertiesVisitor.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}const inheritedFixedFields=map(t=>t===specification$3.visitors.JSONSchemaOrJSONReferenceVisitor?SchemaOrReferenceVisitor:t,specification$3.visitors.document.objects.JSONSchema.fixedFields);let ParametersVisitor$3=class extends Mixin(PatternedFieldsVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new Parameters,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","Parameter"],this.canSupportSpecificationExtensions=!1,this.fieldPatternPredicate=s=>typeof s=="string"&&/^[A-Za-z0-9_-]+$/.test(s)}ObjectElement(e){const s=PatternedFieldsVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","parameter")}),s}},ParameterVisitor$1=class extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Parameter$1,this.specPath=always(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}},SchemaVisitor$1=class extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}};class ExternalDocumentationVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new ExternalDocumentation,this.specPath=always(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}}let ComponentsVisitor$1=class extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Components$1,this.specPath=always(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}};class SchemasVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsSchemas,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","schema")}),s}}let ServersVisitor$1=class extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsServers,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","Server"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","server")}),s}};class ServerVariablesVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsServerVariables,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","ServerVariable"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","serverVariable")}),s}}class ComponentsChannels extends ObjectElement{static primaryClass="components-channels";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsChannels.primaryClass)}}let ChannelsVisitor$1=class extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsChannels,this.specPath=always(["document","objects","ChannelItem"])}};class MessagesVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsMessages,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","Message"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","message")}),s}}class SecuritySchemesVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsSecuritySchemes,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","securityScheme")}),s}}let ParametersVisitor$2=class extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsParameters$1,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","parameter")}),s}};class CorrelationIdsVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsCorrelationIDs,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","CorrelationID"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","correlationID")}),s}}class OperationTraitsVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsOperationTraits,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","OperationTrait"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","operationTrait")}),s}}class MessageTraitsVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsMessageTraits,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","MessageTrait"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","messageTrait")}),s}}class ServerBindingsVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsServerBindings,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","ServerBindings"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","serverBindings")}),s}}let ChannelBindingsVisitor$1=class extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsChannelBindings,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","ChannelBindings"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","channelBindings")}),s}},OperationBindingsVisitor$1=class extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsOperationBindings,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","OperationBindings"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","operationBindings")}),s}},MessageBindingsVisitor$1=class extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new ComponentsMessageBindings,this.specPath=s=>isReferenceLikeElement$1(s)?["document","objects","Reference"]:["document","objects","MessageBindings"]}ObjectElement(e){const s=MapVisitor$1.prototype.ObjectElement.call(this,e);return this.element.filter(isReferenceElement$1).forEach(r=>{r.setMetaProperty("referenced-element","messageBindings")}),s}};class OperationVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Operation,this.specPath=always(["document","objects","Operation"])}}let SecurityVisitor$1=class extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new OperationSecurity}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","SecurityRequirement"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}},BindingsVisitor$4=class extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","OperationBindings"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","operationBindings"),s}},TraitsVisitor$1=class extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new OperationTraits}ArrayElement(e){return e.forEach(s=>{let r;isReferenceLikeElement$1(s)?(r=this.toRefractedElement(["document","objects","Reference"],s),r.setMetaProperty("referenced-element","operationTrait")):r=this.toRefractedElement(["document","objects","OperationTrait"],s),this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}},MessageVisitor$1=class extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){ObjectElement(e){if(isReferenceLikeElement$1(e))this.element=this.toRefractedElement(["document","objects","Reference"],e),this.element.setMetaProperty("referenced-element","message");else if(isArrayElement(e.get("oneOf"))){this.element=new OperationMessageMap;const s=new OperationMessage;e.get("oneOf").forEach(r=>{let n;isReferenceLikeElement$1(r)?(n=this.toRefractedElement(["document","objects","Reference"],r),n.setMetaProperty("referenced-element","message")):n=this.toRefractedElement(["document","objects","Message"],r),s.push(n)}),this.element.oneOf=s}else this.element=this.toRefractedElement(["document","objects","Message"],e);return this.copyMetaAndAttributes(e,this.element),BREAK}};class TagsVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Tags}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","Tag"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class TagVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Tag,this.specPath=always(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}}class ChannelsVisitor extends Mixin(MapVisitor$1,FallbackVisitor$2){constructor(e){super(e),this.element=new Channels,this.specPath=always(["document","objects","ChannelItem"])}}class ChannelBindingsVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new ChannelBindings,this.specPath=always(["document","objects","ChannelBindings"]),this.canSupportSpecificationExtensions=!0}}class ChannelItemVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new ChannelItem,this.specPath=always(["document","objects","ChannelItem"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=FixedFieldsVisitor$2.prototype.ObjectElement.call(this,e);return isStringElement(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","channelItem")),s}}let $RefVisitor$1=class extends FallbackVisitor$2{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}};class ServersVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new ChannelItemServers}ArrayElement(e){return e.forEach(s=>{const r=cloneDeep(s);isStringElement(r)&&r.classes.push("server-name"),this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}}let BindingsVisitor$3=class extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","ChannelBindings"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","channelBindings"),s}};class MessageBindingsVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MessageBindings,this.specPath=always(["document","objects","MessageBindings"]),this.canSupportSpecificationExtensions=!0}}class MessageExampleVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MessageExample,this.specPath=always(["document","objects","MessageExample"]),this.canSupportSpecificationExtensions=!0}}class MessageTraitVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MessageTrait,this.specPath=always(["document","objects","MessageTrait"]),this.canSupportSpecificationExtensions=!0}}class DefaultVisitor extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}}let CorrelationIdVisitor$1=class extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","CorrelationID"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","correlationID"),s}},BindingsVisitor$2=class extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","MessageBindings"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","messageBindings"),s}},ExamplesVisitor$1=class extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MessageTraitExamples}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","MessageExample"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}};class MessageVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Message,this.specPath=always(["document","objects","Message"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const s=FixedFieldsVisitor$2.prototype.ObjectElement.call(this,e),r=this.element.get("payload"),n=defaultTo(mediaTypes$2.latest(),serializer(e.get("schemaFormat")));if(mediaTypes$2.includes(n)&&isReferenceLikeElement$1(r)){const o=this.toRefractedElement(["document","objects","Reference"],r);o.meta.set("referenced-element","schema"),this.element.payload=o}else mediaTypes$2.includes(n)&&isObjectElement(this.element.payload)&&(this.element.payload=this.toRefractedElement(["document","objects","Schema"],r));return s}}class HeadersVisitor extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","Schema"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","schema"),s}}class CorrelationIdVisitor extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","CorrelationID"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","correlationID"),s}}let BindingsVisitor$1=class extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","MessageBindings"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","messageBindings"),s}};class ExamplesVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MessageExamples}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","MessageExample"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class TraitsVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MessageTraits}ArrayElement(e){return e.forEach(s=>{let r;isReferenceLikeElement$1(s)?(r=this.toRefractedElement(["document","objects","Reference"],s),r.setMetaProperty("referenced-element","messageTrait")):r=this.toRefractedElement(["document","objects","MessageTrait"],s),this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class OperationBindingsVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new OperationBindings,this.specPath=always(["document","objects","OperationBindings"]),this.canSupportSpecificationExtensions=!0}}class OperationTraitVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new OperationTrait,this.specPath=always(["document","objects","OperationTrait"]),this.canSupportSpecificationExtensions=!0}}class SecurityVisitor extends Mixin(SpecificationVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new OperationTraitSecurity}ArrayElement(e){return e.forEach(s=>{const r=this.toRefractedElement(["document","objects","SecurityRequirement"],s);this.element.push(r)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class BindingsVisitor extends Mixin(AlternatingVisitor,FallbackVisitor$2){constructor(e){super(e),this.alternator=[{predicate:isReferenceLikeElement$1,specPath:["document","objects","Reference"]},{predicate:T,specPath:["document","objects","OperationBindings"]}]}ObjectElement(e){const s=AlternatingVisitor.prototype.enter.call(this,e);return isReferenceElement$1(this.element)&&this.element.setMetaProperty("referenced-element","operationBindings"),s}}class AmqpChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AmqpChannelBinding,this.specPath=always(["document","objects","bindings","amqp","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class AmqpMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AmqpMessageBinding,this.specPath=always(["document","objects","bindings","amqp","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class AmqpOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AmqpOperationBinding,this.specPath=always(["document","objects","bindings","amqp","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class AmqpServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AmqpServerBinding,this.specPath=always(["document","objects","bindings","amqp","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class Amqp1ChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Amqp1ChannelBinding,this.specPath=always(["document","objects","bindings","amqp1","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class Amqp1MessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Amqp1MessageBinding,this.specPath=always(["document","objects","bindings","amqp1","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class Amqp1OperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Amqp1OperationBinding,this.specPath=always(["document","objects","bindings","amqp1","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class Amqp1ServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Amqp1ServerBinding,this.specPath=always(["document","objects","bindings","amqp1","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class AnypointmqChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AnypointmqChannelBinding,this.specPath=always(["document","objects","bindings","anypointmq","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class AnypointmqMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AnypointmqMessageBinding,this.specPath=always(["document","objects","bindings","anypointmq","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class AnypointmqOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AnypointmqOperationBinding,this.specPath=always(["document","objects","bindings","anypointmq","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class AnypointmqServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new AnypointmqServerBinding,this.specPath=always(["document","objects","bindings","anypointmq","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class HttpChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new HttpChannelBinding,this.specPath=always(["document","objects","bindings","http","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class HttpMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new HttpMessageBinding,this.specPath=always(["document","objects","bindings","http","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class HttpOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new HttpOperationBinding,this.specPath=always(["document","objects","bindings","http","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class HttpServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new HttpServerBinding,this.specPath=always(["document","objects","bindings","http","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class GooglepubsubChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new GooglepubsubChannelBinding,this.specPath=always(["document","objects","bindings","googlepubsub","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class GooglepubsubMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new GooglepubsubMessageBinding,this.specPath=always(["document","objects","bindings","googlepubusb","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class GooglepubsubOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new GooglepubsubOperationBinding,this.specPath=always(["document","objects","bindings","googlepubsub","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class GooglepubsubServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new GooglepubsubServerBinding,this.specPath=always(["document","objects","bindings","googlepubsub","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class IbmmqChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new IbmmqChannelBinding,this.specPath=always(["document","objects","bindings","ibmmq","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class IbmmqMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new IbmmqMessageBinding,this.specPath=always(["document","objects","bindings","ibmmq","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class IbmmqOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new IbmmqOperationBinding,this.specPath=always(["document","objects","bindings","ibmmq","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class IbmmqServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new IbmmqServerBinding,this.specPath=always(["document","objects","bindings","ibmmq","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class JmsChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new JmsChannelBinding,this.specPath=always(["document","objects","bindings","jms","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class JmsMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new JmsMessageBinding,this.specPath=always(["document","objects","bindings","jms","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class JmsOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new JmsOperationBinding,this.specPath=always(["document","objects","bindings","jms","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class JmsServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new JmsServerBinding,this.specPath=always(["document","objects","bindings","jms","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class KafkaChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new KafkaChannelBinding,this.specPath=always(["document","objects","bindings","kafka","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class KafkaMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new KafkaMessageBinding,this.specPath=always(["document","objects","bindings","kafka","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class KafkaOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new KafkaOperationBinding,this.specPath=always(["document","objects","bindings","kafka","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class KafkaServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new KafkaServerBinding,this.specPath=always(["document","objects","bindings","kafka","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class MercureChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MercureChannelBinding,this.specPath=always(["document","objects","bindings","mercure","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class MercureMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MercureMessageBinding,this.specPath=always(["document","objects","bindings","mercure","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class MercureOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MercureOperationBinding,this.specPath=always(["document","objects","bindings","mercure","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class MercureServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MercureServerBinding,this.specPath=always(["document","objects","bindings","mercure","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class MqttChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MqttChannelBinding,this.specPath=always(["document","objects","bindings","mqtt","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class MqttMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MqttMessageBinding,this.specPath=always(["document","objects","bindings","mqtt","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class MqttOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MqttOperationBinding,this.specPath=always(["document","objects","bindings","mqtt","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class MqttServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new MqttServerBinding,this.specPath=always(["document","objects","bindings","mqtt","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class Mqtt5ChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Mqtt5ChannelBinding,this.specPath=always(["document","objects","bindings","mqtt5","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class Mqtt5MessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Mqtt5MessageBinding,this.specPath=always(["document","objects","bindings","mqtt5","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class Mqtt5OperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Mqtt5OperationBinding,this.specPath=always(["document","objects","bindings","mqtt5","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class Mqtt5ServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new Mqtt5ServerBinding,this.specPath=always(["document","objects","bindings","mqtt5","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class NatsChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new NatsChannelBinding,this.specPath=always(["document","objects","bindings","nats","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class NatsMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new NatsMessageBinding,this.specPath=always(["document","objects","bindings","nats","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class NatsOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new NatsOperationBinding,this.specPath=always(["document","objects","bindings","nats","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class NatsServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new NatsServerBinding,this.specPath=always(["document","objects","bindings","nats","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class PulsarChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new PulsarChannelBinding,this.specPath=always(["document","objects","bindings","pulsar","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class PulsarMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new PulsarMessageBinding,this.specPath=always(["document","objects","bindings","pulsar","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class PulsarOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new PulsarOperationBinding,this.specPath=always(["document","objects","bindings","pulsar","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class PulsarServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new PulsarServerBinding,this.specPath=always(["document","objects","bindings","pulsar","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class RedisChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new RedisChannelBinding,this.specPath=always(["document","objects","bindings","redis","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class RedisMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new RedisMessageBinding,this.specPath=always(["document","objects","bindings","redis","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class RedisOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new RedisOperationBinding,this.specPath=always(["document","objects","bindings","redis","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class RedisServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new RedisServerBinding,this.specPath=always(["document","objects","bindings","redis","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class SnsChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SnsChannelBinding,this.specPath=always(["document","objects","bindings","sns","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class SnsMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SnsMessageBinding,this.specPath=always(["document","objects","bindings","sns","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class SnsOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SnsOperationBinding,this.specPath=always(["document","objects","bindings","sns","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class SnsServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SnsServerBinding,this.specPath=always(["document","objects","bindings","sns","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class SolaceChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SolaceChannelBinding,this.specPath=always(["document","objects","bindings","solace","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class SolaceMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SolaceMessageBinding,this.specPath=always(["document","objects","bindings","solace","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class SolaceOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SolaceOperationBinding,this.specPath=always(["document","objects","bindings","solace","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class SolaceServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SolaceServerBinding,this.specPath=always(["document","objects","bindings","solace","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class SqsChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SqsChannelBinding,this.specPath=always(["document","objects","bindings","sqs","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class SqsMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SqsMessageBinding,this.specPath=always(["document","objects","bindings","sqs","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class SqsOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SqsOperationBinding,this.specPath=always(["document","objects","bindings","sqs","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class SqsServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new SqsServerBinding,this.specPath=always(["document","objects","bindings","sqs","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class StompChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new StompChannelBinding,this.specPath=always(["document","objects","bindings","stomp","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class StompMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new StompMessageBinding,this.specPath=always(["document","objects","bindings","stomp","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class StompOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new StompOperationBinding,this.specPath=always(["document","objects","bindings","stomp","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class StompServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new StompServerBinding,this.specPath=always(["document","objects","bindings","stomp","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}class WebSocketChannelBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new WebSocketChannelBinding,this.specPath=always(["document","objects","bindings","ws","ChannelBinding"]),this.canSupportSpecificationExtensions=!1}}class WebSocketMessageBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new WebSocketMessageBinding,this.specPath=always(["document","objects","bindings","ws","MessageBinding"]),this.canSupportSpecificationExtensions=!1}}class WebSocketOperationBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new WebSocketOperationBinding,this.specPath=always(["document","objects","bindings","ws","OperationBinding"]),this.canSupportSpecificationExtensions=!1}}class WebSocketServerBindingVisitor extends Mixin(FixedFieldsVisitor$2,FallbackVisitor$2){constructor(e){super(e),this.element=new WebSocketServerBinding,this.specPath=always(["document","objects","bindings","ws","ServerBinding"]),this.canSupportSpecificationExtensions=!1}}const ReferenceSpecification={$visitor:ReferenceVisitor$1,fixedFields:{$ref:$RefVisitor$2}},SchemaSpecification={$visitor:SchemaVisitor$2,fixedFields:{...inheritedFixedFields,allOf:AllOfVisitor,anyOf:AnyOfVisitor,oneOf:OneOfVisitor,items:ItemsVisitor,properties:PropertiesVisitor,patternProperties:PatternPropertiesVisitor,dependencies:DependenciesVisitor,definitions:DefinitionsVisitor,discriminator:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},deprecated:{$ref:"#/visitors/value"}}},specification$2={visitors:{value:FallbackVisitor$2,document:{objects:{AsyncApi:{$visitor:AsyncApi2Visitor,fixedFields:{asyncapi:{$ref:"#/visitors/document/objects/AsyncApiVersion"},id:{$ref:"#/visitors/document/objects/Identifier"},info:{$ref:"#/visitors/document/objects/Info"},servers:{$ref:"#/visitors/document/objects/Servers"},defaultContentType:{$ref:"#/visitors/document/objects/DefaultContentType"},channels:{$ref:"#/visitors/document/objects/Channels"},components:{$ref:"#/visitors/document/objects/Components"},tags:{$ref:"#/visitors/document/objects/Tags"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},AsyncApiVersion:{$visitor:AsyncApiVersionVisitor},Identifier:{$visitor:IdentifierVisitor},Info:{$visitor:InfoVisitor$2,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},version:VersionVisitor$1,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"}}},Contact:{$visitor:ContactVisitor,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:LicenseVisitor,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Servers:{$visitor:ServersVisitor$2},Server:{$visitor:ServerVisitor,fixedFields:{url:UrlVisitor$1,protocol:{$ref:"#/visitors/value"},protocolVersion:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},variables:VariablesVisitor,security:SecurityVisitor$2,tags:{$ref:"#/visitors/document/objects/Tags"},bindings:BindingsVisitor$5}},ServerVariable:{$visitor:ServerVariableVisitor,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},examples:{$ref:"#/visitors/value"}}},DefaultContentType:{$visitor:DefaultContentTypeVisitor},Channels:{$visitor:ChannelsVisitor},ChannelItem:{$visitor:ChannelItemVisitor,fixedFields:{$ref:$RefVisitor$1,description:{$ref:"#/visitors/value"},servers:ServersVisitor,subscribe:{$ref:"#/visitors/document/objects/Operation"},publish:{$ref:"#/visitors/document/objects/Operation"},parameters:{$ref:"#/visitors/document/objects/Parameters"},bindings:BindingsVisitor$3}},Operation:{$visitor:OperationVisitor,fixedFields:{operationId:{$ref:"#/visitors/value"},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},security:SecurityVisitor$1,tags:{$ref:"#/visitors/document/objects/Tags"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},bindings:BindingsVisitor$4,traits:TraitsVisitor$1,message:MessageVisitor$1}},OperationTrait:{$visitor:OperationTraitVisitor,fixedFields:{operationId:{$ref:"#/visitors/value"},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},security:SecurityVisitor,tags:{$ref:"#/visitors/document/objects/Tags"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},bindings:BindingsVisitor}},Message:{$visitor:MessageVisitor,fixedFields:{messageId:{$ref:"#/visitors/value"},headers:HeadersVisitor,payload:{$ref:"#/visitors/value"},correlationId:CorrelationIdVisitor,schemaFormat:{$ref:"#/visitors/value"},contentType:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},tags:{$ref:"#/visitors/document/objects/Tags"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},bindings:BindingsVisitor$1,examples:ExamplesVisitor,traits:TraitsVisitor}},MessageTrait:{$visitor:MessageTraitVisitor,fixedFields:{messageId:{$ref:"#/visitors/value"},headers:DefaultVisitor,correlationId:CorrelationIdVisitor$1,schemaFormat:{$ref:"#/visitors/value"},contentType:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},tags:{$ref:"#/visitors/document/objects/Tags"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},bindings:BindingsVisitor$2,examples:ExamplesVisitor$1}},MessageExample:{$visitor:MessageExampleVisitor,fixedFields:{headers:{$ref:"#/visitors/value"},payload:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},summary:{$ref:"#/visitors/value"}}},Tags:{$visitor:TagsVisitor},Tag:{$visitor:TagVisitor,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},ExternalDocumentation:{$visitor:ExternalDocumentationVisitor,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Components:{$visitor:ComponentsVisitor$1,fixedFields:{schemas:SchemasVisitor,servers:ServersVisitor$1,serverVariables:ServerVariablesVisitor,channels:ChannelsVisitor$1,messages:MessagesVisitor,securitySchemes:SecuritySchemesVisitor,parameters:ParametersVisitor$2,correlationIds:CorrelationIdsVisitor,operationTraits:OperationTraitsVisitor,messageTraits:MessageTraitsVisitor,serverBindings:ServerBindingsVisitor,channelBindings:ChannelBindingsVisitor$1,operationBindings:OperationBindingsVisitor$1,messageBindings:MessageBindingsVisitor$1}},JSONReference:ReferenceSpecification,Reference:ReferenceSpecification,JSONSchema:SchemaSpecification,Schema:SchemaSpecification,LinkDescription:specification$3.visitors.document.objects.LinkDescription,SecurityScheme:{$visitor:SecuritySchemeVisitor,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},SecurityRequirement:{$visitor:SecurityRequirementVisitor},OAuthFlows:{$visitor:OAuthFlowsVisitor,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:OAuthFlowVisitor,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:ScopesVisitor}},ServerBindings:{$visitor:ServerBindingsVisitor$1,fixedFields:{http:{$ref:"#/visitors/document/objects/bindings/http/ServerBinding"},ws:{$ref:"#/visitors/document/objects/bindings/ws/ServerBinding"},kafka:{$ref:"#/visitors/document/objects/bindings/kafka/ServerBinding"},anypointmq:{$ref:"#/visitors/document/objects/bindings/anypointmq/ServerBinding"},amqp:{$ref:"#/visitors/document/objects/bindings/amqp/ServerBinding"},amqp1:{$ref:"#/visitors/document/objects/bindings/amqp1/ServerBinding"},mqtt:{$ref:"#/visitors/document/objects/bindings/mqtt/ServerBinding"},mqtt5:{$ref:"#/visitors/document/objects/bindings/mqtt5/ServerBinding"},nats:{$ref:"#/visitors/document/objects/bindings/nats/ServerBinding"},jms:{$ref:"#/visitors/document/objects/bindings/jms/ServerBinding"},sns:{$ref:"#/visitors/document/objects/bindings/sns/ServerBinding"},solace:{$ref:"#/visitors/document/objects/bindings/solace/ServerBinding"},sqs:{$ref:"#/visitors/document/objects/bindings/sqs/ServerBinding"},stomp:{$ref:"#/visitors/document/objects/bindings/stomp/ServerBinding"},redis:{$ref:"#/visitors/document/objects/bindings/redis/ServerBinding"},mercure:{$ref:"#/visitors/document/objects/bindings/mercure/ServerBinding"},ibmmq:{$ref:"#/visitors/document/objects/bindings/ibmmq/ServerBinding"},googlepubsub:{$ref:"#/visitors/document/objects/bindings/googlepubsub/ServerBinding"},pulsar:{$ref:"#/visitors/document/objects/bindings/pulsar/ServerBinding"}}},Parameters:{$visitor:ParametersVisitor$3},Parameter:{$visitor:ParameterVisitor$1,fixedFields:{description:{$ref:"#/visitors/value"},schema:SchemaVisitor$1,location:{$ref:"#/visitors/value"}}},ChannelBindings:{$visitor:ChannelBindingsVisitor,fixedFields:{http:{$ref:"#/visitors/document/objects/bindings/http/ChannelBinding"},ws:{$ref:"#/visitors/document/objects/bindings/ws/ChannelBinding"},kafka:{$ref:"#/visitors/document/objects/bindings/kafka/ChannelBinding"},anypointmq:{$ref:"#/visitors/document/objects/bindings/anypointmq/ChannelBinding"},amqp:{$ref:"#/visitors/document/objects/bindings/amqp/ChannelBinding"},amqp1:{$ref:"#/visitors/document/objects/bindings/amqp1/ChannelBinding"},mqtt:{$ref:"#/visitors/document/objects/bindings/mqtt/ChannelBinding"},mqtt5:{$ref:"#/visitors/document/objects/bindings/mqtt5/ChannelBinding"},nats:{$ref:"#/visitors/document/objects/bindings/nats/ChannelBinding"},jms:{$ref:"#/visitors/document/objects/bindings/jms/ChannelBinding"},sns:{$ref:"#/visitors/document/objects/bindings/sns/ChannelBinding"},solace:{$ref:"#/visitors/document/objects/bindings/solace/ChannelBinding"},sqs:{$ref:"#/visitors/document/objects/bindings/sqs/ChannelBinding"},stomp:{$ref:"#/visitors/document/objects/bindings/stomp/ChannelBinding"},redis:{$ref:"#/visitors/document/objects/bindings/redis/ChannelBinding"},mercure:{$ref:"#/visitors/document/objects/bindings/mercure/ChannelBinding"},ibmmq:{$ref:"#/visitors/document/objects/bindings/ibmmq/ChannelBinding"},googlepubsub:{$ref:"#/visitors/document/objects/bindings/googlepubsub/ChannelBinding"},pulsar:{$ref:"#/visitors/document/objects/bindings/pulsar/ChannelBinding"}}},OperationBindings:{$visitor:OperationBindingsVisitor,fixedFields:{http:{$ref:"#/visitors/document/objects/bindings/http/OperationBinding"},ws:{$ref:"#/visitors/document/objects/bindings/ws/OperationBinding"},kafka:{$ref:"#/visitors/document/objects/bindings/kafka/OperationBinding"},anypointmq:{$ref:"#/visitors/document/objects/bindings/anypointmq/OperationBinding"},amqp:{$ref:"#/visitors/document/objects/bindings/amqp/OperationBinding"},amqp1:{$ref:"#/visitors/document/objects/bindings/amqp1/OperationBinding"},mqtt:{$ref:"#/visitors/document/objects/bindings/mqtt/OperationBinding"},mqtt5:{$ref:"#/visitors/document/objects/bindings/mqtt5/OperationBinding"},nats:{$ref:"#/visitors/document/objects/bindings/nats/OperationBinding"},jms:{$ref:"#/visitors/document/objects/bindings/jms/OperationBinding"},sns:{$ref:"#/visitors/document/objects/bindings/sns/OperationBinding"},solace:{$ref:"#/visitors/document/objects/bindings/solace/OperationBinding"},sqs:{$ref:"#/visitors/document/objects/bindings/sqs/OperationBinding"},stomp:{$ref:"#/visitors/document/objects/bindings/stomp/OperationBinding"},redis:{$ref:"#/visitors/document/objects/bindings/redis/OperationBinding"},mercure:{$ref:"#/visitors/document/objects/bindings/mercure/OperationBinding"},googlepubsub:{$ref:"#/visitors/document/objects/bindings/googlepubsub/OperationBinding"},ibmmq:{$ref:"#/visitors/document/objects/bindings/ibmmq/OperationBinding"},pulsar:{$ref:"#/visitors/document/objects/bindings/pulsar/OperationBinding"}}},MessageBindings:{$visitor:MessageBindingsVisitor,fixedFields:{http:{$ref:"#/visitors/document/objects/bindings/http/MessageBinding"},ws:{$ref:"#/visitors/document/objects/bindings/ws/MessageBinding"},kafka:{$ref:"#/visitors/document/objects/bindings/kafka/MessageBinding"},anypointmq:{$ref:"#/visitors/document/objects/bindings/anypointmq/MessageBinding"},amqp:{$ref:"#/visitors/document/objects/bindings/amqp/MessageBinding"},amqp1:{$ref:"#/visitors/document/objects/bindings/amqp1/MessageBinding"},mqtt:{$ref:"#/visitors/document/objects/bindings/mqtt/MessageBinding"},mqtt5:{$ref:"#/visitors/document/objects/bindings/mqtt5/MessageBinding"},nats:{$ref:"#/visitors/document/objects/bindings/nats/MessageBinding"},jms:{$ref:"#/visitors/document/objects/bindings/jms/MessageBinding"},sns:{$ref:"#/visitors/document/objects/bindings/sns/MessageBinding"},solace:{$ref:"#/visitors/document/objects/bindings/solace/MessageBinding"},sqs:{$ref:"#/visitors/document/objects/bindings/sqs/MessageBinding"},stomp:{$ref:"#/visitors/document/objects/bindings/stomp/MessageBinding"},redis:{$ref:"#/visitors/document/objects/bindings/redis/MessageBinding"},mercure:{$ref:"#/visitors/document/objects/bindings/mercure/MessageBinding"},ibmmq:{$ref:"#/visitors/document/objects/bindings/ibmmq/MessageBinding"},googlepubsub:{$ref:"#/visitors/document/objects/bindings/googlepubsub/MessageBinding"},pulsar:{$ref:"#/visitors/document/objects/bindings/pulsar/MessageBinding"}}},CorrelationID:{$visitor:CorrelationIDVisitor,fixedFields:{description:{$ref:"#/visitors/value"},location:{$ref:"#/visitors/value"}}},bindings:{http:{ServerBinding:{$visitor:HttpServerBindingVisitor},ChannelBinding:{$visitor:HttpChannelBindingVisitor},OperationBinding:{$visitor:HttpOperationBindingVisitor,fixedFields:{type:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},query:SchemaOrReferenceVisitor,bindingVersion:{$ref:"#/visitors/value"}}},MessageBinding:{$visitor:HttpMessageBindingVisitor,fixedFields:{headers:SchemaOrReferenceVisitor,bindingVersion:{$ref:"#/visitors/value"}}}},ws:{ServerBinding:{$visitor:WebSocketServerBindingVisitor},ChannelBinding:{$visitor:WebSocketChannelBindingVisitor,fixedFields:{method:{$ref:"#/visitors/value"},query:SchemaOrReferenceVisitor,headers:SchemaOrReferenceVisitor,bindingVersion:{$ref:"#/visitors/value"}}},OperationBinding:{$visitor:WebSocketOperationBindingVisitor},MessageBinding:{$visitor:WebSocketMessageBindingVisitor}},kafka:{ServerBinding:{$visitor:KafkaServerBindingVisitor,fixedFields:{schemaRegistryUrl:{$ref:"#/visitors/value"},schemaRegistryVendor:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},ChannelBinding:{$visitor:KafkaChannelBindingVisitor,fixedFields:{topic:{$ref:"#/visitors/value"},partitions:{$ref:"#/visitors/value"},replicas:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},OperationBinding:{$visitor:KafkaOperationBindingVisitor,fixedFields:{groupId:SchemaOrReferenceVisitor,clientId:SchemaOrReferenceVisitor,bindingVersion:{$ref:"#/visitors/value"}}},MessageBinding:{$visitor:KafkaMessageBindingVisitor,fixedFields:{key:SchemaOrReferenceVisitor,schemaIdLocation:{$ref:"#/visitors/value"},schemaIdPayloadEncoding:{$ref:"#/visitors/value"},schemaLookupStrategy:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}}},anypointmq:{ServerBinding:{$visitor:AnypointmqServerBindingVisitor},ChannelBinding:{$visitor:AnypointmqChannelBindingVisitor,fixedFields:{destination:{$ref:"#/visitors/value"},destinationType:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},OperationBinding:{$visitor:AnypointmqOperationBindingVisitor},MessageBinding:{$visitor:AnypointmqMessageBindingVisitor,fixedFields:{headers:SchemaOrReferenceVisitor,bindingVersion:{$ref:"#/visitors/value"}}}},amqp:{ServerBinding:{$visitor:AmqpServerBindingVisitor},ChannelBinding:{$visitor:AmqpChannelBindingVisitor,fixedFields:{is:{$ref:"#/visitors/value"},exchange:{$ref:"#/visitors/value"},queue:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},OperationBinding:{$visitor:AmqpOperationBindingVisitor,fixedFields:{expiration:{$ref:"#/visitors/value"},userId:{$ref:"#/visitors/value"},cc:{$ref:"#/visitors/value"},priority:{$ref:"#/visitors/value"},deliveryMode:{$ref:"#/visitors/value"},mandatory:{$ref:"#/visitors/value"},bcc:{$ref:"#/visitors/value"},replyTo:{$ref:"#/visitors/value"},timestamp:{$ref:"#/visitors/value"},ack:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},MessageBinding:{$visitor:AmqpMessageBindingVisitor,fixedFields:{contentEncoding:{$ref:"#/visitors/value"},messageType:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}}},amqp1:{ServerBinding:{$visitor:Amqp1ServerBindingVisitor},ChannelBinding:{$visitor:Amqp1ChannelBindingVisitor},OperationBinding:{$visitor:Amqp1OperationBindingVisitor},MessageBinding:{$visitor:Amqp1MessageBindingVisitor}},mqtt:{ServerBinding:{$visitor:MqttServerBindingVisitor,fixedFields:{clientId:{$ref:"#/visitors/value"},cleanSession:{$ref:"#/visitors/value"},lastWill:{$ref:"#/visitors/value"},keepAlive:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},ChannelBinding:{$visitor:MqttChannelBindingVisitor},OperationBinding:{$visitor:MqttOperationBindingVisitor,fixedFields:{qos:{$ref:"#/visitors/value"},retain:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},MessageBinding:{$visitor:MqttMessageBindingVisitor,fixedFields:{bindingVersion:{$ref:"#/visitors/value"}}}},mqtt5:{ServerBinding:{$visitor:Mqtt5ServerBindingVisitor},ChannelBinding:{$visitor:Mqtt5ChannelBindingVisitor},OperationBinding:{$visitor:Mqtt5OperationBindingVisitor},MessageBinding:{$visitor:Mqtt5MessageBindingVisitor}},nats:{ServerBinding:{$visitor:NatsServerBindingVisitor},ChannelBinding:{$visitor:NatsChannelBindingVisitor},OperationBinding:{$visitor:NatsOperationBindingVisitor,fixedFields:{queue:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},MessageBinding:{$visitor:NatsMessageBindingVisitor}},pulsar:{ServerBinding:{$visitor:PulsarServerBindingVisitor,fixedFields:{tenant:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},ChannelBinding:{$visitor:PulsarChannelBindingVisitor,fixedFields:{namespace:{$ref:"#/visitors/value"},persistence:{$ref:"#/visitors/value"},compaction:{$ref:"#/visitors/value"},"geo-replication":{$ref:"#/visitors/value"},retention:{$ref:"#/visitors/value"},ttl:{$ref:"#/visitors/value"},deduplication:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},OperationBinding:{$visitor:PulsarOperationBindingVisitor},MessageBinding:{$visitor:PulsarMessageBindingVisitor}},jms:{ServerBinding:{$visitor:JmsServerBindingVisitor},ChannelBinding:{$visitor:JmsChannelBindingVisitor},OperationBinding:{$visitor:JmsOperationBindingVisitor},MessageBinding:{$visitor:JmsMessageBindingVisitor}},sns:{ServerBinding:{$visitor:SnsServerBindingVisitor},ChannelBinding:{$visitor:SnsChannelBindingVisitor},OperationBinding:{$visitor:SnsOperationBindingVisitor},MessageBinding:{$visitor:SnsMessageBindingVisitor}},solace:{ServerBinding:{$visitor:SolaceServerBindingVisitor,fixedFields:{bindingVersion:{$ref:"#/visitors/value"},msgVpn:{$ref:"#/visitors/value"}}},ChannelBinding:{$visitor:SolaceChannelBindingVisitor},OperationBinding:{$visitor:SolaceOperationBindingVisitor,fixedFields:{bindingVersion:{$ref:"#/visitors/value"},destinations:{$ref:"#/visitors/value"}}},MessageBinding:{$visitor:SolaceMessageBindingVisitor}},sqs:{ServerBinding:{$visitor:SqsServerBindingVisitor},ChannelBinding:{$visitor:SqsChannelBindingVisitor},OperationBinding:{$visitor:SqsOperationBindingVisitor},MessageBinding:{$visitor:SqsMessageBindingVisitor}},stomp:{ServerBinding:{$visitor:StompServerBindingVisitor},ChannelBinding:{$visitor:StompChannelBindingVisitor},OperationBinding:{$visitor:StompOperationBindingVisitor},MessageBinding:{$visitor:StompMessageBindingVisitor}},redis:{ServerBinding:{$visitor:RedisServerBindingVisitor},ChannelBinding:{$visitor:RedisChannelBindingVisitor},OperationBinding:{$visitor:RedisOperationBindingVisitor},MessageBinding:{$visitor:RedisMessageBindingVisitor}},mercure:{ServerBinding:{$visitor:MercureServerBindingVisitor},ChannelBinding:{$visitor:MercureChannelBindingVisitor},OperationBinding:{$visitor:MercureOperationBindingVisitor},MessageBinding:{$visitor:MercureMessageBindingVisitor}},googlepubsub:{ServerBinding:{$visitor:GooglepubsubServerBindingVisitor},ChannelBinding:{$visitor:GooglepubsubChannelBindingVisitor,fixedFields:{bindingVersion:{$ref:"#/visitors/value"},labels:{$ref:"#/visitors/value"},messageRetentionDuration:{$ref:"#/visitors/value"},messageStoragePolicy:{$ref:"#/visitors/value"},schemaSettings:{$ref:"#/visitors/value"},topic:{$ref:"#/visitors/value"}}},OperationBinding:{$visitor:GooglepubsubOperationBindingVisitor},MessageBinding:{$visitor:GooglepubsubMessageBindingVisitor,fixedFields:{bindingVersion:{$ref:"#/visitors/value"},attributes:{$ref:"#/visitors/value"},orderingKey:{$ref:"#/visitors/value"},schema:{$ref:"#/visitors/value"}}}},ibmmq:{ServerBinding:{$visitor:IbmmqServerBindingVisitor,fixedFields:{groupId:{$ref:"#/visitors/value"},ccdtQueueManagerName:{$ref:"#/visitors/value"},cipherSpec:{$ref:"#/visitors/value"},multiEndpointServer:{$ref:"#/visitors/value"},heartBeatInterval:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},ChannelBinding:{$visitor:IbmmqChannelBindingVisitor,fixedFields:{destinationType:{$ref:"#/visitors/value"},queue:{$ref:"#/visitors/value"},topic:{$ref:"#/visitors/value"},maxMsgLength:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},MessageBinding:{$visitor:IbmmqMessageBindingVisitor,fixedFields:{type:{$ref:"#/visitors/value"},headers:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},expiry:{$ref:"#/visitors/value"},bindingVersion:{$ref:"#/visitors/value"}}},OperationBinding:{$visitor:IbmmqOperationBindingVisitor}}}},extension:{$visitor:SpecificationExtensionVisitor$1}}}},createToolbox$2=()=>{const t=createNamespace(asyncApi2);return{predicates:{...asyncApi2Predicates,isStringElement},namespace:t}},refract$2=(t,{specPath:e=["visitors","document","objects","AsyncApi","$visitor"],plugins:s=[]}={})=>{const r=refract$9(t),n=dereference(specification$2),o=path$4(e,n),a=new o({specObj:n});return visit$1(r,a),dispatchPluginsSync(a.element,s,{toolboxCreator:createToolbox$2,visitorOptions:{keyMap:keyMap$2,nodeTypeGetter:getNodeType$2}})},createRefractor$2=t=>(e,s={})=>refract$2(e,{...s,specPath:t});AsyncApi2.refract=createRefractor$2(["visitors","document","objects","AsyncApi","$visitor"]),AsyncApiVersion.refract=createRefractor$2(["visitors","document","objects","AsyncApiVersion","$visitor"]),ChannelBindings.refract=createRefractor$2(["visitors","document","objects","ChannelBindings","$visitor"]),ChannelItem.refract=createRefractor$2(["visitors","document","objects","ChannelItem","$visitor"]),Channels.refract=createRefractor$2(["visitors","document","objects","Channels","$visitor"]),Components$1.refract=createRefractor$2(["visitors","document","objects","Components","$visitor"]),Contact.refract=createRefractor$2(["visitors","document","objects","Contact","$visitor"]),CorrelationID.refract=createRefractor$2(["visitors","document","objects","CorrelationID","$visitor"]),DefaultContentType.refract=createRefractor$2(["visitors","document","objects","DefaultContentType","$visitor"]),ExternalDocumentation.refract=createRefractor$2(["visitors","document","objects","ExternalDocumentation","$visitor"]),Identifier.refract=createRefractor$2(["visitors","document","objects","Identifier","$visitor"]),Info$2.refract=createRefractor$2(["visitors","document","objects","Info","$visitor"]),License.refract=createRefractor$2(["visitors","document","objects","License","$visitor"]),Message.refract=createRefractor$2(["visitors","document","objects","Message","$visitor"]),MessageBindings.refract=createRefractor$2(["visitors","document","objects","MessageBindings","$visitor"]),MessageExample.refract=createRefractor$2(["visitors","document","objects","MessageExample","$visitor"]),MessageTrait.refract=createRefractor$2(["visitors","document","objects","MessageTrait","$visitor"]),OAuthFlow.refract=createRefractor$2(["visitors","document","objects","OAuthFlow","$visitor"]),OAuthFlows.refract=createRefractor$2(["visitors","document","objects","OAuthFlows","$visitor"]),Operation.refract=createRefractor$2(["visitors","document","objects","Operation","$visitor"]),OperationBindings.refract=createRefractor$2(["visitors","document","objects","OperationBindings","$visitor"]),OperationTrait.refract=createRefractor$2(["visitors","document","objects","OperationTrait","$visitor"]),Parameter$1.refract=createRefractor$2(["visitors","document","objects","Parameter","$visitor"]),Parameters.refract=createRefractor$2(["visitors","document","objects","Parameters","$visitor"]),Reference$2.refract=createRefractor$2(["visitors","document","objects","Reference","$visitor"]),Schema.refract=createRefractor$2(["visitors","document","objects","Schema","$visitor"]),SecurityRequirement.refract=createRefractor$2(["visitors","document","objects","SecurityRequirement","$visitor"]),SecurityScheme.refract=createRefractor$2(["visitors","document","objects","SecurityScheme","$visitor"]),Server.refract=createRefractor$2(["visitors","document","objects","Server","$visitor"]),ServerBindings.refract=createRefractor$2(["visitors","document","objects","ServerBindings","$visitor"]),Servers.refract=createRefractor$2(["visitors","document","objects","Servers","$visitor"]),ServerVariable.refract=createRefractor$2(["visitors","document","objects","ServerVariable","$visitor"]),Tag.refract=createRefractor$2(["visitors","document","objects","Tag","$visitor"]),Tags.refract=createRefractor$2(["visitors","document","objects","Tags","$visitor"]),AmqpChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp","ChannelBinding","$visitor"]),AmqpMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp","MessageBinding","$visitor"]),AmqpOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp","OperationBinding","$visitor"]),AmqpServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp","ServerBinding","$visitor"]),Amqp1ChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp1","ChannelBinding","$visitor"]),Amqp1MessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp1","MessageBinding","$visitor"]),Amqp1OperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp1","OperationBinding","$visitor"]),Amqp1ServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","amqp1","ServerBinding","$visitor"]),HttpChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","http","ChannelBinding","$visitor"]),HttpMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","http","MessageBinding","$visitor"]),HttpOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","http","OperationBinding","$visitor"]),HttpServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","http","ServerBinding","$visitor"]),GooglepubsubChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","googlepubsub","ChannelBinding","$visitor"]),GooglepubsubMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","googlepubsub","MessageBinding","$visitor"]),GooglepubsubOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","googlepubsub","OperationBinding","$visitor"]),GooglepubsubServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","googlepubsub","ServerBinding","$visitor"]),IbmmqChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ibmmq","ChannelBinding","$visitor"]),IbmmqMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ibmmq","MessageBinding","$visitor"]),IbmmqOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ibmmq","OperationBinding","$visitor"]),IbmmqServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ibmmq","ServerBinding","$visitor"]),JmsChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","jms","ChannelBinding","$visitor"]),JmsMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","jms","MessageBinding","$visitor"]),JmsOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","jms","OperationBinding","$visitor"]),JmsServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","jms","ServerBinding","$visitor"]),KafkaChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","kafka","ChannelBinding","$visitor"]),KafkaMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","kafka","MessageBinding","$visitor"]),KafkaOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","kafka","OperationBinding","$visitor"]),KafkaServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","kafka","ServerBinding","$visitor"]),AnypointmqChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","anypointmq","ChannelBinding","$visitor"]),AnypointmqMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","anypointmq","MessageBinding","$visitor"]),AnypointmqOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","anypointmq","OperationBinding","$visitor"]),AnypointmqServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","anypointmq","ServerBinding","$visitor"]),MercureChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mercure","ChannelBinding","$visitor"]),MercureMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mercure","MessageBinding","$visitor"]),MercureOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mercure","OperationBinding","$visitor"]),MercureServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mercure","ServerBinding","$visitor"]),MqttChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt","ChannelBinding","$visitor"]),MqttMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt","MessageBinding","$visitor"]),MqttOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt","OperationBinding","$visitor"]),MqttServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt","ServerBinding","$visitor"]),Mqtt5ChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt5","ChannelBinding","$visitor"]),Mqtt5MessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt5","MessageBinding","$visitor"]),Mqtt5OperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt5","OperationBinding","$visitor"]),Mqtt5ServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","mqtt5","ServerBinding","$visitor"]),NatsChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","nats","ChannelBinding","$visitor"]),NatsMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","nats","MessageBinding","$visitor"]),NatsOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","nats","OperationBinding","$visitor"]),NatsServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","nats","ServerBinding","$visitor"]),PulsarChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","pulsar","ChannelBinding","$visitor"]),PulsarMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","pulsar","MessageBinding","$visitor"]),PulsarOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","pulsar","OperationBinding","$visitor"]),PulsarServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","pulsar","ServerBinding","$visitor"]),RedisChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","redis","ChannelBinding","$visitor"]),RedisMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","redis","MessageBinding","$visitor"]),RedisOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","redis","OperationBinding","$visitor"]),RedisServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","redis","ServerBinding","$visitor"]),SnsChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sns","ChannelBinding","$visitor"]),SnsMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sns","MessageBinding","$visitor"]),SnsOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sns","OperationBinding","$visitor"]),SnsServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sns","ServerBinding","$visitor"]),SolaceChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","solace","ChannelBinding","$visitor"]),SolaceMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","solace","MessageBinding","$visitor"]),SolaceOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","solace","OperationBinding","$visitor"]),SolaceServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","solace","ServerBinding","$visitor"]),SqsChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sqs","ChannelBinding","$visitor"]),SqsMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sqs","MessageBinding","$visitor"]),SqsOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sqs","OperationBinding","$visitor"]),SqsServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","sqs","ServerBinding","$visitor"]),StompChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","stomp","ChannelBinding","$visitor"]),StompMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","stomp","MessageBinding","$visitor"]),StompOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","stomp","OperationBinding","$visitor"]),StompServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","stomp","ServerBinding","$visitor"]),WebSocketChannelBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ws","ChannelBinding","$visitor"]),WebSocketMessageBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ws","MessageBinding","$visitor"]),WebSocketOperationBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ws","OperationBinding","$visitor"]),WebSocketServerBinding.refract=createRefractor$2(["visitors","document","objects","bindings","ws","ServerBinding","$visitor"]);const jsonMediaTypes$2=new AsyncAPIMediaTypes(...mediaTypes$2.filterByFormat("generic"),...mediaTypes$2.filterByFormat("json")),detectionRegExp$5=/"asyncapi"\s*:\s*"(?<version_json>2\.(?:[1-9]\d*|0)\.(?:[1-9]\d*|0))"/,detect$5=async t=>detectionRegExp$5.test(t)&&await detect$d(t),parse$7=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$g(t,r),{result:o}=n;if(isNotUndefined(o)){const a=AsyncApi2.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$3=createNamespace(asyncApi2);var asyncapi2AdapterJson=Object.freeze({__proto__:null,detect:detect$5,detectionRegExp:detectionRegExp$5,mediaTypes:jsonMediaTypes$2,namespace:namespace$3,parse:parse$7});const yamlMediaTypes$2=new AsyncAPIMediaTypes(...mediaTypes$2.filterByFormat("generic"),...mediaTypes$2.filterByFormat("yaml")),detectionRegExp$4=/(?<YAML>^(["']?)asyncapi\2\s*:\s*(["']?)(?<version_yaml>2\.(?:[1-9]\d*|0)\.(?:[1-9]\d*|0))\3(?:\s+|$))|(?<JSON>"asyncapi"\s*:\s*"(?<version_json>2\.(?:[1-9]\d*|0)\.(?:[1-9]\d*|0))")/m,detect$4=async t=>detectionRegExp$4.test(t)&&await detect$c(t),parse$6=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$f(t,r),{result:o}=n;if(isNotUndefined(o)){const a=AsyncApi2.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$2=createNamespace(asyncApi2);var asyncapi2AdapterYaml=Object.freeze({__proto__:null,detect:detect$4,detectionRegExp:detectionRegExp$4,mediaTypes:yamlMediaTypes$2,namespace:namespace$2,parse:parse$6});class WorkflowsMediaTypes extends MediaTypes{filterByFormat(e="generic"){const s=e==="generic"?"workflows;version":e;return this.filter(r=>r.includes(s))}findBy(e="1.0.0",s="generic"){const r=s==="generic"?`vnd.oai.workflows;version=${e}`:`vnd.oai.workflows+${s};version=${e}`;return this.find(o=>o.includes(r))||this.unknownMediaType}latest(e="generic"){return last(this.filterByFormat(e))}}const mediaTypes$1=new WorkflowsMediaTypes("application/vnd.oai.workflows;version=1.0.0","application/vnd.oai.workflows+json;version=1.0.0","application/vnd.oai.workflows+yaml;version=1.0.0");class WorkflowsSpecification1 extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="workflowsSpecification1",this.classes.push("api"),this.classes.push("workflow")}get workflowsSpec(){return this.get("workflowsSpec")}set workflowsSpec(e){this.set("workflowsSpec",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get sourceDescriptions(){return this.get("sourceDescriptions")}set sourceDescriptions(e){this.set("sourceDescriptions",e)}get workflows(){return this.get("workflows")}set workflows(e){this.set("workflows",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}}class WorkflowsSpec extends StringElement{constructor(e,s,r){super(e,s,r),this.element="workflowsSpec",this.classes.push("spec-version"),this.classes.push("version")}}let Info$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}};class SourceDescription extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="sourceDescription"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}class Workflow extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="workflow"}get workflowId(){return this.get("workflowId")}set workflowId(e){this.set("workflowId",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get inputs(){return this.get("inputs")}set inputs(e){this.set("inputs",e)}get steps(){return this.get("steps")}set steps(e){this.set("steps",e)}get outputs(){return this.get("outputs")}set outputs(e){this.set("outputs",e)}}class Step extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="step"}get description(){return this.get("description")}set description(e){this.set("description",e)}get stepId(){return this.get("stepId")}set stepId(e){this.set("stepId",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get workflowId(){return this.get("workflowId")}set workflowId(e){this.set("workflowId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get dependsOn(){return this.get("dependsOn")}set dependsOn(e){this.set("dependsOn",e)}get successCriteria(){return this.get("successCriteria")}set successCriteria(e){this.set("successCriteria",e)}get onSuccess(){return this.get("onSuccess")}set onSuccess(e){this.set("onSuccess",e)}get onFailure(){return this.get("onFailure")}set onFailure(e){this.set("onFailure",e)}get outputs(){return this.get("outputs")}set outputs(e){this.set("outputs",e)}}class Parameter extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get target(){return this.get("target")}set target(e){this.set("target",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}}class SuccessAction extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="successAction"}get type(){return this.get("type")}set type(e){this.set("type",e)}get workflowId(){return this.get("workflowId")}set workflowId(e){this.set("workflowId",e)}get stepId(){return this.get("stepId")}set stepId(e){this.set("stepId",e)}get criteria(){return this.get("criteria")}set criteria(e){this.set("criteria",e)}}class FailureAction extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="failureAction"}get type(){return this.get("type")}set type(e){this.set("type",e)}get workflowId(){return this.get("workflowId")}set workflowId(e){this.set("workflowId",e)}get stepId(){return this.get("stepId")}set stepId(e){this.set("stepId",e)}get retryAfter(){return this.get("retryAfter")}set retryAfter(e){this.set("retryAfter",e)}get retryLimit(){return this.get("retryLimit")}set retryLimit(e){this.set("retryLimit",e)}get criteria(){return this.get("criteria")}set criteria(e){this.set("criteria",e)}}class Components extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="components"}get inputs(){return this.get("inputs")}set inputs(e){this.set("inputs",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}}class Criterion extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="criterion"}get context(){return this.get("context")}set context(e){this.set("context",e)}get condition(){return this.get("condition")}set condition(e){this.set("condition",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}let Reference$1=class extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="reference",this.classes.push("workflows-spec-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}};class JSONSchema extends Schema$1{constructor(e,s,r){super(e,s,r),this.element="jSONSchemaDraft202012"}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}const workflows1={namespace:t=>{const{base:e}=t;return e.register("workflowsSpecification1",WorkflowsSpecification1),e.register("workflowsSpec",WorkflowsSpec),e.register("info",Info$1),e.register("sourceDescription",SourceDescription),e.register("workflow",Workflow),e.register("step",Step),e.register("parameter",Parameter),e.register("successAction",SuccessAction),e.register("failureAction",FailureAction),e.register("components",Components),e.register("criterion",Criterion),e.register("reference",Reference$1),e.register("jSONSchemaDraft202012",JSONSchema),e}},getNodeType$1=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap$1={WorkflowsSpecification1Element:["content"],InfoElement:["content"],SourceDescriptionElement:["content"],WorkflowElement:["content"],StepElement:["content"],ParameterElement:["content"],SuccessActionElement:["content"],FailureActionElement:["content"],ComponentsElement:["content"],CriterionElement:["content"],ReferenceElement:["content"],JSONSchemaDraft202012Element:["content"],...keyMapDefault$1};let Visitor$1=class{element;constructor(e={}){Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=deepmerge(s.meta,e.meta),hasElementSourceMap(e)&&s.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=deepmerge(s.attributes,e.attributes))}},FallbackVisitor$1=class extends Visitor$1{enter(e){return this.element=cloneDeep(e),BREAK}},SpecificationVisitor$1=class extends Visitor$1{specObj;passingOptionsNames=["specObj"];constructor({specObj:e,...s}){super({...s}),this.specObj=e}retrievePassingOptions(){return pick(this.passingOptionsNames,this)}retrieveFixedFields(e){const s=path$4(["visitors",...e,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(e){return pathSatisfies(isFunction$4,["visitors",...e],this.specObj)?path$4(["visitors",...e],this.specObj):path$4(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,s={}){const r=this.retrievePassingOptions(),n=this.retrieveVisitor(e),o={...r,...s};return new n(o)}toRefractedElement(e,s,r={}){const n=this.retrieveVisitorInstance(e,r);return n instanceof FallbackVisitor$1&&n?.constructor===FallbackVisitor$1?cloneDeep(s):(visit$1(s,n,r),n.element)}};const isWorkflowsSpecificationExtension=t=>isStringElement(t.key)&&startsWith("x-",serializer(t.key)),isReferenceLikeElement=t=>isObjectElement(t)&&t.hasKey("$ref");var refractorPredicates=Object.freeze({__proto__:null,isReferenceLikeElement,isWorkflowsSpecificationExtension});let FixedFieldsVisitor$1=class extends SpecificationVisitor$1{specPath;ignoredFields=[];canSupportSpecificationExtensions=!0;specificationExtensionPredicate=isWorkflowsSpecificationExtension;constructor({specPath:e,ignoredFields:s,canSupportSpecificationExtensions:r,specificationExtensionPredicate:n,...o}){super({...o}),this.specPath=e,this.ignoredFields=s||[],typeof r=="boolean"&&(this.canSupportSpecificationExtensions=r),typeof n=="function"&&(this.specificationExtensionPredicate=n)}ObjectElement(e){const s=this.specPath(e),r=this.retrieveFixedFields(s);return e.forEach((n,o,a)=>{if(isStringElement(o)&&r.includes(serializer(o))&&!this.ignoredFields.includes(serializer(o))){const c=this.toRefractedElement([...s,"fixedFields",serializer(o)],n),u=new MemberElement(cloneDeep(o),c);this.copyMetaAndAttributes(a,u),u.classes.push("fixed-field"),this.element.content.push(u)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(a)){const c=this.toRefractedElement(["document","extension"],a);this.element.content.push(c)}else this.ignoredFields.includes(serializer(o))||this.element.content.push(cloneDeep(a))}),this.copyMetaAndAttributes(e,this.element),BREAK}};class WorkflowsSpecificationVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){element;specPath;canSupportSpecificationExtensions;constructor(e){super(e),this.element=new WorkflowsSpecification1,this.specPath=always(["document","objects","WorkflowsSpecification"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return FixedFieldsVisitor$1.prototype.ObjectElement.call(this,e)}}class WorkflowsSpecVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){StringElement(e){const s=new WorkflowsSpec(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}let InfoVisitor$1=class extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new Info$1,this.specPath=always(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}};class VersionVisitor extends FallbackVisitor$1{StringElement(e){const s=super.enter(e);return this.element.classes.push("workflow-version"),this.element.classes.push("version"),s}}class SourceDescriptionVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new SourceDescription,this.specPath=always(["document","objects","SourceDescription"]),this.canSupportSpecificationExtensions=!0}}class UrlVisitor extends FallbackVisitor$1{StringElement(e){const s=super.enter(e);return this.element.classes.push("source-description-url"),s}}class WorkflowVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new Workflow,this.specPath=always(["document","objects","Workflow"]),this.canSupportSpecificationExtensions=!0}}class WorkflowSteps extends ArrayElement{static primaryClass="workflow-steps";constructor(e,s,r){super(e,s,r),this.classes.push(WorkflowSteps.primaryClass)}}class StepsVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new WorkflowSteps}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Step"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class PatternedFieldsVisitor extends SpecificationVisitor$1{specPath;ignoredFields;fieldPatternPredicate=F;canSupportSpecificationExtensions=!1;specificationExtensionPredicate=isWorkflowsSpecificationExtension;constructor({specPath:e,ignoredFields:s,fieldPatternPredicate:r,canSupportSpecificationExtensions:n,specificationExtensionPredicate:o,...a}){super({...a}),this.specPath=e,this.ignoredFields=s||[],typeof r=="function"&&(this.fieldPatternPredicate=r),typeof n=="boolean"&&(this.canSupportSpecificationExtensions=n),typeof o=="function"&&(this.specificationExtensionPredicate=o)}ObjectElement(e){return e.forEach((s,r,n)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const o=this.toRefractedElement(["document","extension"],n);this.element.content.push(o)}else if(!this.ignoredFields.includes(serializer(r))&&this.fieldPatternPredicate(serializer(r))){const o=this.specPath(s),a=this.toRefractedElement(o,s),c=new MemberElement(cloneDeep(r),a);this.copyMetaAndAttributes(n,c),c.classes.push("patterned-field"),this.element.content.push(c)}else this.ignoredFields.includes(serializer(r))||this.element.content.push(cloneDeep(n))}),this.copyMetaAndAttributes(e,this.element),BREAK}}class MapVisitor extends PatternedFieldsVisitor{constructor(e){super(e),this.fieldPatternPredicate=isNonEmptyString}}class WorkflowOutputs extends ObjectElement{static primaryClass="workflow-outputs";constructor(e,s,r){super(e,s,r),this.classes.push(WorkflowOutputs.primaryClass)}}let OutputsVisitor$1=class extends Mixin(MapVisitor,FallbackVisitor$1){constructor(e){super(e),this.element=new WorkflowOutputs,this.specPath=always(["value"])}};class StepVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new Step,this.specPath=always(["document","objects","Step"]),this.canSupportSpecificationExtensions=!0}}class StepOutputs extends ObjectElement{static primaryClass="step-outputs";constructor(e,s,r){super(e,s,r),this.classes.push(StepOutputs.primaryClass)}}class OutputsVisitor extends Mixin(MapVisitor,FallbackVisitor$1){constructor(e){super(e),this.element=new StepOutputs,this.specPath=always(["value"])}}class Workflows extends ArrayElement{static primaryClass="workflows";constructor(e,s,r){super(e,s,r),this.classes.push(Workflows.primaryClass)}}class SourceDescriptions extends ArrayElement{static primaryClass="sourceDescriptions";constructor(e,s,r){super(e,s,r),this.classes.push(SourceDescriptions.primaryClass)}}class StepParameters extends ArrayElement{static primaryClass="step-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(StepParameters.primaryClass),this.classes.push("parameters")}}class StepDependsOn extends ArrayElement{static primaryClass="step-depends-on";constructor(e,s,r){super(e,s,r),this.classes.push(StepDependsOn.primaryClass)}}class StepSuccessCriteria extends ArrayElement{static primaryClass="step-success-criteria";constructor(e,s,r){super(e,s,r),this.classes.push(StepSuccessCriteria.primaryClass),this.classes.push("criteria")}}class StepOnSuccess extends ArrayElement{static primaryClass="step-on-success";constructor(e,s,r){super(e,s,r),this.classes.push(StepOnSuccess.primaryClass)}}class StepOnFailure extends ArrayElement{static primaryClass="step-on-failure";constructor(e,s,r){super(e,s,r),this.classes.push(StepOnFailure.primaryClass)}}class SuccessActionCriteria extends ArrayElement{static primaryClass="success-action-criteria";constructor(e,s,r){super(e,s,r),this.classes.push(SuccessActionCriteria.primaryClass),this.classes.push("criteria")}}class FailureActionCriteria extends ArrayElement{static primaryClass="failure-action-criteria";constructor(e,s,r){super(e,s,r),this.classes.push(FailureActionCriteria.primaryClass),this.classes.push("criteria")}}const isWorkflowsSpecElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof WorkflowsSpec||t(r)&&e("workflowsSpec",r)&&s("string",r)),isWorkflowsSpecification1Element=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof WorkflowsSpecification1||t(n)&&e("workflowsSpecification1",n)&&s("object",n)&&r("api",n)&&r("workflow",n)),isInfoElement$1=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof Info$1||t(n)&&e("info",n)&&s("object",n)&&r("info",n)),isSourceDescriptionElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SourceDescription||t(r)&&e("sourceDescription",r)&&s("object",r)),isSourceDescriptionsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof SourceDescriptions||t(n)&&e("sourceDescriptions",n)&&s("array",n)&&r("sourceDescriptions",n)),isWorkflowsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof Workflows||t(n)&&e("workflows",n)&&s("array",n)&&r("workflows",n)),isWorkflowStepsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof WorkflowSteps||t(n)&&e("array",n)&&s("array",n)&&r("workflow-steps",n)),isWorkflowOutputsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof WorkflowOutputs||t(n)&&e("array",n)&&s("array",n)&&r("workflow-outputs",n)),isWorkflowElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Workflow||t(r)&&e("workflow",r)&&s("object",r)),isStepOnSuccessElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof StepOnSuccess||t(n)&&e("array",n)&&s("array",n)&&r("step-on-success",n)),isStepOnFailureElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof StepOnFailure||t(n)&&e("array",n)&&s("array",n)&&r("step-on-failure",n)),isStepOutputsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof StepOutputs||t(n)&&e("array",n)&&s("array",n)&&r("step-outputs",n)),isStepElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Step||t(r)&&e("step",r)&&s("object",r)),isStepParametersElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof StepParameters||t(n)&&e("array",n)&&s("array",n)&&r("step-parameters",n)),isStepDependsOnElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof StepDependsOn||t(n)&&e("array",n)&&s("array",n)&&r("step-depends-on",n)),isStepSuccessCriteriaElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof StepSuccessCriteria||t(n)&&e("array",n)&&s("array",n)&&r("step-success-criteria",n)&&r("criteria",n)),isParameterElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Parameter||t(r)&&e("parameter",r)&&s("object",r)),isSuccessActionElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof SuccessAction||t(r)&&e("successAction",r)&&s("object",r)),isComponentsElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Components||t(r)&&e("components",r)&&s("object",r)),isCriterionElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Criterion||t(r)&&e("criterion",r)&&s("object",r)),isReferenceElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Reference$1||t(r)&&e("reference",r)&&s("object",r)),isSuccessActionCriteriaElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof SuccessActionCriteria||t(n)&&e("array",n)&&s("array",n)&&r("success-action-criteria",n)&&r("criteria",n)),isFailureActionElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof FailureAction||t(r)&&e("failureAction",r)&&s("object",r)),isFailureActionCriteriaElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s,hasClass:r})=>n=>n instanceof FailureActionCriteria||t(n)&&e("array",n)&&s("array",n)&&r("failure-action-criteria",n)&&r("criteria",n)),isJSONSchemaElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof JSONSchema||t(r)&&e("jSONSchemaDraft202012",r)&&s("object",r));var workflowsPredicates=Object.freeze({__proto__:null,isComponentsElement,isCriterionElement,isFailureActionCriteriaElement,isFailureActionElement,isInfoElement:isInfoElement$1,isJSONSchemaElement,isParameterElement,isReferenceElement,isSourceDescriptionElement,isSourceDescriptionsElement,isStepDependsOnElement,isStepElement,isStepOnFailureElement,isStepOnSuccessElement,isStepOutputsElement,isStepParametersElement,isStepSuccessCriteriaElement,isSuccessActionCriteriaElement,isSuccessActionElement,isWorkflowElement,isWorkflowOutputsElement,isWorkflowStepsElement,isWorkflowsElement,isWorkflowsSpecElement,isWorkflowsSpecification1Element});let ParametersVisitor$1=class extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new StepParameters}ArrayElement(e){return e.forEach(s=>{const r=isReferenceLikeElement(s)?["document","objects","Reference"]:["document","objects","Parameter"],n=this.toRefractedElement(r,s);isReferenceElement(n)&&n.setMetaProperty("referenced-element","parameter"),this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}};class DependsOnVisitor extends FallbackVisitor$1{constructor(e){super(e),this.element=new StepDependsOn}ArrayElement(e){return this.element=this.element.concat(cloneDeep(e)),BREAK}}class SuccessCriteriaVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new StepSuccessCriteria}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Criterion"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class OnSuccessVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new StepOnSuccess}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","SuccessAction"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class OnFailureVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new StepOnFailure}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","FailureAction"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class ParameterVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new Parameter,this.specPath=always(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}}class SourceDescriptionsVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){element;constructor(e){super(e),this.element=new SourceDescriptions}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","SourceDescription"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class WorkflowsVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){element;constructor(e){super(e),this.element=new Workflows}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Workflow"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class SuccessActionVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new SuccessAction,this.specPath=always(["document","objects","SuccessAction"]),this.canSupportSpecificationExtensions=!0}}class SuccessActionCriteriaVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){element;constructor(e){super(e),this.element=new SuccessActionCriteria}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Criterion"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class FailureActionVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new FailureAction,this.specPath=always(["document","objects","FailureAction"]),this.canSupportSpecificationExtensions=!0}}class FailureActionCriteriaVisitor extends Mixin(SpecificationVisitor$1,FallbackVisitor$1){element;constructor(e){super(e),this.element=new FailureActionCriteria}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Criterion"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class ComponentsVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new Components,this.specPath=always(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}}class ComponentsInputs extends ObjectElement{static primaryClass="components-inputs";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsInputs.primaryClass)}}class InputsVisitor extends Mixin(MapVisitor,FallbackVisitor$1){constructor(e){super(e),this.element=new ComponentsInputs,this.specPath=always(["document","objects","JSONSchema"])}}class ComponentsParameters extends ObjectElement{static primaryClass="components-parameters";constructor(e,s,r){super(e,s,r),this.classes.push(ComponentsParameters.primaryClass)}}class ParametersVisitor extends Mixin(MapVisitor,FallbackVisitor$1){constructor(e){super(e),this.element=new ComponentsParameters,this.specPath=always(["document","objects","Parameter"])}}class CriterionVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new Criterion,this.specPath=always(["document","objects","Criterion"]),this.canSupportSpecificationExtensions=!0}}class ReferenceVisitor extends Mixin(FixedFieldsVisitor$1,FallbackVisitor$1){constructor(e){super(e),this.element=new Reference$1,this.specPath=always(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const s=FixedFieldsVisitor$1.prototype.ObjectElement.call(this,e);return isStringElement(this.element.$ref)&&this.element.classes.push("reference-element"),s}}class $RefVisitor extends FallbackVisitor$1{StringElement(e){const s=super.enter(e);return this.element.classes.push("reference-value"),s}}const SchemaVisitor=specification$5.visitors.document.objects.Schema.$visitor;class JSONSchemaVisitor extends SchemaVisitor{constructor(e){super(e),this.element=new JSONSchema,this.specPath=always(["document","objects","JSONSchema"]),this.canSupportSpecificationExtensions=!1,this.jsonSchemaDefaultDialect=new JsonSchemaDialect("https://json-schema.org/draft/2020-12/schema")}}class SpecificationExtensionVisitor extends SpecificationVisitor$1{MemberElement(e){return this.element=cloneDeep(e),this.element.classes.push("specification-extension"),BREAK}}const{fixedFields:schemaFixedFields}=specification$5.visitors.document.objects.Schema,jsonSchemaFixedFields=omit(["discriminator","xml","externalDocs","example"],schemaFixedFields),specification$1={visitors:{value:FallbackVisitor$1,document:{objects:{WorkflowsSpecification:{$visitor:WorkflowsSpecificationVisitor,fixedFields:{workflowSpec:WorkflowsSpecVisitor,info:{$ref:"#/visitors/document/objects/Info"},sourceDescriptions:SourceDescriptionsVisitor,workflows:WorkflowsVisitor,components:{$ref:"#/visitors/document/objects/Components"}}},Info:{$visitor:InfoVisitor$1,fixedFields:{title:{$ref:"#/visitors/value"},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},version:VersionVisitor}},SourceDescription:{$visitor:SourceDescriptionVisitor,fixedFields:{name:{$ref:"#/visitors/value"},url:UrlVisitor,type:{$ref:"#/visitors/value"}}},Workflow:{$visitor:WorkflowVisitor,fixedFields:{workflowId:{$ref:"#/visitors/value"},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},inputs:JSONSchemaVisitor,steps:StepsVisitor,outputs:OutputsVisitor$1}},Step:{$visitor:StepVisitor,fixedFields:{description:{$ref:"#/visitors/value"},stepId:{$ref:"#/visitors/value"},operationId:{$ref:"#/visitors/value"},operationRef:{$ref:"#/visitors/value"},workflowId:{$ref:"#/visitors/value"},parameters:ParametersVisitor$1,dependsOn:DependsOnVisitor,successCriteria:SuccessCriteriaVisitor,onSuccess:OnSuccessVisitor,onFailure:OnFailureVisitor,outputs:OutputsVisitor}},Parameter:{$visitor:ParameterVisitor,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},target:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"}}},SuccessAction:{$visitor:SuccessActionVisitor,fixedFields:{type:{$ref:"#/visitors/value"},workflowId:{$ref:"#/visitors/value"},stepId:{$ref:"#/visitors/value"},criteria:SuccessActionCriteriaVisitor}},FailureAction:{$visitor:FailureActionVisitor,fixedFields:{type:{$ref:"#/visitors/value"},workflowId:{$ref:"#/visitors/value"},stepId:{$ref:"#/visitors/value"},retryAfter:{$ref:"#/visitors/value"},retryLimit:{$ref:"#/visitors/value"},criteria:FailureActionCriteriaVisitor}},Components:{$visitor:ComponentsVisitor,fixedFields:{inputs:InputsVisitor,parameters:ParametersVisitor}},Criterion:{$visitor:CriterionVisitor,fixedFields:{context:{$ref:"#/visitors/value"},condition:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},Reference:{$visitor:ReferenceVisitor,fixedFields:{$ref:$RefVisitor,value:{$ref:"#/visitors/value"}}},Schema:{$visitor:JSONSchemaVisitor,fixedFields:jsonSchemaFixedFields},JSONSchema:{$visitor:JSONSchemaVisitor,fixedFields:jsonSchemaFixedFields}},extension:{$visitor:SpecificationExtensionVisitor}}}},createToolbox$1=()=>{const t=createNamespace(workflows1);return{predicates:{...refractorPredicates,...workflowsPredicates,isStringElement},namespace:t}},refract$1=(t,{specPath:e=["visitors","document","objects","WorkflowsSpecification","$visitor"],plugins:s=[]}={})=>{const r=refract$9(t),n=dereference(specification$1),o=path$4(e,n),a=new o({specObj:n});return visit$1(r,a),dispatchPluginsSync(a.element,s,{toolboxCreator:createToolbox$1,visitorOptions:{keyMap:keyMap$1,nodeTypeGetter:getNodeType$1}})},createRefractor$1=t=>(e,s={})=>refract$1(e,{specPath:t,...s});Info$1.refract=createRefractor$1(["visitors","document","objects","Info","$visitor"]),WorkflowsSpec.refract=createRefractor$1(["visitors","document","objects","WorkflowsSpecification","fixedFields","workflowsSpec"]),WorkflowsSpecification1.refract=createRefractor$1(["visitors","document","objects","WorkflowsSpecification","$visitor"]),SourceDescription.refract=createRefractor$1(["visitors","document","objects","SourceDescription","$visitor"]),Workflow.refract=createRefractor$1(["visitors","document","objects","Workflow","$visitor"]),Step.refract=createRefractor$1(["visitors","document","objects","Step","$visitor"]),Parameter.refract=createRefractor$1(["visitors","document","objects","Parameter","$visitor"]),SuccessAction.refract=createRefractor$1(["visitors","document","objects","SuccessAction","$visitor"]),FailureAction.refract=createRefractor$1(["visitors","document","objects","FailureAction","$visitor"]),Components.refract=createRefractor$1(["visitors","document","objects","Components","$visitor"]),Criterion.refract=createRefractor$1(["visitors","document","objects","Criterion","$visitor"]),Reference$1.refract=createRefractor$1(["visitors","document","objects","Reference","$visitor"]),JSONSchema.refract=createRefractor$1(["visitors","document","objects","JSONSchema","$visitor"]);const jsonMediaTypes$1=new WorkflowsMediaTypes(...mediaTypes$1.filterByFormat("generic"),...mediaTypes$1.filterByFormat("json")),detectionRegExp$3=/"workflowsSpec"\s*:\s*"(?<version_json>1\.(?:[1-9]\d*|0)\.(?:[1-9]\d*|0))"/,detect$3=async t=>detectionRegExp$3.test(t)&&await detect$d(t),parse$5=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$g(t,r),{result:o}=n;if(isNotUndefined(o)){const a=WorkflowsSpecification1.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace$1=createNamespace(workflows1);var workflows1AdapterJson=Object.freeze({__proto__:null,detect:detect$3,detectionRegExp:detectionRegExp$3,mediaTypes:jsonMediaTypes$1,namespace:namespace$1,parse:parse$5});const yamlMediaTypes$1=new WorkflowsMediaTypes(...mediaTypes$1.filterByFormat("generic"),...mediaTypes$1.filterByFormat("yaml")),detectionRegExp$2=/(?<YAML>^(["']?)workflowsSpec\2\s*:\s*(["']?)(?<version_yaml>1\.(?:[1-9]\d*|0)\.(?:[1-9]\d*|0))\3(?:\s+|$))|(?<JSON>"workflowsSpec"\s*:\s*"(?<version_json>1\.(?:[1-9]\d*|0)\.(?:[1-9]\d*|0))")/m,detect$2=async t=>detectionRegExp$2.test(t)&&await detect$c(t),parse$4=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$f(t,r),{result:o}=n;if(isNotUndefined(o)){const a=WorkflowsSpecification1.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n},namespace=createNamespace(workflows1);var workflows1AdapterYaml=Object.freeze({__proto__:null,detect:detect$2,detectionRegExp:detectionRegExp$2,mediaTypes:yamlMediaTypes$1,namespace,parse:parse$4});class Resolver{name;constructor({name:e}){this.name=e}}class ResolveError extends ApiDOMError{}class ResolverError extends ResolveError{}class FileResolver extends Resolver{constructor(){super({name:"file"})}canRead(){return!1}read(){throw new ResolverError("FileResolver is not intended to be used in browser context.")}}function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(t=>e=>{const s=toString.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject(t)&&isFunction(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),isArray(t))for(r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else{const o=s?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let c;for(r=0;r<a;r++)c=o[r],e.call(null,t[c],c,t)}}function findKey(t,e){e=e.toLowerCase();const s=Object.keys(t);let r=s.length,n;for(;r-- >0;)if(n=s[r],e===n.toLowerCase())return n;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge$1(){const{caseless:t}=isContextDefined(this)&&this||{},e={},s=(r,n)=>{const o=t&&findKey(e,n)||n;isPlainObject(e[o])&&isPlainObject(r)?e[o]=merge$1(e[o],r):isPlainObject(r)?e[o]=merge$1({},r):isArray(r)?e[o]=r.slice():e[o]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&forEach(arguments[r],s);return e}const extend=(t,e,s,{allOwnKeys:r}={})=>(forEach(e,(n,o)=>{s&&isFunction(n)?t[o]=bind(n,s):t[o]=n},{allOwnKeys:r}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},toFlatObject=(t,e,s,r)=>{let n,o,a;const c={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)a=n[o],(!r||r(a,t,e))&&!c[a]&&(e[a]=t[a],c[a]=!0);t=s!==!1&&getPrototypeOf(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},isTypedArray=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const o=n.value;e.call(t,o[0],o[1])}},matchAll=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),hasOwnProperty=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};forEach(s,(n,o)=>{let a;(a=e(n,o,t))!==!1&&(r[o]=a||n)}),Object.defineProperties(t,r)},freezeMethods=t=>{reduceDescriptors(t,(e,s)=>{if(isFunction(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(isFunction(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},toObjectSet=(t,e)=>{const s={},r=n=>{n.forEach(o=>{s[o]=!0})};return isArray(t)?r(t):r(String(t).split(e)),s},noop$1=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(t=16,e=ALPHABET.ALPHA_DIGIT)=>{let s="";const{length:r}=e;for(;t--;)s+=e[Math.random()*r|0];return s};function isSpecCompliantForm(t){return!!(t&&isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toJSONObject=t=>{const e=new Array(10),s=(r,n)=>{if(isObject(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[n]=r;const o=isArray(r)?[]:{};return forEach(r,(a,c)=>{const u=s(a,n+1);!isUndefined(u)&&(o[c]=u)}),e[n]=void 0,o}}return r};return s(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject(t)||isFunction(t))&&isFunction(t.then)&&isFunction(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((s,r)=>(_global.addEventListener("message",({source:n,data:o})=>{n===_global&&o===s&&r.length&&r.shift()()},!1),n=>{r.push(n),_global.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate;var utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(t,e,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function t(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}}),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype$1,"isAxiosError",{value:!0}),AxiosError.from=(t,e,s,r,n,o)=>{const a=Object.create(prototype$1);return utils$1.toFlatObject(t,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),AxiosError.call(a,t.message,e,s,r,n),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var httpAdapter=null;function isVisitable(t){return utils$1.isPlainObject(t)||utils$1.isArray(t)}function removeBrackets(t){return utils$1.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,s){return t?t.concat(e).map(function(n,o){return n=removeBrackets(n),!s&&o?"["+n+"]":n}).join(s?".":""):e}function isFlatArray(t){return utils$1.isArray(t)&&!t.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function t(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,s){if(!utils$1.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=utils$1.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(l,b){return!utils$1.isUndefined(b[l])});const r=s.metaTokens,n=s.visitor||d,o=s.dots,a=s.indexes,u=(s.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(n))throw new TypeError("visitor must be a function");function p(v){if(v===null)return"";if(utils$1.isDate(v))return v.toISOString();if(!u&&utils$1.isBlob(v))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(v)||utils$1.isTypedArray(v)?u&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function d(v,l,b){let E=v;if(v&&!b&&typeof v=="object"){if(utils$1.endsWith(l,"{}"))l=r?l:l.slice(0,-2),v=JSON.stringify(v);else if(utils$1.isArray(v)&&isFlatArray(v)||(utils$1.isFileList(v)||utils$1.endsWith(l,"[]"))&&(E=utils$1.toArray(v)))return l=removeBrackets(l),E.forEach(function(S,y){!(utils$1.isUndefined(S)||S===null)&&e.append(a===!0?renderKey([l],y,o):a===null?l:l+"[]",p(S))}),!1}return isVisitable(v)?!0:(e.append(renderKey(b,l,o),p(v)),!1)}const m=[],h=Object.assign(predicates,{defaultVisitor:d,convertValue:p,isVisitable});function g(v,l){if(!utils$1.isUndefined(v)){if(m.indexOf(v)!==-1)throw Error("Circular reference detected in "+l.join("."));m.push(v),utils$1.forEach(v,function(E,f){(!(utils$1.isUndefined(E)||E===null)&&n.call(e,E,utils$1.isString(f)?f.trim():f,l,h))===!0&&g(E,l?l.concat(f):[f])}),m.pop()}}if(!utils$1.isObject(t))throw new TypeError("data must be an object");return g(t),e}function encode$1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function t(e,s){this._pairs.push([e,s])},prototype.toString=function t(e){const s=e?function(r){return e.call(this,r,encode$1)}:encode$1;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function encode(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,s){if(!e)return t;const r=s&&s.encode||encode;utils$1.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let o;if(n?o=n(e,s):o=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,s).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(r){r!==null&&e(r)})}}var transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost";var utils=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin}),platform={...utils,...platform$1};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(s,r,n,o){return platform.isNode&&utils$1.isBuffer(s)?(this.append(r,s.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$1.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},s=Object.keys(t);let r;const n=s.length;let o;for(r=0;r<n;r++)o=s[r],e[o]=t[o];return e}function formDataToJSON(t){function e(s,r,n,o){let a=s[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),u=o>=s.length;return a=!a&&utils$1.isArray(n)?n.length:a,u?(utils$1.hasOwnProp(n,a)?n[a]=[n[a],r]:n[a]=r,!c):((!n[a]||!utils$1.isObject(n[a]))&&(n[a]=[]),e(s,r,n[a],o)&&utils$1.isArray(n[a])&&(n[a]=arrayToObject(n[a])),!c)}if(utils$1.isFormData(t)&&utils$1.isFunction(t.entries)){const s={};return utils$1.forEachEntry(t,(r,n)=>{e(parsePropPath(r),n,s,0)}),s}return null}function stringifySafely(t,e,s){if(utils$1.isString(t))try{return(e||JSON.parse)(t),utils$1.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function t(e,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,o=utils$1.isObject(e);if(o&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return n?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils$1.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return toFormData(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||n?(s.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function t(e){const s=this.transitional||defaults.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(r&&!this.responseType||n)){const a=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(c){if(a)throw c.name==="SyntaxError"?AxiosError.from(c,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function t(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=t=>{const e={};let s,r,n;return t&&t.split(`
`).forEach(function(a){n=a.indexOf(":"),s=a.substring(0,n).trim().toLowerCase(),r=a.substring(n+1).trim(),!(!s||e[s]&&ignoreDuplicateOf[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e};const $internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$1.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,s,r,n){if(utils$1.isFunction(r))return r.call(this,e,s);if(n&&(e=s),!!utils$1.isString(e)){if(utils$1.isString(r))return e.indexOf(r)!==-1;if(utils$1.isRegExp(r))return r.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function buildAccessors(t,e){const s=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(n,o,a){return this[r].call(this,e,n,o,a)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,s,r){const n=this;function o(c,u,p){const d=normalizeHeader(u);if(!d)throw new Error("header name must be a non-empty string");const m=utils$1.findKey(n,d);(!m||n[m]===void 0||p===!0||p===void 0&&n[m]!==!1)&&(n[m||u]=normalizeValue(c))}const a=(c,u)=>utils$1.forEach(c,(p,d)=>o(p,d,u));if(utils$1.isPlainObject(e)||e instanceof this.constructor)a(e,s);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))a(parseHeaders(e),s);else if(utils$1.isHeaders(e))for(const[c,u]of e.entries())o(u,c,r);else e!=null&&o(s,e,r);return this}get(e,s){if(e=normalizeHeader(e),e){const r=utils$1.findKey(this,e);if(r){const n=this[r];if(!s)return n;if(s===!0)return parseTokens(n);if(utils$1.isFunction(s))return s.call(this,n,r);if(utils$1.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=normalizeHeader(e),e){const r=utils$1.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||matchHeaderValue(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let n=!1;function o(a){if(a=normalizeHeader(a),a){const c=utils$1.findKey(r,a);c&&(!s||matchHeaderValue(r,r[c],c,s))&&(delete r[c],n=!0)}}return utils$1.isArray(e)?e.forEach(o):o(e),n}clear(e){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const o=s[r];(!e||matchHeaderValue(this,this[o],o,e,!0))&&(delete this[o],n=!0)}return n}normalize(e){const s=this,r={};return utils$1.forEach(this,(n,o)=>{const a=utils$1.findKey(r,o);if(a){s[a]=normalizeValue(n),delete s[o];return}const c=e?formatHeader(o):String(o).trim();c!==o&&delete s[o],s[c]=normalizeValue(n),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return utils$1.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=e&&utils$1.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,n=this.prototype;function o(a){const c=normalizeHeader(a);r[c]||(buildAccessors(n,a),r[c]=!0)}return utils$1.isArray(e)?e.forEach(o):o(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}}),utils$1.freezeMethods(AxiosHeaders);function transformData(t,e){const s=this||defaults,r=e||s,n=AxiosHeaders.from(r.headers);let o=r.data;return utils$1.forEach(t,function(c){o=c.call(s,o,n.normalize(),e?e.status:void 0)}),n.normalize(),o}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,s){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,s),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new AxiosError("Request failed with status code "+s.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const s=new Array(t),r=new Array(t);let n=0,o=0,a;return e=e!==void 0?e:1e3,function(u){const p=Date.now(),d=r[o];a||(a=p),s[n]=u,r[n]=p;let m=o,h=0;for(;m!==n;)h+=s[m++],m=m%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),p-a<e)return;const g=d&&p-d;return g?Math.round(h*1e3/g):void 0}}function throttle(t,e){let s=0,r=1e3/e,n,o;const a=(p,d=Date.now())=>{s=d,n=null,o&&(clearTimeout(o),o=null),t.apply(null,p)};return[(...p)=>{const d=Date.now(),m=d-s;m>=r?a(p,d):(n=p,o||(o=setTimeout(()=>{o=null,a(n)},r-m)))},()=>n&&a(n)]}const progressEventReducer=(t,e,s=3)=>{let r=0;const n=speedometer(50,250);return throttle(o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,u=a-r,p=n(u),d=a<=c;r=a;const m={loaded:a,total:c,progress:c?a/c:void 0,bytes:u,rate:p||void 0,estimated:p&&c&&d?(c-a)/p:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},s)},progressEventDecorator=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},asyncDecorator=t=>(...e)=>utils$1.asap(()=>t(...e));var isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,platform.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,s,r,n,o){const a=[t+"="+encodeURIComponent(e)];utils$1.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),utils$1.isString(r)&&a.push("path="+r),utils$1.isString(n)&&a.push("domain="+n),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e){return t&&!isAbsoluteURL(e)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders?{...t}:t;function mergeConfig(t,e){e=e||{};const s={};function r(p,d,m,h){return utils$1.isPlainObject(p)&&utils$1.isPlainObject(d)?utils$1.merge.call({caseless:h},p,d):utils$1.isPlainObject(d)?utils$1.merge({},d):utils$1.isArray(d)?d.slice():d}function n(p,d,m,h){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(p))return r(void 0,p,m,h)}else return r(p,d,m,h)}function o(p,d){if(!utils$1.isUndefined(d))return r(void 0,d)}function a(p,d){if(utils$1.isUndefined(d)){if(!utils$1.isUndefined(p))return r(void 0,p)}else return r(void 0,d)}function c(p,d,m){if(m in e)return r(p,d);if(m in t)return r(void 0,p)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,d,m)=>n(headersToObject(p),headersToObject(d),m,!0)};return utils$1.forEach(Object.keys(Object.assign({},t,e)),function(d){const m=u[d]||n,h=m(t[d],e[d],d);utils$1.isUndefined(h)&&m!==c||(s[d]=h)}),s}var resolveConfig=t=>{const e=mergeConfig({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:a,auth:c}=e;e.headers=a=AxiosHeaders.from(a),e.url=buildURL(buildFullPath(e.baseURL,e.url),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(utils$1.isFormData(s)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((u=a.getContentType())!==!1){const[p,...d]=u?u.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([p||"multipart/form-data",...d].join("; "))}}if(platform.hasStandardBrowserEnv&&(r&&utils$1.isFunction(r)&&(r=r(e)),r||r!==!1&&isURLSameOrigin(e.url))){const p=n&&o&&cookies.read(o);p&&a.set(n,p)}return e};const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(s,r){const n=resolveConfig(t);let o=n.data;const a=AxiosHeaders.from(n.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:p}=n,d,m,h,g,v;function l(){g&&g(),v&&v(),n.cancelToken&&n.cancelToken.unsubscribe(d),n.signal&&n.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(n.method.toUpperCase(),n.url,!0),b.timeout=n.timeout;function E(){if(!b)return;const S=AxiosHeaders.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!c||c==="text"||c==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:t,request:b};settle(function(x){s(x),l()},function(x){r(x),l()},_),b=null}"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(E)},b.onabort=function(){b&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const _=n.transitional||transitionalDefaults;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),r(new AxiosError(y,_.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,b)),b=null},o===void 0&&a.setContentType(null),"setRequestHeader"in b&&utils$1.forEach(a.toJSON(),function(y,_){b.setRequestHeader(_,y)}),utils$1.isUndefined(n.withCredentials)||(b.withCredentials=!!n.withCredentials),c&&c!=="json"&&(b.responseType=n.responseType),p&&([h,v]=progressEventReducer(p,!0),b.addEventListener("progress",h)),u&&b.upload&&([m,g]=progressEventReducer(u),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(d=S=>{b&&(r(!S||S.type?new CanceledError(null,t,b):S),b.abort(),b=null)},n.cancelToken&&n.cancelToken.subscribe(d),n.signal&&(n.signal.aborted?d():n.signal.addEventListener("abort",d)));const f=parseProtocol(n.url);if(f&&platform.protocols.indexOf(f)===-1){r(new AxiosError("Unsupported protocol "+f+":",AxiosError.ERR_BAD_REQUEST,t));return}b.send(o||null)})};const composeSignals=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,n;const o=function(p){if(!n){n=!0,c();const d=p instanceof Error?p:this.reason;r.abort(d instanceof AxiosError?d:new CanceledError(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,o(new AxiosError(`timeout ${e} of ms exceeded`,AxiosError.ETIMEDOUT))},e);const c=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),t=null)};t.forEach(p=>p.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>utils$1.asap(c),u}},streamChunk=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,n;for(;r<s;)n=r+e,yield t.slice(r,n),r=n},readBytes=async function*(t,e){for await(const s of readStream(t))yield*streamChunk(s,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},trackStream=(t,e,s,r)=>{const n=readBytes(t,e);let o=0,a,c=u=>{a||(a=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:p,value:d}=await n.next();if(p){c(),u.close();return}let m=d.byteLength;if(s){let h=o+=m;s(h)}u.enqueue(new Uint8Array(d))}catch(p){throw c(p),p}},cancel(u){return c(u),n.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let t=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(t=>t.body)};isFetchSupported&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(t[e])?s=>s[e]():(s,r)=>{throw new AxiosError(`Response type '${e}' is not supported`,AxiosError.ERR_NOT_SUPPORT,r)})})})(new Response);const getBodyLength=async t=>{if(t==null)return 0;if(utils$1.isBlob(t))return t.size;if(utils$1.isSpecCompliantForm(t))return(await new Request(platform.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(t)||utils$1.isArrayBuffer(t))return t.byteLength;if(utils$1.isURLSearchParams(t)&&(t=t+""),utils$1.isString(t))return(await encodeText(t)).byteLength},resolveBodyLength=async(t,e)=>{const s=utils$1.toFiniteNumber(t.getContentLength());return s??getBodyLength(e)};var fetchAdapter=isFetchSupported&&(async t=>{let{url:e,method:s,data:r,signal:n,cancelToken:o,timeout:a,onDownloadProgress:c,onUploadProgress:u,responseType:p,headers:d,withCredentials:m="same-origin",fetchOptions:h}=resolveConfig(t);p=p?(p+"").toLowerCase():"text";let g=composeSignals([n,o&&o.toAbortSignal()],a),v;const l=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let b;try{if(u&&supportsRequestStream&&s!=="get"&&s!=="head"&&(b=await resolveBodyLength(d,r))!==0){let _=new Request(e,{method:"POST",body:r,duplex:"half"}),w;if(utils$1.isFormData(r)&&(w=_.headers.get("content-type"))&&d.setContentType(w),_.body){const[x,A]=progressEventDecorator(b,progressEventReducer(asyncDecorator(u)));r=trackStream(_.body,DEFAULT_CHUNK_SIZE,x,A)}}utils$1.isString(m)||(m=m?"include":"omit");const E="credentials"in Request.prototype;v=new Request(e,{...h,signal:g,method:s.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:E?m:void 0});let f=await fetch(v);const S=supportsResponseStream&&(p==="stream"||p==="response");if(supportsResponseStream&&(c||S&&l)){const _={};["status","statusText","headers"].forEach(V=>{_[V]=f[V]});const w=utils$1.toFiniteNumber(f.headers.get("content-length")),[x,A]=c&&progressEventDecorator(w,progressEventReducer(asyncDecorator(c),!0))||[];f=new Response(trackStream(f.body,DEFAULT_CHUNK_SIZE,x,()=>{A&&A(),l&&l()}),_)}p=p||"text";let y=await resolvers[utils$1.findKey(resolvers,p)||"text"](f,t);return!S&&l&&l(),await new Promise((_,w)=>{settle(_,w,{data:y,headers:AxiosHeaders.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:v})})}catch(E){throw l&&l(),E&&E.name==="TypeError"&&/fetch/i.test(E.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,v),{cause:E.cause||E}):AxiosError.from(E,E&&E.code,t,v)}});const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$1.isFunction(t)||t===null||t===!1;var adapters={getAdapter:t=>{t=utils$1.isArray(t)?t:[t];const{length:e}=t;let s,r;const n={};for(let o=0;o<e;o++){s=t[o];let a;if(r=s,!isResolvedHandle(s)&&(r=knownAdapters[(a=String(s)).toLowerCase()],r===void 0))throw new AxiosError(`Unknown adapter '${a}'`);if(r)break;n[a||"#"+o]=r}if(!r){const o=Object.entries(n).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(renderReason).join(`
`):" "+renderReason(o[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults.adapter)(t).then(function(r){return throwIfCancellationRequested(t),r.data=transformData.call(t,t.transformResponse,r),r.headers=AxiosHeaders.from(r.headers),r},function(r){return isCancel(r)||(throwIfCancellationRequested(t),r&&r.response&&(r.response.data=transformData.call(t,t.transformResponse,r.response),r.response.headers=AxiosHeaders.from(r.response.headers))),Promise.reject(r)})}const VERSION="1.7.9",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function t(e,s,r){function n(o,a){return"[Axios v"+VERSION+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(e===!1)throw new AxiosError(n(a," has been removed"+(s?" in "+s:"")),AxiosError.ERR_DEPRECATED);return s&&!deprecatedWarnings[a]&&(deprecatedWarnings[a]=!0,console.warn(n(a," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(o,a,c):!0}},validators$1.spelling=function t(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,s){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const o=r[n],a=e[o];if(a){const c=t[o],u=c===void 0||a(c,o,t);if(u!==!0)throw new AxiosError("option "+o+" must be "+u,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=mergeConfig(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:o}=s;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),n!=null&&(utils$1.isFunction(n)?s.paramsSerializer={serialize:n}:validator.assertOptions(n,{encode:validators.function,serialize:validators.function},!0)),validator.assertOptions(s,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let a=o&&utils$1.merge(o.common,o[s.method]);o&&utils$1.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),s.headers=AxiosHeaders.concat(a,o);const c=[];let u=!0;this.interceptors.request.forEach(function(l){typeof l.runWhen=="function"&&l.runWhen(s)===!1||(u=u&&l.synchronous,c.unshift(l.fulfilled,l.rejected))});const p=[];this.interceptors.response.forEach(function(l){p.push(l.fulfilled,l.rejected)});let d,m=0,h;if(!u){const v=[dispatchRequest.bind(this),void 0];for(v.unshift.apply(v,c),v.push.apply(v,p),h=v.length,d=Promise.resolve(s);m<h;)d=d.then(v[m++],v[m++]);return d}h=c.length;let g=s;for(m=0;m<h;){const v=c[m++],l=c[m++];try{g=v(g)}catch(b){l.call(this,b);break}}try{d=dispatchRequest.call(this,g)}catch(v){return Promise.reject(v)}for(m=0,h=p.length;m<h;)d=d.then(p[m++],p[m++]);return d}getUri(e){e=mergeConfig(this.defaults,e);const s=buildFullPath(e.baseURL,e.url);return buildURL(s,e.params,e.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function t(e){Axios.prototype[e]=function(s,r){return this.request(mergeConfig(r||{},{method:e,url:s,data:(r||{}).data}))}}),utils$1.forEach(["post","put","patch"],function t(e){function s(r){return function(o,a,c){return this.request(mergeConfig(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Axios.prototype[e]=s(),Axios.prototype[e+"Form"]=s(!0)});class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(o){s=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(n);return a.cancel=function(){r.unsubscribe(o)},a},e(function(o,a,c){r.reason||(r.reason=new CanceledError(o,a,c),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new CancelToken(function(n){e=n}),cancel:e}}}function spread(t){return function(s){return t.apply(null,s)}}function isAxiosError(t){return utils$1.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});function createInstance(t){const e=new Axios(t),s=bind(Axios.prototype.request,e);return utils$1.extend(s,Axios.prototype,e,{allOwnKeys:!0}),utils$1.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return createInstance(mergeConfig(t,n))},s}const axios=createInstance(defaults);axios.Axios=Axios,axios.CanceledError=CanceledError,axios.CancelToken=CancelToken,axios.isCancel=isCancel,axios.VERSION=VERSION,axios.toFormData=toFormData,axios.AxiosError=AxiosError,axios.Cancel=axios.CanceledError,axios.all=function t(e){return Promise.all(e)},axios.spread=spread,axios.isAxiosError=isAxiosError,axios.mergeConfig=mergeConfig,axios.AxiosHeaders=AxiosHeaders,axios.formToJSON=t=>formDataToJSON(utils$1.isHTMLForm(t)?new FormData(t):t),axios.getAdapter=adapters.getAdapter,axios.HttpStatusCode=HttpStatusCode,axios.default=axios;var browser={exports:{}},process$1=browser.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process$1.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)e[s-1]=arguments[s];queue.push(new Item(t,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)},process$1.title="browser",process$1.browser=!0,process$1.env={},process$1.argv=[],process$1.version="",process$1.versions={};function noop(){}process$1.on=noop,process$1.addListener=noop,process$1.once=noop,process$1.off=noop,process$1.removeListener=noop,process$1.removeAllListeners=noop,process$1.emit=noop,process$1.prependListener=noop,process$1.prependOnceListener=noop,process$1.listeners=function(t){return[]},process$1.binding=function(t){throw new Error("process.binding is not supported")},process$1.cwd=function(){return"/"},process$1.chdir=function(t){throw new Error("process.chdir is not supported")},process$1.umask=function(){return 0};var browserExports=browser.exports,process$2=getDefaultExportFromCjs(browserExports);const isWindows=()=>pathSatisfies(test$2(/^win/),["platform"],process$2),getProtocol=t=>{try{const e=new URL(t);return trimCharsEnd(":",e.protocol)}catch{return}};pipe(getProtocol,isNotUndefined);const getExtension=t=>{const e=t.lastIndexOf(".");return e>=0?t.substring(e).toLowerCase():""},isFileSystemPath=t=>{if(process$2.browser)return!1;const e=getProtocol(t);return isUndefined$1(e)||e==="file"||/^[a-zA-Z]$/.test(e)},isHttpUrl=t=>{const e=getProtocol(t);return e==="http"||e==="https"},toFileSystemPath=(t,e)=>{const s=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],r=propOr(!1,"keepFileProtocol",e),n=propOr(isWindows,"isWindows",e);let o=decodeURI(t);for(let c=0;c<s.length;c+=2)o=o.replace(s[c],s[c+1]);let a=o.substring(0,7).toLowerCase()==="file://";return a&&(o=o[7]==="/"?o.substring(8):o.substring(7),n()&&o[1]==="/"&&(o=`${o[0]}:${o.substring(1)}`),r?o=`file:///${o}`:(a=!1,o=n()?o:`/${o}`)),n()&&!a&&(o=replaceAll("/","\\",o),o.substring(1,3)===":\\"&&(o=o[0].toUpperCase()+o.substring(1))),o},fromFileSystemPath=t=>{const e=[/\?/g,"%3F",/#/g,"%23"];let s=t;isWindows()&&(s=s.replace(/\\/g,"/")),s=encodeURI(s);for(let r=0;r<e.length;r+=2)s=s.replace(e[r],e[r+1]);return s},getHash=t=>{const e=t.indexOf("#");return e!==-1?t.substring(e):"#"},stripHash=t=>{const e=t.indexOf("#");let s=t;return e>=0&&(s=t.substring(0,e)),s},cwd=()=>{if(process$2.browser)return stripHash(globalThis.location.href);const t=process$2.cwd(),e=last(t);return["/","\\"].includes(e)?t:t+(isWindows()?"\\":"/")},resolve=(t,e)=>{const s=new URL(e,new URL(t,"resolve://"));if(s.protocol==="resolve:"){const{pathname:r,search:n,hash:o}=s;return r+n+o}return s.toString()},sanitize=t=>{if(isFileSystemPath(t))return fromFileSystemPath(toFileSystemPath(t));try{return new URL(t).toString()}catch{return encodeURI(decodeURI(t)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},unsanitize=t=>isFileSystemPath(t)?toFileSystemPath(t):decodeURI(t);class HTTPResolver extends Resolver{timeout;redirects;withCredentials;constructor(e){const{name:s="http-resolver",timeout:r=5e3,redirects:n=5,withCredentials:o=!1}=e??{};super({name:s}),this.timeout=r,this.redirects=n,this.withCredentials=o}canRead(e){return isHttpUrl(e.uri)}}class HTTPResolverAxios extends HTTPResolver{axiosConfig={};axiosInstance;previousAxiosConfig;constructor(e){const{axiosConfig:s={},...r}=e??{};super({...r,name:"http-axios"}),this.axiosConfig=s}getHttpClient(){if(this.axiosInstance===void 0||this.previousAxiosConfig!==this.axiosConfig){const e=omit(["interceptors"],this.axiosConfig),{interceptors:s}=this.axiosConfig;this.axiosInstance=axios.create({timeout:this.timeout,maxRedirects:this.redirects,withCredentials:this.withCredentials,responseType:"arraybuffer",...e}),Array.isArray(s?.request)&&s.request.forEach(r=>{this.axiosInstance.interceptors.request.use(...ensureArray(r))}),Array.isArray(s?.response)&&s.response.forEach(r=>{this.axiosInstance.interceptors.response.use(...ensureArray(r))}),this.previousAxiosConfig=this.axiosConfig}return this.axiosInstance}async read(e){const s=this.getHttpClient();try{return(await s.get(e.uri)).data}catch(r){throw new ResolverError(`Error downloading "${e.uri}"`,{cause:r})}}}class ResolveStrategy{name;constructor({name:e}){this.name=e}}class ReferenceSet{rootRef;refs;circular;constructor({refs:e=[],circular:s=!1}={}){this.refs=[],this.circular=s,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=this.rootRef===void 0?e:this.rootRef,e.refSet=this),this}merge(e){for(const s of e.values())this.add(s);return this}has(e){const s=isString$4(e)?e:e.uri;return isNotUndefined(this.find(r=>r.uri===s))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach(e=>{e.refSet=void 0}),this.rootRef=void 0,this.refs.length=0}}const baseURILens=lens(path$4(["resolve","baseURI"]),assocPath(["resolve","baseURI"])),baseURIDefault=t=>isEmptyString(t)?cwd():t,merge=(t,e)=>{const s=mergeDeepRight(t,e);return over(baseURILens,baseURIDefault,s)};class DereferenceError extends ApiDOMError{}class UnmatchedDereferenceStrategyError extends DereferenceError{}class OpenAPI2ResolveStrategy extends ResolveStrategy{constructor(e){super({...e??{},name:"openapi-2"})}canResolve(e,s){const r=s.dereference.strategies.find(n=>n.name==="openapi-2");return r===void 0?!1:r.canDereference(e,s)}async resolve(e,s){const r=s.dereference.strategies.find(a=>a.name==="openapi-2");if(r===void 0)throw new UnmatchedDereferenceStrategyError('"openapi-2" dereference strategy is not available.');const n=new ReferenceSet,o=merge(s,{resolve:{internal:!1},dereference:{refSet:n}});return await r.dereference(e,o),n}}class OpenAPI3_0ResolveStrategy extends ResolveStrategy{constructor(e){super({...e??{},name:"openapi-3-0"})}canResolve(e,s){const r=s.dereference.strategies.find(n=>n.name==="openapi-3-0");return r===void 0?!1:r.canDereference(e,s)}async resolve(e,s){const r=s.dereference.strategies.find(a=>a.name==="openapi-3-0");if(r===void 0)throw new UnmatchedDereferenceStrategyError('"openapi-3-0" dereference strategy is not available.');const n=new ReferenceSet,o=merge(s,{resolve:{internal:!1},dereference:{refSet:n}});return await r.dereference(e,o),n}}class OpenAPI3_1ResolveStrategy extends ResolveStrategy{constructor(e){super({...e??{},name:"openapi-3-1"})}canResolve(e,s){const r=s.dereference.strategies.find(n=>n.name==="openapi-3-1");return r===void 0?!1:r.canDereference(e,s)}async resolve(e,s){const r=s.dereference.strategies.find(a=>a.name==="openapi-3-1");if(r===void 0)throw new UnmatchedDereferenceStrategyError('"openapi-3-1" dereference strategy is not available.');const n=new ReferenceSet,o=merge(s,{resolve:{internal:!1},dereference:{refSet:n}});return await r.dereference(e,o),n}}class AsyncAPI2ResolveStrategy extends ResolveStrategy{constructor(e){super({...e??{},name:"asyncapi-2"})}canResolve(e,s){const r=s.dereference.strategies.find(n=>n.name==="asyncapi-2");return r===void 0?!1:r.canDereference(e,s)}async resolve(e,s){const r=s.dereference.strategies.find(a=>a.name==="asyncapi-2");if(r===void 0)throw new UnmatchedDereferenceStrategyError('"asyncapi-2" dereference strategy is not available.');const n=new ReferenceSet,o=merge(s,{resolve:{internal:!1},dereference:{refSet:n}});return await r.dereference(e,o),n}}class ApiDOMResolveStrategy extends ResolveStrategy{constructor(e){super({...e??{},name:"apidom"})}canResolve(e,s){const r=s.dereference.strategies.find(n=>n.name==="apidom");return r===void 0?!1:r.canDereference(e,s)}async resolve(e,s){const r=s.dereference.strategies.find(a=>a.name==="apidom");if(r===void 0)throw new UnmatchedDereferenceStrategyError('"apidom" dereference strategy is not available.');const n=new ReferenceSet,o=merge(s,{resolve:{internal:!1},dereference:{refSet:n}});return await r.dereference(e,o),n}}class ApiDesignSystemsMediaTypes extends MediaTypes{filterByFormat(e="generic"){const s=e==="generic"?"apidesignsystems;version":e;return this.filter(r=>r.includes(s))}findBy(e="2021-05-07",s="generic"){const r=s==="generic"?`apidesignsystems;version=${e}`:`apidesignsystems+${s};version=${e}`;return this.find(o=>o.includes(r))||this.unknownMediaType}latest(e="generic"){return last(this.filterByFormat(e))}}const mediaTypes=new ApiDesignSystemsMediaTypes("application/vnd.aai.apidesignsystems;version=2021-05-07","application/vnd.aai.apidesignsystems+json;version=2021-05-07","application/vnd.aai.apidesignsystems+yaml;version=2021-05-07");class Info extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="info"}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}}class Main extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="main",this.classes.push("api")}get version(){return this.get("version")}set version(e){this.set("version",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get principles(){return this.get("principles")}set principles(e){this.set("principles",e)}get standards(){return this.get("standards")}set standards(e){this.set("standards",e)}get scenarios(){return this.get("scenarios")}set scenarios(e){this.set("scenarios",e)}}class Principle extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="principle"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get iri(){return this.get("iri")}set iri(e){this.set("iri",e)}get level(){return this.get("level")}set level(e){this.set("level",e)}}class Requirement extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="requirement"}get subject(){return this.get("subject")}set subject(e){this.set("subject",e)}get level(){return this.get("level")}set level(e){this.set("level",e)}get values(){return this.get("values")}set values(e){this.set("values",e)}get follows(){return this.get("follows")}set follows(e){this.set("follows",e)}}class RequirementLevel extends StringElement{constructor(e,s,r){super(e,s,r),this.element="requirementLevel"}}class Scenario extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="scenario"}get description(){return this.get("description")}set description(e){this.set("description",e)}get when(){return this.get("when")}set when(e){this.set("when",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}}class Standard extends ObjectElement{constructor(e,s,r){super(e,s,r),this.element="standard"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get iri(){return this.get("iri")}set iri(e){this.set("iri",e)}get level(){return this.get("level")}set level(e){this.set("level",e)}}class StandardIdentifier extends ArrayElement{constructor(e,s,r){super(e,s,r),this.element="standardIdentifier"}}const apiDesignSystems={namespace:t=>{const{base:e}=t;return e.register("info",Info),e.register("main",Main),e.register("principle",Principle),e.register("requirement",Requirement),e.register("requirementLevel",RequirementLevel),e.register("scenario",Scenario),e.register("standard",Standard),e.register("standardIdentifier",StandardIdentifier),e}},isMainElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Main||t(r)&&e("main",r)&&s("object",r)),isInfoElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Info||t(r)&&e("info",r)&&s("object",r)),isPrincipleElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Principle||t(r)&&e("principle",r)&&s("object",r)),isRequirementElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Requirement||t(r)&&e("requirement",r)&&s("object",r)),isRequirementLevelElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof RequirementLevel||t(r)&&e("requirementLevel",r)&&s("string",r)),isScenarioElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Scenario||t(r)&&e("scenario",r)&&s("object",r)),isStandardElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof Standard||t(r)&&e("standard",r)&&s("object",r)),isStandardIdentifierElement=createPredicate(({hasBasicElementProps:t,isElementType:e,primitiveEq:s})=>r=>r instanceof StandardIdentifier||t(r)&&e("standardIdentifier",r)&&s("array",r));var apiDesignSystemsPredicates=Object.freeze({__proto__:null,isInfoElement,isMainElement,isPrincipleElement,isRequirementElement,isRequirementLevelElement,isScenarioElement,isStandardElement,isStandardIdentifierElement});class Visitor{element;constructor(e={}){Object.assign(this,e)}copyMetaAndAttributes(e,s){(e.meta.length>0||s.meta.length>0)&&(s.meta=deepmerge(s.meta,e.meta),hasElementSourceMap(e)&&s.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(s.attributes=deepmerge(s.attributes,e.attributes))}}class FallbackVisitor extends Visitor{enter(e){return this.element=cloneDeep(e),BREAK}}class SpecificationVisitor extends Visitor{specObj;passingOptionsNames=["specObj"];constructor({specObj:e,...s}){super({...s}),this.specObj=e}retrievePassingOptions(){return pick(this.passingOptionsNames,this)}retrieveFixedFields(e){const s=path$4(["visitors",...e,"fixedFields"],this.specObj);return typeof s=="object"&&s!==null?Object.keys(s):[]}retrieveVisitor(e){return pathSatisfies(isFunction$4,["visitors",...e],this.specObj)?path$4(["visitors",...e],this.specObj):path$4(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,s={}){const r=this.retrievePassingOptions(),n=this.retrieveVisitor(e),o={...r,...s};return new n(o)}toRefractedElement(e,s,r={}){const n=this.retrieveVisitorInstance(e,r);return n instanceof FallbackVisitor&&n?.constructor===FallbackVisitor?cloneDeep(s):(visit$1(s,n,r),n.element)}}class FixedFieldsVisitor extends SpecificationVisitor{specPath;ignoredFields;constructor({specPath:e,ignoredFields:s,...r}){super({...r}),this.specPath=e,this.ignoredFields=s||[]}ObjectElement(e){const s=this.specPath(e),r=this.retrieveFixedFields(s);return e.forEach((n,o,a)=>{if(isStringElement(o)&&r.includes(serializer(o))&&!this.ignoredFields.includes(serializer(o))){const c=this.toRefractedElement([...s,"fixedFields",serializer(o)],n),u=new MemberElement(cloneDeep(o),c);u.classes.push("fixed-field"),this.copyMetaAndAttributes(a,u),this.element.content.push(u)}else this.ignoredFields.includes(serializer(o))||this.element.content.push(cloneDeep(a))}),this.copyMetaAndAttributes(e,this.element),BREAK}}const getNodeType=t=>{if(isElement(t))return`${t.element.charAt(0).toUpperCase()+t.element.slice(1)}Element`},keyMap={MainElement:["content"],InfoElement:["content"],PrincipleElement:["content"],StandardElement:["content"],ScenarioElement:["content"],RequirementElement:["content"],StandardIdentifierElement:["content"],RequirementLevelElement:[],...keyMapDefault$1};class RequirementLevelVisitor extends Mixin(SpecificationVisitor,FallbackVisitor){StringElement(e){const s=new RequirementLevel(serializer(e));return this.copyMetaAndAttributes(e,s),this.element=s,BREAK}}class StandardIdentifierVisitor extends Mixin(SpecificationVisitor,FallbackVisitor){constructor(e){super(e),this.element=new StandardIdentifier}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","StandardIdentifier"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class RequirementVisitor extends Mixin(FixedFieldsVisitor,FallbackVisitor){constructor(e){super(e),this.element=new Requirement,this.specPath=always(["document","objects","Requirement"])}}class ScenarioVisitor extends Mixin(FixedFieldsVisitor,FallbackVisitor){constructor(e){super(e),this.element=new Scenario,this.specPath=always(["document","objects","Scenario"])}}class ThenVisitor extends Mixin(SpecificationVisitor,FallbackVisitor){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("scenario-then")}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Requirement"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class StandardVisitor extends Mixin(FixedFieldsVisitor,FallbackVisitor){constructor(e){super(e),this.element=new Standard,this.specPath=always(["document","objects","Standard"])}}class PrincipleVisitor extends Mixin(FixedFieldsVisitor,FallbackVisitor){constructor(e){super(e),this.element=new Principle,this.specPath=always(["document","objects","Principle"])}}class InfoVisitor extends Mixin(FixedFieldsVisitor,FallbackVisitor){constructor(e){super(e),this.specPath=always(["document","objects","Info"]),this.element=new Info}}class MainVisitor extends Mixin(FixedFieldsVisitor,FallbackVisitor){constructor(e){super(e),this.element=new Main,this.specPath=always(["document","objects","Main"])}}class PrinciplesVisitor extends Mixin(SpecificationVisitor,FallbackVisitor){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("main-principles")}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Principle"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class StandardsVisitor extends Mixin(SpecificationVisitor,FallbackVisitor){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("main-standards")}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Standard"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}class ScenariosVisitor extends Mixin(SpecificationVisitor,FallbackVisitor){constructor(e){super(e),this.element=new ArrayElement,this.element.classes.push("main-scenarios")}ArrayElement(e){return e.forEach(s=>{const r=["document","objects","Scenario"],n=this.toRefractedElement(r,s);this.element.push(n)}),this.copyMetaAndAttributes(e,this.element),BREAK}}const specification={visitors:{value:FallbackVisitor,document:{objects:{Main:{$visitor:MainVisitor,fixedFields:{version:{$ref:"#/visitors/value"},info:{$ref:"#/visitors/document/objects/Info"},principles:PrinciplesVisitor,standards:StandardsVisitor,scenarios:ScenariosVisitor}},Info:{$visitor:InfoVisitor,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Principle:{$visitor:PrincipleVisitor,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},iri:{$ref:"#/visitors/value"},level:{$ref:"#/visitors/document/objects/RequirementLevel"}}},Standard:{$visitor:StandardVisitor,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},level:{$ref:"#/visitors/document/objects/RequirementLevel"},iri:{$ref:"#/visitors/value"}}},Scenario:{$visitor:ScenarioVisitor,fixedFields:{description:{$ref:"#/visitors/value"},when:{$ref:"#/visitors/document/objects/StandardIdentifier"},then:ThenVisitor}},Requirement:{$visitor:RequirementVisitor,fixedFields:{subject:{$ref:"#/visitors/document/objects/StandardIdentifier"},level:{$ref:"#/visitors/document/objects/RequirementLevel"},values:{$ref:"#/visitors/value"},follows:{$ref:"#/visitors/value"}}},StandardIdentifier:{$visitor:StandardIdentifierVisitor},RequirementLevel:{$visitor:RequirementLevelVisitor}}}}},createToolbox=()=>{const t=createNamespace(apiDesignSystems);return{predicates:{...apiDesignSystemsPredicates,isStringElement},namespace:t}},refract=(t,{specPath:e=["visitors","document","objects","Main","$visitor"],plugins:s=[]}={})=>{const r=refract$9(t),n=dereference(specification),o=path$4(e,n),a=new o({specObj:n});return visit$1(r,a),dispatchPluginsSync(a.element,s,{toolboxCreator:createToolbox,visitorOptions:{keyMap,nodeTypeGetter:getNodeType}})},createRefractor=t=>(e,s={})=>refract(e,{...s,specPath:t});Main.refract=createRefractor(["visitors","document","objects","Main","$visitor"]),Info.refract=createRefractor(["visitors","document","objects","Info","$visitor"]),Principle.refract=createRefractor(["visitors","document","objects","Principle","$visitor"]),Requirement.refract=createRefractor(["visitors","document","objects","Requirement","$visitor"]),RequirementLevel.refract=createRefractor(["visitors","document","objects","RequirementLevel","$visitor"]),Scenario.refract=createRefractor(["visitors","document","objects","Scenario","$visitor"]),Standard.refract=createRefractor(["visitors","document","objects","Standard","$visitor"]),StandardIdentifier.refract=createRefractor(["visitors","document","objects","StandardIdentifier","$visitor"]);const jsonMediaTypes=new ApiDesignSystemsMediaTypes(...mediaTypes.filterByFormat("generic"),...mediaTypes.filterByFormat("json")),detectionRegExp$1=/"version"\s*:\s*"(?<version_json>2021-05-07)"/,detect$1=async t=>detectionRegExp$1.test(t)&&await detect$d(t),parse$3=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$g(t,r),{result:o}=n;if(isNotUndefined(o)){const a=Main.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n};createNamespace(apiDesignSystems);class ParseError extends ApiDOMError{}class ParserError extends ParseError{}class Parser{name;allowEmpty;sourceMap;fileExtensions;mediaTypes;constructor({name:e,allowEmpty:s=!0,sourceMap:r=!1,fileExtensions:n=[],mediaTypes:o=[]}){this.name=e,this.allowEmpty=s,this.sourceMap=r,this.fileExtensions=n,this.mediaTypes=o}}class APIDesignSystemsJSONParser extends Parser{syntacticAnalysis;refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=jsonMediaTypes,...n}=e??{};super({...n,name:"api-design-systems-json",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$1(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","syntacticAnalysis","refractorOpts"],this);return await parse$3(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}const yamlMediaTypes=new ApiDesignSystemsMediaTypes(...mediaTypes.filterByFormat("generic"),...mediaTypes.filterByFormat("yaml")),detectionRegExp=/(?<YAML>^(["']?)version\2\s*:\s*(["']?)(?<version_yaml>2021-05-07)\3)|(?<JSON>"version"\s*:\s*"(?<version_json>2021-05-07)")/m,detect=async t=>detectionRegExp.test(t)&&await detect$c(t),parse$2=async(t,e={})=>{const s=propOr({},"refractorOpts",e),r=omit(["refractorOpts"],e),n=await parse$f(t,r),{result:o}=n;if(isNotUndefined(o)){const a=Main.refract(o,s);a.classes.push("result"),n.replaceResult(a)}return n};createNamespace(apiDesignSystems);class APIDesignSystemsYAMLParser extends Parser{refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=yamlMediaTypes,...n}=e??{};super({...n,name:"api-design-systems-yaml",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","refractorOpts"],this);return await parse$2(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class OpenAPIJSON2Parser extends Parser{syntacticAnalysis;refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=jsonMediaTypes$5,...n}=e??{};super({...n,name:"openapi-json-2",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$b(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","syntacticAnalysis","refractorOpts"],this);return await parse$e(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class OpenAPIYAML2Parser extends Parser{refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=yamlMediaTypes$5,...n}=e??{};super({...n,name:"openapi-yaml-2",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$a(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","refractorOpts"],this);return await parse$d(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class OpenAPIJSON3_0Parser extends Parser{syntacticAnalysis;refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=jsonMediaTypes$4,...n}=e??{};super({...n,name:"openapi-json-3-0",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$9(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","syntacticAnalysis","refractorOpts"],this);return await parse$c(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class OpenAPIYAML3_0Parser extends Parser{refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=yamlMediaTypes$4,...n}=e??{};super({...n,name:"openapi-yaml-3-0",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$8(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","refractorOpts"],this);return await parse$b(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class OpenAPIJSON3_1Parser extends Parser{syntacticAnalysis;refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=jsonMediaTypes$3,...n}=e??{};super({...n,name:"openapi-json-3-1",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$7(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","syntacticAnalysis","refractorOpts"],this);return await parse$9(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class OpenAPIYAML3_1Parser extends Parser{refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=yamlMediaTypes$3,...n}=e??{};super({...n,name:"openapi-yaml-3-1",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$6(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","refractorOpts"],this);return await parse$8(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class AsyncAPIJSON2Parser extends Parser{syntacticAnalysis;refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=jsonMediaTypes$2,...n}=e??{};super({...n,name:"asyncapi-json-2",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$5(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","syntacticAnalysis","refractorOpts"],this);return await parse$7(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class AsyncAPIYAML2Parser extends Parser{refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=yamlMediaTypes$2,...n}=e??{};super({...n,name:"asyncapi-yaml-2",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$4(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","refractorOpts"],this);return await parse$6(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class WorkflowsJSON1Parser extends Parser{syntacticAnalysis;refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=jsonMediaTypes$1,...n}=e??{};super({...n,name:"workflows-json-1",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$3(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","syntacticAnalysis","refractorOpts"],this);return await parse$5(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}let WorkflowsYAML1Parser$1=class extends Parser{refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=yamlMediaTypes$1,...n}=e??{};super({...n,name:"workflows-yaml-1",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$2(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","refractorOpts"],this);return await parse$4(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}};class ApiDOMJSONParser extends Parser{namespace;"apidom-json";constructor(e){const{fileExtensions:s=[],mediaTypes:r=["application/vnd.apidom","application/vnd.apidom+json"],namespace:n=namespace$c,...o}=e??{};super({...o,name:"apidom-json",fileExtensions:s,mediaTypes:r}),this.namespace=n}canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!s)return!1;if(r)return!0;if(!r)try{return this.namespace.fromRefract(JSON.parse(e.toString()))&&!0}catch{return!1}return!1}parse(e){var s,r;const n=e.toString(),o=(s=(r=this["apidom-json"])===null||r===void 0?void 0:r.namespace)!==null&&s!==void 0?s:this.namespace;if(this.allowEmpty&&n.trim()==="")return new ParseResult$1;try{const a=o.fromRefract(JSON.parse(n));return isParseResultElement(a)?a:(a.classes.push("result"),new ParseResult$1([a]))}catch(a){throw new ParserError(`Error parsing "${e.uri}"`,{cause:a})}}}class JSONParser extends Parser{syntacticAnalysis;constructor(e){const{fileExtensions:s=[],mediaTypes:r=mediaTypes$7,...n}=e??{};super({...n,name:"json",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$d(e.toString()):!1}async parse(e){const s=e.toString();try{const r=pick(["sourceMap","syntacticAnalysis"],this);return await parse$g(s,r)}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class WorkflowsYAML1Parser extends Parser{refractorOpts;constructor(e){const{fileExtensions:s=[],mediaTypes:r=mediaTypes$6,...n}=e??{};super({...n,name:"yaml-1-2",fileExtensions:s,mediaTypes:r})}async canParse(e){const s=this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);return s?r?!0:r?!1:detect$c(e.toString()):!1}async parse(e){const s=e.toString();try{return await parse$f(s,{sourceMap:this.sourceMap})}catch(r){throw new ParserError(`Error parsing "${e.uri}"`,{cause:r})}}}class BinaryParser extends Parser{constructor(e){super({...e??{},name:"binary"})}canParse(e){return this.fileExtensions.length===0?!0:this.fileExtensions.includes(e.extension)}parse(e){try{const s=unescape(encodeURIComponent(e.toString())),r=btoa(s),n=new ParseResult$1;if(r.length!==0){const o=new StringElement(r);o.classes.push("result"),n.push(o)}return n}catch(s){throw new ParserError(`Error parsing "${e.uri}"`,{cause:s})}}}class DereferenceStrategy{name;constructor({name:e}){this.name=e}}class Reference{uri;depth;value;refSet;errors;constructor({uri:e,depth:s=0,refSet:r,value:n}){this.uri=e,this.value=n,this.depth=s,this.refSet=r,this.errors=[]}}class MaximumResolveDepthError extends ResolveError{}class File{uri;mediaType;data;parseResult;constructor({uri:e,mediaType:s="text/plain",data:r,parseResult:n}){this.uri=e,this.mediaType=s,this.data=r,this.parseResult=n}get extension(){return isString$4(this.uri)?getExtension(this.uri):""}toString(){return typeof this.data=="string"?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(type(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}}class PluginError extends ApiDOMError{plugin;constructor(e,s){super(e,{cause:s.cause}),this.plugin=s.plugin}}const filter=async(t,e,s)=>{const r=await Promise.all(s.map(invokeArgs([t],e)));return s.filter((n,o)=>r[o])},run=async(t,e,s)=>{let r;for(const n of s)try{const o=await n[t].call(n,...e);return{plugin:n,result:o}}catch(o){r=new PluginError("Error while running plugin",{cause:o,plugin:n})}return Promise.reject(r)};class UnmatchedResolverError extends ResolverError{}const readFile$1=async(t,e)=>{const s=e.resolve.resolvers.map(n=>{const o=Object.create(n);return Object.assign(o,e.resolve.resolverOpts)}),r=await filter("canRead",[t,e],s);if(isEmpty(r))throw new UnmatchedResolverError(t.uri);try{const{result:n}=await run("read",[t],r);return n}catch(n){throw new ResolveError(`Error while reading file "${t.uri}"`,{cause:n})}},parseFile=async(t,e)=>{const s=e.parse.parsers.map(n=>{const o=Object.create(n);return Object.assign(o,e.parse.parserOpts)}),r=await filter("canParse",[t,e],s);if(isEmpty(r))throw new UnmatchedResolverError(t.uri);try{const{plugin:n,result:o}=await run("parse",[t,e],r);return!n.allowEmpty&&o.isEmpty?Promise.reject(new ParseError(`Error while parsing file "${t.uri}". File is empty.`)):o}catch(n){throw new ParseError(`Error while parsing file "${t.uri}"`,{cause:n})}},parse$1=async(t,e)=>{const s=new File({uri:sanitize(stripHash(t)),mediaType:e.parse.mediaType}),r=await readFile$1(s,e);return parseFile(new File({...s,data:r}),e)};class EvaluationElementIdError extends ApiDOMError{}const hasElementID=t=>!!t.id,evaluate$2=(t,e)=>{const{cache:s}=evaluate$2;if(!s.has(e)){const n=filter$1(hasElementID,e);s.set(e,Array.from(n))}const r=s.get(e).find(n=>String(serializer(n.id))===t);if(isUndefined$1(r))throw new EvaluationElementIdError(`Evaluation failed on element ID: "${t}"`);return r};evaluate$2.cache=new WeakMap;const visitAsync$9=visit$1[Symbol.for("nodejs.util.promisify.custom")];class ApiDOMDereferenceVisitor{reference;options;constructor({reference:e,options:s}){this.reference=e,this.options=s}toBaseURI(e){return resolve(this.reference.uri,sanitize(stripHash(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new MaximumResolveDepthError(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const s=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(s))return r.find(propEq(s,"uri"));const n=await parse$1(unsanitize(s),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),o=new Reference({uri:s,value:cloneDeep(n),depth:this.reference.depth+1});if(r.add(o),this.options.dereference.immutable){const a=new Reference({uri:`immutable://${s}`,value:n,depth:this.reference.depth+1});r.add(a)}return o}async RefElement(e,s,r,n,o){const a=serializer(e),c=a.includes("#")?a:`#${a}`,u=this.toBaseURI(c),p=stripHash(this.reference.uri)===u,d=!p;if(!this.options.resolve.internal&&p||!this.options.resolve.external&&d)return!1;const m=await this.toReference(c),h=resolve(u,c),g=uriToPointer(h);let v=evaluate$2(g,m.value.result);if(!isElement(v))throw new ApiDOMError(`Referenced element with id="${g}" was not found`);if(e===v)throw new ApiDOMError("RefElement cannot reference itself");if(isRefElement(v))throw new ApiDOMError("RefElement cannot reference another RefElement");if(d){const b=new ApiDOMDereferenceVisitor({reference:m,options:this.options});v=await visitAsync$9(v,b)}const l=serializer(e.path);return l!=="element"&&isElement(v)&&(v=refract$9(v[l])),isObjectElement(v)&&isObjectElement(o[o.length-1])&&Array.isArray(r)&&typeof s=="number"?r.splice(s,1,...v.content):isArrayElement(v)&&Array.isArray(r)&&typeof s=="number"?r.splice(s,1,...v.content):isMemberElement(r)?r.value=v:Array.isArray(r)&&(r[s]=v),r?!1:v}}const visitAsync$8=visit$1[Symbol.for("nodejs.util.promisify.custom")];class ApiDOMDereferenceStrategy extends DereferenceStrategy{constructor(e){super({...e??{},name:"apidom"})}canDereference(e){var s;return e.mediaType.startsWith("application/vnd.apidom")&&isElement((s=e.parseResult)===null||s===void 0?void 0:s.result)}async dereference(e,s){var r;const n=(r=s.dereference.refSet)!==null&&r!==void 0?r:new ReferenceSet,o=new ReferenceSet;let a=n,c;n.has(e.uri)?c=n.find(d=>d.uri===e.uri):(c=new Reference({uri:e.uri,value:e.parseResult}),n.add(c)),s.dereference.immutable&&(n.refs.map(d=>new Reference({...d,value:cloneDeep(d.value)})).forEach(d=>o.add(d)),c=o.find(d=>d.uri===e.uri),a=o);const u=new ApiDOMDereferenceVisitor({reference:c,options:s}),p=await visitAsync$8(a.rootRef.value,u);return s.dereference.immutable&&o.refs.filter(d=>d.uri.startsWith("immutable://")).map(d=>new Reference({...d,uri:d.uri.replace(/^immutable:\/\//,"")})).forEach(d=>n.add(d)),s.dereference.refSet===null&&n.clean(),o.clean(),p}}class MaximumDereferenceDepthError extends DereferenceError{}class AncestorLineage extends Array{includesCycle(e){return this.filter(s=>s.has(e)).length>1}includes(e,s){return e instanceof Set?super.includes(e,s):this.some(r=>r.has(e))}findItem(e){for(const s of this)for(const r of s)if(isElement(r)&&e(r))return r}}const visitAsync$7=visit$1[Symbol.for("nodejs.util.promisify.custom")],identityManager$3=new IdentityManager,mutationReplacer$3=(t,e,s,r)=>{isMemberElement(r)?r.value=t:Array.isArray(r)&&(r[s]=t)};class OpenAPI2DereferenceVisitor{indirections;namespace;reference;options;ancestors;refractCache;constructor({reference:e,namespace:s,options:r,indirections:n=[],ancestors:o=new AncestorLineage,refractCache:a=new Map}){this.indirections=n,this.namespace=s,this.reference=e,this.options=r,this.ancestors=new AncestorLineage(...o),this.refractCache=a}toBaseURI(e){return resolve(this.reference.uri,sanitize(stripHash(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new MaximumResolveDepthError(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const s=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(s))return r.find(propEq(s,"uri"));const n=await parse$1(unsanitize(s),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),o=new Reference({uri:s,value:cloneDeep(n),depth:this.reference.depth+1});if(r.add(o),this.options.dereference.immutable){const a=new Reference({uri:`immutable://${s}`,value:n,depth:this.reference.depth+1});r.add(a)}return o}toAncestorLineage(e){const s=new Set(e.filter(isElement));return[new AncestorLineage(...this.ancestors,s),s]}async ReferenceElement(e,s,r,n,o,a){if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return!1;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager$3.identify(l),isPrimitiveElement(l)){const _=serializer(e.meta.get("referenced-element")),w=`${_}-${serializer(identityManager$3.identify(l))}`;this.refractCache.has(w)?l=this.refractCache.get(w):isReferenceLikeElement$3(l)?(l=Reference$5.refract(l),l.setMetaProperty("referenced-element",_),this.refractCache.set(w,l)):(l=this.namespace.getElementClass(_).refract(l),this.refractCache.set(w,l))}if(e===l)throw new ApiDOMError("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const _=new RefElement(l.id,{type:"reference",uri:h.uri,$ref:serializer(e.$ref)}),x=((b=(E=this.options.dereference.strategyOpts["openapi-2"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(_);return a.replaceWith(x,mutationReplacer$3),r?!1:x}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isReferenceElement$4(l)||S)&&!c.includesCycle(l)){u.add(e);const _=new OpenAPI2DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$7(l,_,{keyMap:keyMap$7,nodeTypeGetter:getNodeType$7}),u.delete(e)}this.indirections.pop();const y=cloneShallow(l);return y.setMetaProperty("id",identityManager$3.generateId()),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$3.identify(e))),a.replaceWith(y,mutationReplacer$3),r?!1:y}async PathItemElement(e,s,r,n,o,a){if(!isStringElement(e.$ref))return;if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager$3.identify(l),isPrimitiveElement(l)){const y=`pathItem-${serializer(identityManager$3.identify(l))}`;this.refractCache.has(y)?l=this.refractCache.get(y):(l=PathItem$2.refract(l),this.refractCache.set(y,l))}if(e===l)throw new ApiDOMError("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const y=new RefElement(l.id,{type:"path-item",uri:h.uri,$ref:serializer(e.$ref)}),w=((b=(E=this.options.dereference.strategyOpts["openapi-2"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(y);return a.replaceWith(w,mutationReplacer$3),r?!1:w}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isPathItemElement$2(l)&&isStringElement(l.$ref)||S)&&!c.includesCycle(l)){u.add(e);const y=new OpenAPI2DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$7(l,y,{keyMap:keyMap$7,nodeTypeGetter:getNodeType$7}),u.delete(e)}if(this.indirections.pop(),isPathItemElement$2(l)){const y=new PathItem$2([...l.content],cloneDeep(l.meta),cloneDeep(l.attributes));y.setMetaProperty("id",identityManager$3.generateId()),e.forEach((_,w,x)=>{y.remove(serializer(w)),y.content.push(x)}),y.remove("$ref"),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$3.identify(e))),l=y}return a.replaceWith(l,mutationReplacer$3),r?void 0:l}async JSONReferenceElement(e,s,r,n,o,a){if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return!1;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager$3.identify(l),isPrimitiveElement(l)){const _=serializer(e.meta.get("referenced-element")),w=`path-item-${serializer(identityManager$3.identify(l))}`;this.refractCache.has(w)?l=this.refractCache.get(w):isJSONReferenceLikeElement(l)?(l=Reference$5.refract(l),l.setMetaProperty("referenced-element",_),this.refractCache.set(w,l)):(l=this.namespace.getElementClass(_).refract(l),this.refractCache.set(w,l))}if(e===l)throw new ApiDOMError("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const _=new RefElement(l.id,{type:"json-reference",uri:h.uri,$ref:serializer(e.$ref)}),x=((b=(E=this.options.dereference.strategyOpts["openapi-2"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(_);return a.replaceWith(x,mutationReplacer$3),r?!1:x}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isJSONReferenceElement(l)||S)&&!c.includesCycle(l)){u.add(e);const _=new OpenAPI2DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$7(l,_,{keyMap:keyMap$7,nodeTypeGetter:getNodeType$7}),u.delete(e)}this.indirections.pop();const y=cloneShallow(l);return y.setMetaProperty("id",identityManager$3.generateId()),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$3.identify(e))),a.replaceWith(y,mutationReplacer$3),r?!1:y}}const visitAsync$6=visit$1[Symbol.for("nodejs.util.promisify.custom")];class OpenAPI2DereferenceStrategy extends DereferenceStrategy{constructor(e){super({...e??{},name:"openapi-2"})}canDereference(e){var s;return e.mediaType!=="text/plain"?mediaTypes$5.includes(e.mediaType):isSwaggerElement((s=e.parseResult)===null||s===void 0?void 0:s.api)}async dereference(e,s){var r;const n=createNamespace(openApi2),o=(r=s.dereference.refSet)!==null&&r!==void 0?r:new ReferenceSet,a=new ReferenceSet;let c=o,u;o.has(e.uri)?u=o.find(m=>m.uri===e.uri):(u=new Reference({uri:e.uri,value:e.parseResult}),o.add(u)),s.dereference.immutable&&(o.refs.map(m=>new Reference({...m,value:cloneDeep(m.value)})).forEach(m=>a.add(m)),u=a.find(m=>m.uri===e.uri),c=a);const p=new OpenAPI2DereferenceVisitor({reference:u,namespace:n,options:s}),d=await visitAsync$6(c.rootRef.value,p,{keyMap:keyMap$7,nodeTypeGetter:getNodeType$7});return s.dereference.immutable&&(a.refs.filter(m=>m.uri.startsWith("immutable://")).map(m=>new Reference({...m,uri:m.uri.replace(/^immutable:\/\//,"")})).forEach(m=>o.add(m)),u=o.find(m=>m.uri===e.uri),c=o),s.dereference.refSet===null&&o.clean(),a.clean(),d}}const visitAsync$5=visit$1[Symbol.for("nodejs.util.promisify.custom")],identityManager$2=new IdentityManager,mutationReplacer$2=(t,e,s,r)=>{isMemberElement(r)?r.value=t:Array.isArray(r)&&(r[s]=t)};class OpenAPI3_0DereferenceVisitor{indirections;namespace;reference;options;ancestors;refractCache;constructor({reference:e,namespace:s,options:r,indirections:n=[],ancestors:o=new AncestorLineage,refractCache:a=new Map}){this.indirections=n,this.namespace=s,this.reference=e,this.options=r,this.ancestors=new AncestorLineage(...o),this.refractCache=a}toBaseURI(e){return resolve(this.reference.uri,sanitize(stripHash(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new MaximumResolveDepthError(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const s=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(s))return r.find(propEq(s,"uri"));const n=await parse$1(unsanitize(s),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),o=new Reference({uri:s,value:cloneDeep(n),depth:this.reference.depth+1});if(r.add(o),this.options.dereference.immutable){const a=new Reference({uri:`immutable://${s}`,value:n,depth:this.reference.depth+1});r.add(a)}return o}toAncestorLineage(e){const s=new Set(e.filter(isElement));return[new AncestorLineage(...this.ancestors,s),s]}async ReferenceElement(e,s,r,n,o,a){if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return!1;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager$2.identify(l),isPrimitiveElement(l)){const _=serializer(e.meta.get("referenced-element")),w=`${_}-${serializer(identityManager$2.identify(l))}`;this.refractCache.has(w)?l=this.refractCache.get(w):isReferenceLikeElement$2(l)?(l=Reference$4.refract(l),l.setMetaProperty("referenced-element",_),this.refractCache.set(w,l)):(l=this.namespace.getElementClass(_).refract(l),this.refractCache.set(w,l))}if(e===l)throw new ApiDOMError("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const _=new RefElement(l.id,{type:"reference",uri:h.uri,$ref:serializer(e.$ref)}),x=((b=(E=this.options.dereference.strategyOpts["openapi-3-0"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(_);return a.replaceWith(x,mutationReplacer$2),r?!1:x}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isReferenceElement$3(l)||S)&&!c.includesCycle(l)){u.add(e);const _=new OpenAPI3_0DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$5(l,_,{keyMap:keyMap$6,nodeTypeGetter:getNodeType$6}),u.delete(e)}this.indirections.pop();const y=cloneShallow(l);return y.setMetaProperty("id",identityManager$2.generateId()),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$2.identify(e))),a.replaceWith(y,mutationReplacer$2),r?!1:y}async PathItemElement(e,s,r,n,o,a){if(!isStringElement(e.$ref))return;if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager$2.identify(l),!isPathItemElement$1(l)){const y=`path-item-${serializer(identityManager$2.identify(l))}`;this.refractCache.has(y)?l=this.refractCache.get(y):(l=PathItem$1.refract(l),this.refractCache.set(y,l))}if(e===l)throw new ApiDOMError("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const y=new RefElement(l.id,{type:"path-item",uri:h.uri,$ref:serializer(e.$ref)}),w=((b=(E=this.options.dereference.strategyOpts["openapi-3-0"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(y);return a.replaceWith(w,mutationReplacer$2),r?void 0:w}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isPathItemElement$1(l)&&isStringElement(l.$ref)||S)&&!c.includesCycle(l)){u.add(e);const y=new OpenAPI3_0DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$5(l,y,{keyMap:keyMap$6,nodeTypeGetter:getNodeType$6}),u.delete(e)}if(this.indirections.pop(),isPathItemElement$1(l)){const y=new PathItem$1([...l.content],cloneDeep(l.meta),cloneDeep(l.attributes));y.setMetaProperty("id",identityManager$2.generateId()),e.forEach((_,w,x)=>{y.remove(serializer(w)),y.content.push(x)}),y.remove("$ref"),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$2.identify(e))),l=y}return a.replaceWith(l,mutationReplacer$2),r?void 0:l}async LinkElement(e,s,r,n,o,a){if(!isStringElement(e.operationRef)&&!isStringElement(e.operationId))return;if(isStringElement(e.operationRef)&&isStringElement(e.operationId))throw new ApiDOMError("LinkElement operationRef and operationId fields are mutually exclusive.");let c;if(isStringElement(e.operationRef)){var u;const d=uriToPointer(serializer(e.operationRef)),m=this.toBaseURI(serializer(e.operationRef)),h=stripHash(this.reference.uri)===m,g=!h;if(!this.options.resolve.internal&&h||!this.options.resolve.external&&g)return;const v=await this.toReference(serializer(e.operationRef));if(c=evaluate$3(d,v.value.result),isPrimitiveElement(c)){const b=`operation-${serializer(identityManager$2.identify(c))}`;this.refractCache.has(b)?c=this.refractCache.get(b):(c=Operation$2.refract(c),this.refractCache.set(b,c))}c=cloneShallow(c),c.setMetaProperty("ref-origin",v.uri);const l=cloneShallow(e);return(u=l.operationRef)===null||u===void 0||u.meta.set("operation",c),a.replaceWith(l,mutationReplacer$2),r?void 0:l}if(isStringElement(e.operationId)){var p;const d=serializer(e.operationId),m=await this.toReference(unsanitize(this.reference.uri));if(c=find(g=>isOperationElement$2(g)&&isElement(g.operationId)&&g.operationId.equals(d),m.value.result),isUndefined$1(c))throw new ApiDOMError(`OperationElement(operationId=${d}) not found.`);const h=cloneShallow(e);return(p=h.operationId)===null||p===void 0||p.meta.set("operation",c),a.replaceWith(h,mutationReplacer$2),r?void 0:h}}async ExampleElement(e,s,r,n,o,a){if(!isStringElement(e.externalValue))return;if(e.hasKey("value")&&isStringElement(e.externalValue))throw new ApiDOMError("ExampleElement value and externalValue fields are mutually exclusive.");const c=this.toBaseURI(serializer(e.externalValue)),u=stripHash(this.reference.uri)===c,p=!u;if(!this.options.resolve.internal&&u||!this.options.resolve.external&&p)return;const d=await this.toReference(serializer(e.externalValue)),m=cloneShallow(d.value.result);m.setMetaProperty("ref-origin",d.uri);const h=cloneShallow(e);return h.value=m,a.replaceWith(h,mutationReplacer$2),r?void 0:h}}const visitAsync$4=visit$1[Symbol.for("nodejs.util.promisify.custom")];class OpenAPI3_0DereferenceStrategy extends DereferenceStrategy{constructor(e){super({...e??{},name:"openapi-3-0"})}canDereference(e){var s;return e.mediaType!=="text/plain"?mediaTypes$4.includes(e.mediaType):isOpenApi3_0Element((s=e.parseResult)===null||s===void 0?void 0:s.api)}async dereference(e,s){var r;const n=createNamespace(openApi3_0),o=(r=s.dereference.refSet)!==null&&r!==void 0?r:new ReferenceSet,a=new ReferenceSet;let c=o,u;o.has(e.uri)?u=o.find(m=>m.uri===e.uri):(u=new Reference({uri:e.uri,value:e.parseResult}),o.add(u)),s.dereference.immutable&&(o.refs.map(m=>new Reference({...m,value:cloneDeep(m.value)})).forEach(m=>a.add(m)),u=a.find(m=>m.uri===e.uri),c=a);const p=new OpenAPI3_0DereferenceVisitor({reference:u,namespace:n,options:s}),d=await visitAsync$4(c.rootRef.value,p,{keyMap:keyMap$6,nodeTypeGetter:getNodeType$6});return s.dereference.immutable&&a.refs.filter(m=>m.uri.startsWith("immutable://")).map(m=>new Reference({...m,uri:m.uri.replace(/^immutable:\/\//,"")})).forEach(m=>o.add(m)),s.dereference.refSet===null&&o.clean(),a.clean(),d}}class JsonSchema$anchorError extends ApiDOMError{}class EvaluationJsonSchema$anchorError extends JsonSchema$anchorError{}class InvalidJsonSchema$anchorError extends JsonSchema$anchorError{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}const isAnchor=t=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(t),uriToAnchor=t=>{const e=getHash(t);return trimCharsStart("#",e)},parse=t=>{if(!isAnchor(t))throw new InvalidJsonSchema$anchorError(t);return t},evaluate$1=(t,e)=>{const s=parse(t),r=find(n=>isSchemaElement$1(n)&&serializer(n.$anchor)===s,e);if(isUndefined$1(r))throw new EvaluationJsonSchema$anchorError(`Evaluation failed on token: "${s}"`);return r};class JsonSchemaUriError extends ApiDOMError{}class EvaluationJsonSchemaUriError extends JsonSchemaUriError{}const resolveSchema$refField=(t,e)=>{if(typeof e.$ref>"u")return;const s=getHash(serializer(e.$ref)),r=serializer(e.meta.get("inherited$id"));return`${reduce((o,a)=>resolve(o,sanitize(stripHash(a))),t,[...r,serializer(e.$ref)])}${s==="#"?"":s}`},resolveSchema$idField=(t,e)=>{if(typeof e.$id>"u")return;const s=serializer(e.meta.get("inherited$id"));return reduce((r,n)=>resolve(r,sanitize(stripHash(n))),t,[...s,serializer(e.$id)])},refractToSchemaElement=t=>{if(refractToSchemaElement.cache.has(t))return refractToSchemaElement.cache.get(t);const e=Schema$1.refract(t);return refractToSchemaElement.cache.set(t,e),e};refractToSchemaElement.cache=new WeakMap;const maybeRefractToSchemaElement=t=>isPrimitiveElement(t)?refractToSchemaElement(t):t,evaluate=(t,e)=>{const{cache:s}=evaluate,r=stripHash(t),n=u=>isSchemaElement$1(u)&&typeof u.$id<"u";if(!s.has(e)){const u=filter$1(n,e);s.set(e,Array.from(u))}const o=s.get(e).find(u=>resolveSchema$idField(r,u)===r);if(isUndefined$1(o))throw new EvaluationJsonSchemaUriError(`Evaluation failed on URI: "${t}"`);let a,c;return isAnchor(uriToAnchor(t))?(a=evaluate$1,c=uriToAnchor(t)):(a=evaluate$3,c=uriToPointer(t)),a(c,o)};evaluate.cache=new WeakMap;const visitAsync$3=visit$1[Symbol.for("nodejs.util.promisify.custom")],identityManager$1=new IdentityManager,mutationReplacer$1=(t,e,s,r)=>{isMemberElement(r)?r.value=t:Array.isArray(r)&&(r[s]=t)};class OpenAPI3_1DereferenceVisitor{indirections;namespace;reference;options;ancestors;refractCache;constructor({reference:e,namespace:s,options:r,indirections:n=[],ancestors:o=new AncestorLineage,refractCache:a=new Map}){this.indirections=n,this.namespace=s,this.reference=e,this.options=r,this.ancestors=new AncestorLineage(...o),this.refractCache=a}toBaseURI(e){return resolve(this.reference.uri,sanitize(stripHash(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new MaximumResolveDepthError(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const s=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(s))return r.find(propEq(s,"uri"));const n=await parse$1(unsanitize(s),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),o=new Reference({uri:s,value:cloneDeep(n),depth:this.reference.depth+1});if(r.add(o),this.options.dereference.immutable){const a=new Reference({uri:`immutable://${s}`,value:n,depth:this.reference.depth+1});r.add(a)}return o}toAncestorLineage(e){const s=new Set(e.filter(isElement));return[new AncestorLineage(...this.ancestors,s),s]}async ReferenceElement(e,s,r,n,o,a){if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return!1;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager$1.identify(l),isPrimitiveElement(l)){const _=serializer(e.meta.get("referenced-element")),w=`${_}-${serializer(identityManager$1.identify(l))}`;this.refractCache.has(w)?l=this.refractCache.get(w):isReferenceLikeElement$2(l)?(l=Reference$3.refract(l),l.setMetaProperty("referenced-element",_),this.refractCache.set(w,l)):(l=this.namespace.getElementClass(_).refract(l),this.refractCache.set(w,l))}if(e===l)throw new ApiDOMError("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const _=new RefElement(l.id,{type:"reference",uri:h.uri,$ref:serializer(e.$ref)}),x=((b=(E=this.options.dereference.strategyOpts["openapi-3-1"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(_);return a.replaceWith(x,mutationReplacer$1),r?!1:x}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isReferenceElement$2(l)||S)&&!c.includesCycle(l)){u.add(e);const _=new OpenAPI3_1DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$3(l,_,{keyMap:keyMap$5,nodeTypeGetter:getNodeType$5}),u.delete(e)}this.indirections.pop();const y=cloneShallow(l);return y.setMetaProperty("id",identityManager$1.generateId()),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref),description:serializer(e.description),summary:serializer(e.summary)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$1.identify(e))),isObjectElement(l)&&isObjectElement(y)&&(e.hasKey("description")&&"description"in l&&(y.remove("description"),y.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in l&&(y.remove("summary"),y.set("summary",e.get("summary")))),a.replaceWith(y,mutationReplacer$1),r?!1:y}async PathItemElement(e,s,r,n,o,a){if(!isStringElement(e.$ref))return;if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager$1.identify(l),isPrimitiveElement(l)){const y=`path-item-${serializer(identityManager$1.identify(l))}`;this.refractCache.has(y)?l=this.refractCache.get(y):(l=PathItem.refract(l),this.refractCache.set(y,l))}if(e===l)throw new ApiDOMError("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const y=new RefElement(l.id,{type:"path-item",uri:h.uri,$ref:serializer(e.$ref)}),w=((b=(E=this.options.dereference.strategyOpts["openapi-3-1"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(y);return a.replaceWith(w,mutationReplacer$1),r?!1:w}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isPathItemElement(l)&&isStringElement(l.$ref)||S)&&!c.includesCycle(l)){u.add(e);const y=new OpenAPI3_1DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$3(l,y,{keyMap:keyMap$5,nodeTypeGetter:getNodeType$5}),u.delete(e)}if(this.indirections.pop(),isPathItemElement(l)){const y=new PathItem([...l.content],cloneDeep(l.meta),cloneDeep(l.attributes));y.setMetaProperty("id",identityManager$1.generateId()),e.forEach((_,w,x)=>{y.remove(serializer(w)),y.content.push(x)}),y.remove("$ref"),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$1.identify(e))),l=y}return a.replaceWith(l,mutationReplacer$1),r?void 0:l}async LinkElement(e,s,r,n,o,a){if(!isStringElement(e.operationRef)&&!isStringElement(e.operationId))return;if(isStringElement(e.operationRef)&&isStringElement(e.operationId))throw new ApiDOMError("LinkElement operationRef and operationId fields are mutually exclusive.");let c;if(isStringElement(e.operationRef)){var u;const d=uriToPointer(serializer(e.operationRef)),m=this.toBaseURI(serializer(e.operationRef)),h=stripHash(this.reference.uri)===m,g=!h;if(!this.options.resolve.internal&&h||!this.options.resolve.external&&g)return;const v=await this.toReference(serializer(e.operationRef));if(c=evaluate$3(d,v.value.result),isPrimitiveElement(c)){const b=`operation-${serializer(identityManager$1.identify(c))}`;this.refractCache.has(b)?c=this.refractCache.get(b):(c=Operation$1.refract(c),this.refractCache.set(b,c))}c=cloneShallow(c),c.setMetaProperty("ref-origin",v.uri);const l=cloneShallow(e);return(u=l.operationRef)===null||u===void 0||u.meta.set("operation",c),a.replaceWith(l,mutationReplacer$1),r?void 0:l}if(isStringElement(e.operationId)){var p;const d=serializer(e.operationId),m=await this.toReference(unsanitize(this.reference.uri));if(c=find(g=>isOperationElement$1(g)&&isElement(g.operationId)&&g.operationId.equals(d),m.value.result),isUndefined$1(c))throw new ApiDOMError(`OperationElement(operationId=${d}) not found.`);const h=cloneShallow(e);return(p=h.operationId)===null||p===void 0||p.meta.set("operation",c),a.replaceWith(h,mutationReplacer$1),r?void 0:h}}async ExampleElement(e,s,r,n,o,a){if(!isStringElement(e.externalValue))return;if(e.hasKey("value")&&isStringElement(e.externalValue))throw new ApiDOMError("ExampleElement value and externalValue fields are mutually exclusive.");const c=this.toBaseURI(serializer(e.externalValue)),u=stripHash(this.reference.uri)===c,p=!u;if(!this.options.resolve.internal&&u||!this.options.resolve.external&&p)return;const d=await this.toReference(serializer(e.externalValue)),m=cloneShallow(d.value.result);m.setMetaProperty("ref-origin",d.uri);const h=cloneShallow(e);return h.value=m,a.replaceWith(h,mutationReplacer$1),r?void 0:h}async SchemaElement(e,s,r,n,o,a){if(!isStringElement(e.$ref))return;if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]);let p=await this.toReference(unsanitize(this.reference.uri)),{uri:d}=p;const m=resolveSchema$refField(d,e),h=stripHash(m),g=new File({uri:h}),v=none(x=>x.canRead(g),this.options.resolve.resolvers),l=!v;let b=stripHash(this.reference.uri)===m,E=!b;this.indirections.push(e);let f;try{if(v||l){d=this.toBaseURI(m);const x=m,A=maybeRefractToSchemaElement(p.value.result);if(f=evaluate(x,A),f=maybeRefractToSchemaElement(f),f.id=identityManager$1.identify(f),!this.options.resolve.internal&&b||!this.options.resolve.external&&E)return}else{if(d=this.toBaseURI(m),b=stripHash(this.reference.uri)===d,E=!b,!this.options.resolve.internal&&b||!this.options.resolve.external&&E)return;p=await this.toReference(unsanitize(m));const x=uriToPointer(m),A=maybeRefractToSchemaElement(p.value.result);f=evaluate$3(x,A),f=maybeRefractToSchemaElement(f),f.id=identityManager$1.identify(f)}}catch(x){if(l&&x instanceof EvaluationJsonSchemaUriError)if(isAnchor(uriToAnchor(m))){if(b=stripHash(this.reference.uri)===d,E=!b,!this.options.resolve.internal&&b||!this.options.resolve.external&&E)return;p=await this.toReference(unsanitize(m));const A=uriToAnchor(m),V=maybeRefractToSchemaElement(p.value.result);f=evaluate$1(A,V),f=maybeRefractToSchemaElement(f),f.id=identityManager$1.identify(f)}else{if(d=this.toBaseURI(m),b=stripHash(this.reference.uri)===d,E=!b,!this.options.resolve.internal&&b||!this.options.resolve.external&&E)return;p=await this.toReference(unsanitize(m));const A=uriToPointer(m),V=maybeRefractToSchemaElement(p.value.result);f=evaluate$3(A,V),f=maybeRefractToSchemaElement(f),f.id=identityManager$1.identify(f)}else throw x}if(e===f)throw new ApiDOMError("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(f)){if(p.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var S,y;const x=new RefElement(f.id,{type:"json-schema",uri:p.uri,$ref:serializer(e.$ref)}),V=((S=(y=this.options.dereference.strategyOpts["openapi-3-1"])===null||y===void 0?void 0:y.circularReplacer)!==null&&S!==void 0?S:this.options.dereference.circularReplacer)(x);return a.replaceWith(V,mutationReplacer$1),r?!1:V}}const _=stripHash(p.refSet.rootRef.uri)!==p.uri,w=["error","replace"].includes(this.options.dereference.circular);if((E||_||isSchemaElement$1(f)&&isStringElement(f.$ref)||w)&&!c.includesCycle(f)){u.add(e);const x=new OpenAPI3_1DereferenceVisitor({reference:p,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});f=await visitAsync$3(f,x,{keyMap:keyMap$5,nodeTypeGetter:getNodeType$5}),u.delete(e)}if(this.indirections.pop(),isBooleanJsonSchemaElement$1(f)){const x=cloneDeep(f);return x.setMetaProperty("id",identityManager$1.generateId()),x.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),x.setMetaProperty("ref-origin",p.uri),x.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$1.identify(e))),a.replaceWith(x,mutationReplacer$1),r?!1:x}if(isSchemaElement$1(f)){const x=new Schema$1([...f.content],cloneDeep(f.meta),cloneDeep(f.attributes));x.setMetaProperty("id",identityManager$1.generateId()),e.forEach((A,V,k)=>{x.remove(serializer(V)),x.content.push(k)}),x.remove("$ref"),x.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),x.setMetaProperty("ref-origin",p.uri),x.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager$1.identify(e))),f=x}return a.replaceWith(f,mutationReplacer$1),r?void 0:f}}const visitAsync$2=visit$1[Symbol.for("nodejs.util.promisify.custom")];class OpenAPI3_1DereferenceStrategy extends DereferenceStrategy{constructor(e){super({...e??{},name:"openapi-3-1"})}canDereference(e){var s;return e.mediaType!=="text/plain"?mediaTypes$3.includes(e.mediaType):isOpenApi3_1Element((s=e.parseResult)===null||s===void 0?void 0:s.result)}async dereference(e,s){var r;const n=createNamespace(openApi3_1),o=(r=s.dereference.refSet)!==null&&r!==void 0?r:new ReferenceSet,a=new ReferenceSet;let c=o,u;o.has(e.uri)?u=o.find(propEq(e.uri,"uri")):(u=new Reference({uri:e.uri,value:e.parseResult}),o.add(u)),s.dereference.immutable&&(o.refs.map(m=>new Reference({...m,value:cloneDeep(m.value)})).forEach(m=>a.add(m)),u=a.find(m=>m.uri===e.uri),c=a);const p=new OpenAPI3_1DereferenceVisitor({reference:u,namespace:n,options:s}),d=await visitAsync$2(c.rootRef.value,p,{keyMap:keyMap$5,nodeTypeGetter:getNodeType$5});return s.dereference.immutable&&a.refs.filter(m=>m.uri.startsWith("immutable://")).map(m=>new Reference({...m,uri:m.uri.replace(/^immutable:\/\//,"")})).forEach(m=>o.add(m)),s.dereference.refSet===null&&o.clean(),a.clean(),d}}const visitAsync$1=visit$1[Symbol.for("nodejs.util.promisify.custom")],identityManager=new IdentityManager,mutationReplacer=(t,e,s,r)=>{isMemberElement(r)?r.value=t:Array.isArray(r)&&(r[s]=t)};class AsyncAPI2DereferenceVisitor{indirections;namespace;reference;options;ancestors;refractCache;constructor({reference:e,namespace:s,options:r,indirections:n=[],ancestors:o=new AncestorLineage,refractCache:a=new Map}){this.indirections=n,this.namespace=s,this.reference=e,this.options=r,this.ancestors=new AncestorLineage(...o),this.refractCache=a}toBaseURI(e){return resolve(this.reference.uri,sanitize(stripHash(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new MaximumResolveDepthError(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const s=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(s))return r.find(propEq(s,"uri"));const n=await parse$1(unsanitize(s),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),o=new Reference({uri:s,value:cloneDeep(n),depth:this.reference.depth+1});if(r.add(o),this.options.dereference.immutable){const a=new Reference({uri:`immutable://${s}`,value:n,depth:this.reference.depth+1});r.add(a)}return o}toAncestorLineage(e){const s=new Set(e.filter(isElement));return[new AncestorLineage(...this.ancestors,s),s]}async ReferenceElement(e,s,r,n,o,a){if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return!1;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager.identify(l),isPrimitiveElement(l)){const _=serializer(e.meta.get("referenced-element")),w=`${_}-${serializer(identityManager.identify(l))}`;this.refractCache.has(w)?l=this.refractCache.get(w):isReferenceLikeElement$1(l)?(l=Reference$2.refract(l),l.setMetaProperty("referenced-element",_),this.refractCache.set(w,l)):(l=this.namespace.getElementClass(_).refract(l),this.refractCache.set(w,l))}if(e===l)throw new ApiDOMError("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const _=new RefElement(l.id,{type:"reference",uri:h.uri,$ref:serializer(e.$ref)}),x=((b=(E=this.options.dereference.strategyOpts["asyncapi-2"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(_);return a.replaceWith(x,mutationReplacer),r?!1:x}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isReferenceElement$1(l)||S)&&!c.includesCycle(l)){u.add(e);const _=new AsyncAPI2DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$1(l,_,{keyMap:keyMap$2,nodeTypeGetter:getNodeType$2}),u.delete(e)}if(this.indirections.pop(),isBooleanJsonSchemaElement(l)){const _=cloneDeep(l);return _.setMetaProperty("id",identityManager.generateId()),_.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),_.setMetaProperty("ref-origin",h.uri),_.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager.identify(e))),a.replaceWith(_,mutationReplacer),r?!1:_}const y=cloneShallow(l);return y.setMetaProperty("id",identityManager.generateId()),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager.identify(e))),a.replaceWith(y,mutationReplacer),r?!1:y}async ChannelItemElement(e,s,r,n,o,a){if(!isStringElement(e.$ref))return;if(this.indirections.includes(e))return!1;const[c,u]=this.toAncestorLineage([...o,r]),p=this.toBaseURI(serializer(e.$ref)),d=stripHash(this.reference.uri)===p,m=!d;if(!this.options.resolve.internal&&d||!this.options.resolve.external&&m)return;const h=await this.toReference(serializer(e.$ref)),g=resolve(p,serializer(e.$ref));this.indirections.push(e);const v=uriToPointer(g);let l=evaluate$3(v,h.value.result);if(l.id=identityManager.identify(l),isPrimitiveElement(l)){const y=`channel-item-${serializer(identityManager.identify(l))}`;this.refractCache.has(y)?l=this.refractCache.get(y):(l=ChannelItem.refract(l),this.refractCache.set(y,l))}if(e===l)throw new ApiDOMError("Recursive Channel Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new MaximumDereferenceDepthError(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(c.includes(l)){if(h.refSet.circular=!0,this.options.dereference.circular==="error")throw new ApiDOMError("Circular reference detected");if(this.options.dereference.circular==="replace"){var b,E;const y=new RefElement(l.id,{type:"channel-item",uri:h.uri,$ref:serializer(e.$ref)}),w=((b=(E=this.options.dereference.strategyOpts["asyncapi-2"])===null||E===void 0?void 0:E.circularReplacer)!==null&&b!==void 0?b:this.options.dereference.circularReplacer)(y);return a.replaceWith(w,mutationReplacer),r?void 0:w}}const f=stripHash(h.refSet.rootRef.uri)!==h.uri,S=["error","replace"].includes(this.options.dereference.circular);if((m||f||isChannelItemElement(l)&&isStringElement(l.$ref)||S)&&!c.includesCycle(l)){u.add(e);const y=new AsyncAPI2DereferenceVisitor({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:c});l=await visitAsync$1(l,y,{keyMap:keyMap$2,nodeTypeGetter:getNodeType$2}),u.delete(e)}if(this.indirections.pop(),isChannelItemElement(l)){const y=new ChannelItem([...l.content],cloneDeep(l.meta),cloneDeep(l.attributes));y.setMetaProperty("id",identityManager.generateId()),e.forEach((_,w,x)=>{y.remove(serializer(w)),y.content.push(x)}),y.remove("$ref"),y.setMetaProperty("ref-fields",{$ref:serializer(e.$ref)}),y.setMetaProperty("ref-origin",h.uri),y.setMetaProperty("ref-referencing-element-id",cloneDeep(identityManager.identify(e))),l=y}return a.replaceWith(l,mutationReplacer),r?void 0:l}}const visitAsync=visit$1[Symbol.for("nodejs.util.promisify.custom")];class AsyncAPI2DereferenceStrategy extends DereferenceStrategy{constructor(e){super({...e??{},name:"asyncapi-2"})}canDereference(e){var s;return e.mediaType!=="text/plain"?mediaTypes$2.includes(e.mediaType):isAsyncApi2Element((s=e.parseResult)===null||s===void 0?void 0:s.api)}async dereference(e,s){var r;const n=createNamespace(asyncApi2),o=(r=s.dereference.refSet)!==null&&r!==void 0?r:new ReferenceSet,a=new ReferenceSet;let c=o,u;o.has(e.uri)?u=o.find(m=>m.uri===e.uri):(u=new Reference({uri:e.uri,value:e.parseResult}),o.add(u)),s.dereference.immutable&&(o.refs.map(m=>new Reference({...m,value:cloneDeep(m.value)})).forEach(m=>a.add(m)),u=a.find(m=>m.uri===e.uri),c=a);const p=new AsyncAPI2DereferenceVisitor({reference:u,namespace:n,options:s}),d=await visitAsync(c.rootRef.value,p,{keyMap:keyMap$2,nodeTypeGetter:getNodeType$2});return s.dereference.immutable&&a.refs.filter(m=>m.uri.startsWith("immutable://")).map(m=>new Reference({...m,uri:m.uri.replace(/^immutable:\/\//,"")})).forEach(m=>o.add(m)),s.dereference.refSet===null&&o.clean(),a.clean(),d}}class BundleStrategy{name;constructor({name:e}){this.name=e}}class OpenAPI3_1BundleStrategy extends BundleStrategy{constructor(e){super({...e??{},name:"openapi-3-1"})}canBundle(e){var s;return e.mediaType!=="text/plain"?mediaTypes$3.includes(e.mediaType):isOpenApi3_1Element((s=e.parseResult)===null||s===void 0?void 0:s.result)}async bundle(e){return e.parseResult}}const defaultOptions={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:identity,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}};class UnmatchedResolveStrategyError extends ResolveError{}const resolveApiDOM$1=async(t,e)=>{let s=t;if(!isParseResultElement(t)){const a=cloneShallow(t);a.classes.push("result"),s=new ParseResult$1([a])}const r=sanitize(stripHash(e.resolve.baseURI)),n=new File({uri:r,parseResult:s,mediaType:e.parse.mediaType}),o=await filter("canResolve",[n,e],e.resolve.strategies);if(isEmpty(o))throw new UnmatchedResolveStrategyError(n.uri);try{const{result:a}=await run("resolve",[n,e],o);return a}catch(a){throw new ResolverError(`Error while resolving file "${n.uri}"`,{cause:a})}},dereferenceApiDOM$1=async(t,e)=>{let s=t,r=!1;if(!isParseResultElement(t)){const a=cloneShallow(t);a.classes.push("result"),s=new ParseResult$1([a]),r=!0}const n=new File({uri:e.resolve.baseURI,parseResult:s,mediaType:e.parse.mediaType}),o=await filter("canDereference",[n,e],e.dereference.strategies);if(isEmpty(o))throw new UnmatchedDereferenceStrategyError(n.uri);try{const{result:a}=await run("dereference",[n,e],o);return r?a.get(0):a}catch(a){throw new DereferenceError(`Error while dereferencing file "${n.uri}"`,{cause:a})}},readFile=async(t,e={})=>{const s=merge(defaultOptions,e),r=new File({uri:sanitize(t)});return readFile$1(r,s)},resolveApiDOM=async(t,e={})=>{const s=merge(defaultOptions,e);return resolveApiDOM$1(t,s)},dereferenceApiDOM=async(t,e={})=>{const s=merge(defaultOptions,e);return dereferenceApiDOM$1(t,s)};defaultOptions.parse.parsers=[new OpenAPIJSON2Parser({allowEmpty:!0,sourceMap:!1}),new OpenAPIYAML2Parser({allowEmpty:!0,sourceMap:!1}),new OpenAPIJSON3_0Parser({allowEmpty:!0,sourceMap:!1}),new OpenAPIYAML3_0Parser({allowEmpty:!0,sourceMap:!1}),new OpenAPIJSON3_1Parser({allowEmpty:!0,sourceMap:!1}),new OpenAPIYAML3_1Parser({allowEmpty:!0,sourceMap:!1}),new AsyncAPIJSON2Parser({allowEmpty:!0,sourceMap:!1}),new AsyncAPIYAML2Parser({allowEmpty:!0,sourceMap:!1}),new WorkflowsJSON1Parser({allowEmpty:!0,sourceMap:!1}),new WorkflowsYAML1Parser$1({allowEmpty:!0,sourceMap:!1}),new APIDesignSystemsJSONParser({allowEmpty:!0,sourceMap:!1}),new APIDesignSystemsYAMLParser({allowEmpty:!0,sourceMap:!1}),new ApiDOMJSONParser({allowEmpty:!0,sourceMap:!1}),new JSONParser({allowEmpty:!0,sourceMap:!1}),new WorkflowsYAML1Parser({allowEmpty:!0,sourceMap:!1}),new BinaryParser({allowEmpty:!0})],defaultOptions.resolve.resolvers=[new FileResolver,new HTTPResolverAxios({timeout:5e3,redirects:5,withCredentials:!1})],defaultOptions.resolve.strategies=[new OpenAPI2ResolveStrategy,new OpenAPI3_0ResolveStrategy,new OpenAPI3_1ResolveStrategy,new AsyncAPI2ResolveStrategy,new ApiDOMResolveStrategy],defaultOptions.dereference.strategies=[new OpenAPI2DereferenceStrategy,new OpenAPI3_0DereferenceStrategy,new OpenAPI3_1DereferenceStrategy,new AsyncAPI2DereferenceStrategy,new ApiDOMDereferenceStrategy],defaultOptions.bundle.strategies=[new OpenAPI3_1BundleStrategy];const parser=new ApiDOMParser().use(jsonAdapter).use(yamlAdapter).use(openapi2AdapterJson).use(openapi2AdapterYaml).use(openapi3_0AdapterJson).use(openapi3_0AdapterYaml).use(openapi3_1AdapterJson).use(openapi3_1AdapterYaml).use(asyncapi2AdapterJson).use(asyncapi2AdapterYaml).use(workflows1AdapterJson).use(workflows1AdapterYaml),service={async parse(t,{mediaType:e}){const s=await parser.findNamespace(t,{sourceMap:!0,mediaType:e}),r=await parser.parse(t,{sourceMap:!0,mediaType:e}),n=dehydrate(r,s);return JSON.stringify(n,void 0,2)},async readFile(t){const e=await readFile(t,{});return new File({uri:t,data:e}).toString()},async resolveApiDOM(t,{source:e,mediaType:s,baseURI:r}){const n=await parser.findNamespace(e,{mediaType:s}),o=fromFn(t,n);return resolveApiDOM(o,{parse:{mediaType:s},resolve:{baseURI:r}})},async dereferenceApiDOM(t,{source:e,mediaType:s,baseURI:r,interpreter:n}){const o=await parser.findNamespace(e,{mediaType:s}),a=fromFn(t,o),c=await dereferenceApiDOM(a.api,{parse:{mediaType:s},resolve:{baseURI:r}});if(n==="s-expression")return{dereferenced:sexprs(c),interpreter:n};if(n==="to-value"){const p=serializer(c);return{dereferenced:JSON.stringify(p,void 0,2),interpreter:n}}const u=dehydrate(c,o);return{dereferenced:JSON.stringify(u,void 0,2),interpreter:n}}};expose(service,globalThis)})();
